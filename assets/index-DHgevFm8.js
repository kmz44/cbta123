(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function a(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=a(c);fetch(c.href,u)}})();function vm(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var iu={exports:{}},ul={},ou={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function wm(){if(gp)return Ne;gp=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),f=Symbol.iterator;function j(L){return L===null||typeof L!="object"?null:(L=f&&L[f]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function T(L,V,ue){this.props=L,this.context=V,this.refs=k,this.updater=ue||S}T.prototype.isReactComponent={},T.prototype.setState=function(L,V){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,V,"setState")},T.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function I(){}I.prototype=T.prototype;function P(L,V,ue){this.props=L,this.context=V,this.refs=k,this.updater=ue||S}var E=P.prototype=new I;E.constructor=P,N(E,T.prototype),E.isPureReactComponent=!0;var B=Array.isArray,$=Object.prototype.hasOwnProperty,U={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function G(L,V,ue){var fe,je={},Se=null,$e=null;if(V!=null)for(fe in V.ref!==void 0&&($e=V.ref),V.key!==void 0&&(Se=""+V.key),V)$.call(V,fe)&&!H.hasOwnProperty(fe)&&(je[fe]=V[fe]);var Ee=arguments.length-2;if(Ee===1)je.children=ue;else if(1<Ee){for(var Oe=Array(Ee),zt=0;zt<Ee;zt++)Oe[zt]=arguments[zt+2];je.children=Oe}if(L&&L.defaultProps)for(fe in Ee=L.defaultProps,Ee)je[fe]===void 0&&(je[fe]=Ee[fe]);return{$$typeof:s,type:L,key:Se,ref:$e,props:je,_owner:U.current}}function re(L,V){return{$$typeof:s,type:L.type,key:V,ref:L.ref,props:L.props,_owner:L._owner}}function be(L){return typeof L=="object"&&L!==null&&L.$$typeof===s}function we(L){var V={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return V[ue]})}var Be=/\/+/g;function Te(L,V){return typeof L=="object"&&L!==null&&L.key!=null?we(""+L.key):V.toString(36)}function Xe(L,V,ue,fe,je){var Se=typeof L;(Se==="undefined"||Se==="boolean")&&(L=null);var $e=!1;if(L===null)$e=!0;else switch(Se){case"string":case"number":$e=!0;break;case"object":switch(L.$$typeof){case s:case t:$e=!0}}if($e)return $e=L,je=je($e),L=fe===""?"."+Te($e,0):fe,B(je)?(ue="",L!=null&&(ue=L.replace(Be,"$&/")+"/"),Xe(je,V,ue,"",function(zt){return zt})):je!=null&&(be(je)&&(je=re(je,ue+(!je.key||$e&&$e.key===je.key?"":(""+je.key).replace(Be,"$&/")+"/")+L)),V.push(je)),1;if($e=0,fe=fe===""?".":fe+":",B(L))for(var Ee=0;Ee<L.length;Ee++){Se=L[Ee];var Oe=fe+Te(Se,Ee);$e+=Xe(Se,V,ue,Oe,je)}else if(Oe=j(L),typeof Oe=="function")for(L=Oe.call(L),Ee=0;!(Se=L.next()).done;)Se=Se.value,Oe=fe+Te(Se,Ee++),$e+=Xe(Se,V,ue,Oe,je);else if(Se==="object")throw V=String(L),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return $e}function ye(L,V,ue){if(L==null)return L;var fe=[],je=0;return Xe(L,fe,"","",function(Se){return V.call(ue,Se,je++)}),fe}function Ie(L){if(L._status===-1){var V=L._result;V=V(),V.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=V)}if(L._status===1)return L._result.default;throw L._result}var Ce={current:null},D={transition:null},X={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:D,ReactCurrentOwner:U};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:ye,forEach:function(L,V,ue){ye(L,function(){V.apply(this,arguments)},ue)},count:function(L){var V=0;return ye(L,function(){V++}),V},toArray:function(L){return ye(L,function(V){return V})||[]},only:function(L){if(!be(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ne.Component=T,Ne.Fragment=a,Ne.Profiler=c,Ne.PureComponent=P,Ne.StrictMode=o,Ne.Suspense=x,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Ne.act=K,Ne.cloneElement=function(L,V,ue){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var fe=N({},L.props),je=L.key,Se=L.ref,$e=L._owner;if(V!=null){if(V.ref!==void 0&&(Se=V.ref,$e=U.current),V.key!==void 0&&(je=""+V.key),L.type&&L.type.defaultProps)var Ee=L.type.defaultProps;for(Oe in V)$.call(V,Oe)&&!H.hasOwnProperty(Oe)&&(fe[Oe]=V[Oe]===void 0&&Ee!==void 0?Ee[Oe]:V[Oe])}var Oe=arguments.length-2;if(Oe===1)fe.children=ue;else if(1<Oe){Ee=Array(Oe);for(var zt=0;zt<Oe;zt++)Ee[zt]=arguments[zt+2];fe.children=Ee}return{$$typeof:s,type:L.type,key:je,ref:Se,props:fe,_owner:$e}},Ne.createContext=function(L){return L={$$typeof:p,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:u,_context:L},L.Consumer=L},Ne.createElement=G,Ne.createFactory=function(L){var V=G.bind(null,L);return V.type=L,V},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:g,render:L}},Ne.isValidElement=be,Ne.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:Ie}},Ne.memo=function(L,V){return{$$typeof:b,type:L,compare:V===void 0?null:V}},Ne.startTransition=function(L){var V=D.transition;D.transition={};try{L()}finally{D.transition=V}},Ne.unstable_act=K,Ne.useCallback=function(L,V){return Ce.current.useCallback(L,V)},Ne.useContext=function(L){return Ce.current.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L){return Ce.current.useDeferredValue(L)},Ne.useEffect=function(L,V){return Ce.current.useEffect(L,V)},Ne.useId=function(){return Ce.current.useId()},Ne.useImperativeHandle=function(L,V,ue){return Ce.current.useImperativeHandle(L,V,ue)},Ne.useInsertionEffect=function(L,V){return Ce.current.useInsertionEffect(L,V)},Ne.useLayoutEffect=function(L,V){return Ce.current.useLayoutEffect(L,V)},Ne.useMemo=function(L,V){return Ce.current.useMemo(L,V)},Ne.useReducer=function(L,V,ue){return Ce.current.useReducer(L,V,ue)},Ne.useRef=function(L){return Ce.current.useRef(L)},Ne.useState=function(L){return Ce.current.useState(L)},Ne.useSyncExternalStore=function(L,V,ue){return Ce.current.useSyncExternalStore(L,V,ue)},Ne.useTransition=function(){return Ce.current.useTransition()},Ne.version="18.3.1",Ne}var xp;function qu(){return xp||(xp=1,ou.exports=wm()),ou.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function _m(){if(bp)return ul;bp=1;var s=qu(),t=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function p(g,x,b){var _,f={},j=null,S=null;b!==void 0&&(j=""+b),x.key!==void 0&&(j=""+x.key),x.ref!==void 0&&(S=x.ref);for(_ in x)o.call(x,_)&&!u.hasOwnProperty(_)&&(f[_]=x[_]);if(g&&g.defaultProps)for(_ in x=g.defaultProps,x)f[_]===void 0&&(f[_]=x[_]);return{$$typeof:t,type:g,key:j,ref:S,props:f,_owner:c.current}}return ul.Fragment=a,ul.jsx=p,ul.jsxs=p,ul}var yp;function jm(){return yp||(yp=1,iu.exports=_m()),iu.exports}var n=jm(),v=qu();const de=vm(v);var Jc={},lu={exports:{}},hr={},cu={exports:{}},du={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function Sm(){return vp||(vp=1,function(s){function t(D,X){var K=D.length;D.push(X);e:for(;0<K;){var L=K-1>>>1,V=D[L];if(0<c(V,X))D[L]=X,D[K]=V,K=L;else break e}}function a(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var X=D[0],K=D.pop();if(K!==X){D[0]=K;e:for(var L=0,V=D.length,ue=V>>>1;L<ue;){var fe=2*(L+1)-1,je=D[fe],Se=fe+1,$e=D[Se];if(0>c(je,K))Se<V&&0>c($e,je)?(D[L]=$e,D[Se]=K,L=Se):(D[L]=je,D[fe]=K,L=fe);else if(Se<V&&0>c($e,K))D[L]=$e,D[Se]=K,L=Se;else break e}}return X}function c(D,X){var K=D.sortIndex-X.sortIndex;return K!==0?K:D.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var p=Date,g=p.now();s.unstable_now=function(){return p.now()-g}}var x=[],b=[],_=1,f=null,j=3,S=!1,N=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(D){for(var X=a(b);X!==null;){if(X.callback===null)o(b);else if(X.startTime<=D)o(b),X.sortIndex=X.expirationTime,t(x,X);else break;X=a(b)}}function B(D){if(k=!1,E(D),!N)if(a(x)!==null)N=!0,Ie($);else{var X=a(b);X!==null&&Ce(B,X.startTime-D)}}function $(D,X){N=!1,k&&(k=!1,I(G),G=-1),S=!0;var K=j;try{for(E(X),f=a(x);f!==null&&(!(f.expirationTime>X)||D&&!we());){var L=f.callback;if(typeof L=="function"){f.callback=null,j=f.priorityLevel;var V=L(f.expirationTime<=X);X=s.unstable_now(),typeof V=="function"?f.callback=V:f===a(x)&&o(x),E(X)}else o(x);f=a(x)}if(f!==null)var ue=!0;else{var fe=a(b);fe!==null&&Ce(B,fe.startTime-X),ue=!1}return ue}finally{f=null,j=K,S=!1}}var U=!1,H=null,G=-1,re=5,be=-1;function we(){return!(s.unstable_now()-be<re)}function Be(){if(H!==null){var D=s.unstable_now();be=D;var X=!0;try{X=H(!0,D)}finally{X?Te():(U=!1,H=null)}}else U=!1}var Te;if(typeof P=="function")Te=function(){P(Be)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,ye=Xe.port2;Xe.port1.onmessage=Be,Te=function(){ye.postMessage(null)}}else Te=function(){T(Be,0)};function Ie(D){H=D,U||(U=!0,Te())}function Ce(D,X){G=T(function(){D(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(D){D.callback=null},s.unstable_continueExecution=function(){N||S||(N=!0,Ie($))},s.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<D?Math.floor(1e3/D):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_getFirstCallbackNode=function(){return a(x)},s.unstable_next=function(D){switch(j){case 1:case 2:case 3:var X=3;break;default:X=j}var K=j;j=X;try{return D()}finally{j=K}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(D,X){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var K=j;j=D;try{return X()}finally{j=K}},s.unstable_scheduleCallback=function(D,X,K){var L=s.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?L+K:L):K=L,D){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=K+V,D={id:_++,callback:X,priorityLevel:D,startTime:K,expirationTime:V,sortIndex:-1},K>L?(D.sortIndex=K,t(b,D),a(x)===null&&D===a(b)&&(k?(I(G),G=-1):k=!0,Ce(B,K-L))):(D.sortIndex=V,t(x,D),N||S||(N=!0,Ie($))),D},s.unstable_shouldYield=we,s.unstable_wrapCallback=function(D){var X=j;return function(){var K=j;j=X;try{return D.apply(this,arguments)}finally{j=K}}}}(du)),du}var wp;function km(){return wp||(wp=1,cu.exports=Sm()),cu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function Nm(){if(_p)return hr;_p=1;var s=qu(),t=km();function a(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function u(e,r){p(e,r),p(e+"Capture",r)}function p(e,r){for(c[e]=r,e=0;e<r.length;e++)o.add(r[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,b=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},f={};function j(e){return x.call(f,e)?!0:x.call(_,e)?!1:b.test(e)?f[e]=!0:(_[e]=!0,!1)}function S(e,r,i,l){if(i!==null&&i.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,r,i,l){if(r===null||typeof r>"u"||S(e,r,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function k(e,r,i,l,h,m,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=l,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=r,this.sanitizeURL=m,this.removeEmptyString=y}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];T[r]=new k(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function P(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(I,P);T[r]=new k(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(I,P);T[r]=new k(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(I,P);T[r]=new k(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function E(e,r,i,l){var h=T.hasOwnProperty(r)?T[r]:null;(h!==null?h.type!==0:l||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(N(r,i,h,l)&&(i=null),l||h===null?j(r)&&(i===null?e.removeAttribute(r):e.setAttribute(r,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(r=h.attributeName,l=h.attributeNamespace,i===null?e.removeAttribute(r):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,l?e.setAttributeNS(l,r,i):e.setAttribute(r,i))))}var B=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),U=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),be=Symbol.for("react.provider"),we=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),D=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,L;function V(e){if(L===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||""}return`
`+L+e}var ue=!1;function fe(e,r){if(!e||ue)return"";ue=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(M){var l=M}Reflect.construct(e,[],r)}else{try{r.call()}catch(M){l=M}e.call(r.prototype)}else{try{throw Error()}catch(M){l=M}e()}}catch(M){if(M&&l&&typeof M.stack=="string"){for(var h=M.stack.split(`
`),m=l.stack.split(`
`),y=h.length-1,C=m.length-1;1<=y&&0<=C&&h[y]!==m[C];)C--;for(;1<=y&&0<=C;y--,C--)if(h[y]!==m[C]){if(y!==1||C!==1)do if(y--,C--,0>C||h[y]!==m[C]){var R=`
`+h[y].replace(" at new "," at ");return e.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",e.displayName)),R}while(1<=y&&0<=C);break}}}finally{ue=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?V(e):""}function je(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=fe(e.type,!1),e;case 11:return e=fe(e.type.render,!1),e;case 1:return e=fe(e.type,!0),e;default:return""}}function Se(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case U:return"Portal";case re:return"Profiler";case G:return"StrictMode";case Te:return"Suspense";case Xe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case we:return(e.displayName||"Context")+".Consumer";case be:return(e._context.displayName||"Context")+".Provider";case Be:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return r=e.displayName||null,r!==null?r:Se(e.type)||"Memo";case Ie:r=e._payload,e=e._init;try{return Se(e(r))}catch{}}return null}function $e(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(r);case 8:return r===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ee(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oe(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function zt(e){var r=Oe(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,m=i.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(y){l=""+y,m.call(this,y)}}),Object.defineProperty(e,r,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Zt(e){e._valueTracker||(e._valueTracker=zt(e))}function _n(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var i=r.getValue(),l="";return e&&(l=Oe(e)?e.checked?"true":"false":e.value),e=l,e!==i?(r.setValue(e),!0):!1}function ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function za(e,r){var i=r.checked;return K({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Gs(e,r){var i=r.defaultValue==null?"":r.defaultValue,l=r.checked!=null?r.checked:r.defaultChecked;i=Ee(r.value!=null?r.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function El(e,r){r=r.checked,r!=null&&E(e,"checked",r,!1)}function nt(e,r){El(e,r);var i=Ee(r.value),l=r.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?as(e,r.type,i):r.hasOwnProperty("defaultValue")&&as(e,r.type,Ee(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Cr(e,r,i){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var l=r.type;if(!(l!=="submit"&&l!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,i||r===e.value||(e.value=r),e.defaultValue=r}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function as(e,r,i){(r!=="number"||ss(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Ks=Array.isArray;function me(e,r,i,l){if(e=e.options,r){r={};for(var h=0;h<i.length;h++)r["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=r.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Ee(i),r=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function bt(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(a(91));return K({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ao(e,r){var i=r.value;if(i==null){if(i=r.children,r=r.defaultValue,i!=null){if(r!=null)throw Error(a(92));if(Ks(i)){if(1<i.length)throw Error(a(93));i=i[0]}r=i}r==null&&(r=""),i=r}e._wrapperState={initialValue:Ee(i)}}function Tl(e,r){var i=Ee(r.value),l=Ee(r.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),r.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function Mr(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function is(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Js(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?is(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qs,io=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,i,l,h){MSApp.execUnsafeLocalFunction(function(){return e(r,i,l,h)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Qs=Qs||document.createElement("div"),Qs.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Ys(e,r){if(r){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=r;return}}e.textContent=r}var fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xs=["Webkit","ms","Moz","O"];Object.keys(fr).forEach(function(e){Xs.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),fr[r]=fr[e]})});function Ma(e,r,i){return r==null||typeof r=="boolean"||r===""?"":i||typeof r!="number"||r===0||fr.hasOwnProperty(e)&&fr[e]?(""+r).trim():r+"px"}function oo(e,r){e=e.style;for(var i in r)if(r.hasOwnProperty(i)){var l=i.indexOf("--")===0,h=Ma(i,r[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,h):e[i]=h}}var Al=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lo(e,r){if(r){if(Al[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(a(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(a(61))}if(r.style!=null&&typeof r.style!="object")throw Error(a(62))}}function Er(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jn=null;function Zs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qa=null,Sn=null,os=null;function ea(e){if(e=Hn(e)){if(typeof qa!="function")throw Error(a(280));var r=e.stateNode;r&&(r=ki(r),qa(e.stateNode,e.type,r))}}function ta(e){Sn?os?os.push(e):os=[e]:Sn=e}function Ha(){if(Sn){var e=Sn,r=os;if(os=Sn=null,ea(e),r)for(e=0;e<r.length;e++)ea(r[e])}}function co(e,r){return e(r)}function ra(){}var uo=!1;function Je(e,r,i){if(uo)return e(r,i);uo=!0;try{return co(e,r,i)}finally{uo=!1,(Sn!==null||os!==null)&&(ra(),Ha())}}function St(e,r){var i=e.stateNode;if(i===null)return null;var l=ki(i);if(l===null)return null;i=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,r,typeof i));return i}var Va=!1;if(g)try{var na={};Object.defineProperty(na,"passive",{get:function(){Va=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{Va=!1}function Tr(e,r,i,l,h,m,y,C,R){var M=Array.prototype.slice.call(arguments,3);try{r.apply(i,M)}catch(Q){this.onError(Q)}}var Ar=!1,ls=null,sa=!1,Wa=null,md={onError:function(e){Ar=!0,ls=e}};function er(e,r,i,l,h,m,y,C,R){Ar=!1,ls=null,Tr.apply(md,arguments)}function kn(e,r,i,l,h,m,y,C,R){if(er.apply(this,arguments),Ar){if(Ar){var M=ls;Ar=!1,ls=null}else throw Error(a(198));sa||(sa=!0,Wa=M)}}function qr(e){var r=e,i=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(i=r.return),e=r.return;while(e)}return r.tag===3?i:null}function ho(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function aa(e){if(qr(e)!==e)throw Error(a(188))}function gd(e){var r=e.alternate;if(!r){if(r=qr(e),r===null)throw Error(a(188));return r!==e?null:e}for(var i=e,l=r;;){var h=i.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){i=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===i)return aa(h),e;if(m===l)return aa(h),r;m=m.sibling}throw Error(a(188))}if(i.return!==l.return)i=h,l=m;else{for(var y=!1,C=h.child;C;){if(C===i){y=!0,i=h,l=m;break}if(C===l){y=!0,l=h,i=m;break}C=C.sibling}if(!y){for(C=m.child;C;){if(C===i){y=!0,i=m,l=h;break}if(C===l){y=!0,l=m,i=h;break}C=C.sibling}if(!y)throw Error(a(189))}}if(i.alternate!==l)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:r}function Nn(e){return e=gd(e),e!==null?Ga(e):null}function Ga(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=Ga(e);if(r!==null)return r;e=e.sibling}return null}var po=t.unstable_scheduleCallback,Rl=t.unstable_cancelCallback,on=t.unstable_shouldYield,ia=t.unstable_requestPaint,Qe=t.unstable_now,$l=t.unstable_getCurrentPriorityLevel,cs=t.unstable_ImmediatePriority,Pl=t.unstable_UserBlockingPriority,mr=t.unstable_NormalPriority,Ka=t.unstable_LowPriority,Rr=t.unstable_IdlePriority,oa=null,Ae=null;function gr(e){if(Ae&&typeof Ae.onCommitFiberRoot=="function")try{Ae.onCommitFiberRoot(oa,e,void 0,(e.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:Ja,Il=Math.log,Ol=Math.LN2;function Ja(e){return e>>>=0,e===0?32:31-(Il(e)/Ol|0)|0}var la=64,Qa=4194304;function $t(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hr(e,r){var i=e.pendingLanes;if(i===0)return 0;var l=0,h=e.suspendedLanes,m=e.pingedLanes,y=i&268435455;if(y!==0){var C=y&~h;C!==0?l=$t(C):(m&=y,m!==0&&(l=$t(m)))}else y=i&~h,y!==0?l=$t(y):m!==0&&(l=$t(m));if(l===0)return 0;if(r!==0&&r!==l&&!(r&h)&&(h=l&-l,m=r&-r,h>=m||h===16&&(m&4194240)!==0))return r;if(l&4&&(l|=i&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=l;0<r;)i=31-Rt(r),h=1<<i,l|=e[i],r&=~h;return l}function fo(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dl(e,r){for(var i=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes;0<m;){var y=31-Rt(m),C=1<<y,R=h[y];R===-1?(!(C&i)||C&l)&&(h[y]=fo(C,r)):R<=r&&(e.expiredLanes|=C),m&=~C}}function Ya(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ll(){var e=la;return la<<=1,!(la&4194240)&&(la=64),e}function Fe(e){for(var r=[],i=0;31>i;i++)r.push(e);return r}function Mt(e,r,i){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Rt(r),e[r]=i}function mo(e,r){var i=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-Rt(i),m=1<<h;r[h]=0,l[h]=-1,e[h]=-1,i&=~m}}function Xa(e,r){var i=e.entangledLanes|=r;for(e=e.entanglements;i;){var l=31-Rt(i),h=1<<l;h&r|e[l]&r&&(e[l]|=r),i&=~h}}var Re=0;function go(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xo,ca,da,Bl,Cn,ua=!1,ha=[],ln=null,pt=null,qt=null,En=new Map,ds=new Map,xr=[],xd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lt(e,r){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":pt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":En.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(r.pointerId)}}function Ht(e,r,i,l,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:r,domEventName:i,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},r!==null&&(r=Hn(r),r!==null&&ca(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function Ul(e,r,i,l,h){switch(r){case"focusin":return ln=Ht(ln,e,r,i,l,h),!0;case"dragenter":return pt=Ht(pt,e,r,i,l,h),!0;case"mouseover":return qt=Ht(qt,e,r,i,l,h),!0;case"pointerover":var m=h.pointerId;return En.set(m,Ht(En.get(m)||null,e,r,i,l,h)),!0;case"gotpointercapture":return m=h.pointerId,ds.set(m,Ht(ds.get(m)||null,e,r,i,l,h)),!0}return!1}function Fl(e){var r=qn(e.target);if(r!==null){var i=qr(r);if(i!==null){if(r=i.tag,r===13){if(r=ho(i),r!==null){e.blockedOn=r,Cn(e.priority,function(){da(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kt(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var i=ei(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);jn=l,i.target.dispatchEvent(l),jn=null}else return r=Hn(i),r!==null&&ca(r),e.blockedOn=i,!1;r.shift()}return!0}function cn(e,r,i){kt(e)&&i.delete(r)}function bo(){ua=!1,ln!==null&&kt(ln)&&(ln=null),pt!==null&&kt(pt)&&(pt=null),qt!==null&&kt(qt)&&(qt=null),En.forEach(cn),ds.forEach(cn)}function us(e,r){e.blockedOn===r&&(e.blockedOn=null,ua||(ua=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bo)))}function hs(e){function r(h){return us(h,e)}if(0<ha.length){us(ha[0],e);for(var i=1;i<ha.length;i++){var l=ha[i];l.blockedOn===e&&(l.blockedOn=null)}}for(ln!==null&&us(ln,e),pt!==null&&us(pt,e),qt!==null&&us(qt,e),En.forEach(r),ds.forEach(r),i=0;i<xr.length;i++)l=xr[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<xr.length&&(i=xr[0],i.blockedOn===null);)Fl(i),i.blockedOn===null&&xr.shift()}var ps=B.ReactCurrentBatchConfig,Pt=!0;function fs(e,r,i,l){var h=Re,m=ps.transition;ps.transition=null;try{Re=1,Za(e,r,i,l)}finally{Re=h,ps.transition=m}}function yo(e,r,i,l){var h=Re,m=ps.transition;ps.transition=null;try{Re=4,Za(e,r,i,l)}finally{Re=h,ps.transition=m}}function Za(e,r,i,l){if(Pt){var h=ei(e,r,i,l);if(h===null)zo(e,r,l,Tn,i),lt(e,l);else if(Ul(h,e,r,i,l))l.stopPropagation();else if(lt(e,l),r&4&&-1<xd.indexOf(e)){for(;h!==null;){var m=Hn(h);if(m!==null&&xo(m),m=ei(e,r,i,l),m===null&&zo(e,r,l,Tn,i),m===h)break;h=m}h!==null&&l.stopPropagation()}else zo(e,r,l,null,i)}}var Tn=null;function ei(e,r,i,l){if(Tn=null,e=Zs(l),e=qn(e),e!==null)if(r=qr(e),r===null)e=null;else if(i=r.tag,i===13){if(e=ho(r),e!==null)return e;e=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Tn=e,null}function vo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($l()){case cs:return 1;case Pl:return 4;case mr:case Ka:return 16;case Rr:return 536870912;default:return 16}default:return 16}}var $r=null,ti=null,ri=null;function Ze(){if(ri)return ri;var e,r=ti,i=r.length,l,h="value"in $r?$r.value:$r.textContent,m=h.length;for(e=0;e<i&&r[e]===h[e];e++);var y=i-e;for(l=1;l<=y&&r[i-l]===h[m-l];l++);return ri=h.slice(e,1<l?1-l:void 0)}function tr(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function ms(){return!0}function wo(){return!1}function yt(e){function r(i,l,h,m,y){this._reactName=i,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(i=e[C],this[C]=i?i(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ms:wo,this.isPropagationStopped=wo,this}return K(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),r}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ni=yt(An),Rn=K({},An,{view:0,detail:0}),si=yt(Rn),_o,rr,Vr,pa=K({},Rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vr&&(Vr&&e.type==="mousemove"?(_o=e.screenX-Vr.screenX,rr=e.screenY-Vr.screenY):rr=_o=0,Vr=e),_o)},movementY:function(e){return"movementY"in e?e.movementY:rr}}),zl=yt(pa),Nt=K({},pa,{dataTransfer:0}),dn=yt(Nt),jo=K({},Rn,{relatedTarget:0}),ai=yt(jo),ii=K({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),Ml=yt(ii),ql=K({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),So=yt(ql),un=K({},An,{data:0}),Hl=yt(un),ge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wl(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Vl[e])?!!r[e]:!1}function oi(){return Wl}var bd=K({},Rn,{key:function(e){if(e.key){var r=ge[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oi,charCode:function(e){return e.type==="keypress"?tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hn=yt(bd),ko=K({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fa=yt(ko),yd=K({},Rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oi}),Gl=yt(yd),No=K({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kl=yt(No),Jl=K({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Co=yt(Jl),vd=[9,13,27,32],li=g&&"CompositionEvent"in window,ma=null;g&&"documentMode"in document&&(ma=document.documentMode);var Eo=g&&"TextEvent"in window&&!ma,Ql=g&&(!li||ma&&8<ma&&11>=ma),Yl=" ",To=!1;function Ir(e,r){switch(e){case"keyup":return vd.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ao(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gs=!1;function Xl(e,r){switch(e){case"compositionend":return Ao(r);case"keypress":return r.which!==32?null:(To=!0,Yl);case"textInput":return e=r.data,e===Yl&&To?null:e;default:return null}}function et(e,r){if(gs)return e==="compositionend"||!li&&Ir(e,r)?(e=Ze(),ri=ti=$r=null,gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ql&&r.locale!=="ko"?null:r.data;default:return null}}var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ci(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!$n[e.type]:r==="textarea"}function Ro(e,r,i,l){ta(l),r=wi(r,"onChange"),0<r.length&&(i=new ni("onChange","change",null,i,l),e.push({event:i,listeners:r}))}var Pn=null,It=null;function In(e){Uo(e,0)}function Vt(e){var r=_s(e);if(_n(r))return e}function $o(e,r){if(e==="change")return r}var Po=!1;if(g){var di;if(g){var nr="oninput"in document;if(!nr){var Io=document.createElement("div");Io.setAttribute("oninput","return;"),nr=typeof Io.oninput=="function"}di=nr}else di=!1;Po=di&&(!document.documentMode||9<document.documentMode)}function Wr(){Pn&&(Pn.detachEvent("onpropertychange",Zl),It=Pn=null)}function Zl(e){if(e.propertyName==="value"&&Vt(It)){var r=[];Ro(r,It,e,Zs(e)),Je(In,r)}}function ui(e,r,i){e==="focusin"?(Wr(),Pn=r,It=i,Pn.attachEvent("onpropertychange",Zl)):e==="focusout"&&Wr()}function Or(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vt(It)}function ec(e,r){if(e==="click")return Vt(r)}function tc(e,r){if(e==="input"||e==="change")return Vt(r)}function ga(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var sr=typeof Object.is=="function"?Object.is:ga;function xs(e,r){if(sr(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var i=Object.keys(e),l=Object.keys(r);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var h=i[l];if(!x.call(r,h)||!sr(e[h],r[h]))return!1}return!0}function xa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rc(e,r){var i=xa(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=r&&l>=r)return{node:i,offset:r-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=xa(i)}}function nc(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?nc(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function hi(){for(var e=window,r=ss();r instanceof e.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)e=r.contentWindow;else break;r=ss(e.document)}return r}function Oo(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function ba(e){var r=hi(),i=e.focusedElem,l=e.selectionRange;if(r!==i&&i&&i.ownerDocument&&nc(i.ownerDocument.documentElement,i)){if(l!==null&&Oo(i)){if(r=l.start,e=l.end,e===void 0&&(e=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(e,i.value.length);else if(e=(r=i.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,m=Math.min(l.start,h);l=l.end===void 0?m:Math.min(l.end,h),!e.extend&&m>l&&(h=l,l=m,m=h),h=rc(i,m);var y=rc(i,l);h&&y&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),e.removeAllRanges(),m>l?(e.addRange(r),e.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),e.addRange(r)))}}for(r=[],e=i;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<r.length;i++)e=r[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pi=g&&"documentMode"in document&&11>=document.documentMode,On=null,fi=null,bs=null,br=!1;function ya(e,r,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;br||On==null||On!==ss(l)||(l=On,"selectionStart"in l&&Oo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bs&&xs(bs,l)||(bs=l,l=wi(fi,"onSelect"),0<l.length&&(r=new ni("onSelect","select",null,r,i),e.push({event:r,listeners:l}),r.target=On)))}function va(e,r){var i={};return i[e.toLowerCase()]=r.toLowerCase(),i["Webkit"+e]="webkit"+r,i["Moz"+e]="moz"+r,i}var Dn={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionend:va("Transition","TransitionEnd")},Do={},mi={};g&&(mi=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function Ln(e){if(Do[e])return Do[e];if(!Dn[e])return e;var r=Dn[e],i;for(i in r)if(r.hasOwnProperty(i)&&i in mi)return Do[e]=r[i];return e}var gi=Ln("animationend"),xi=Ln("animationiteration"),bi=Ln("animationstart"),yi=Ln("transitionend"),Lo=new Map,dt="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(e,r){Lo.set(e,r),u(r,[e])}for(var vi=0;vi<dt.length;vi++){var ys=dt[vi],Bn=ys.toLowerCase(),sc=ys[0].toUpperCase()+ys.slice(1);Wt(Bn,"on"+sc)}Wt(gi,"onAnimationEnd"),Wt(xi,"onAnimationIteration"),Wt(bi,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(yi,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ac=new Set("cancel close invalid load scroll toggle".split(" ").concat(Un));function Bo(e,r,i){var l=e.type||"unknown-event";e.currentTarget=i,kn(l,r,void 0,e),e.currentTarget=null}function Uo(e,r){r=(r&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],h=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var y=l.length-1;0<=y;y--){var C=l[y],R=C.instance,M=C.currentTarget;if(C=C.listener,R!==m&&h.isPropagationStopped())break e;Bo(h,C,M),m=R}else for(y=0;y<l.length;y++){if(C=l[y],R=C.instance,M=C.currentTarget,C=C.listener,R!==m&&h.isPropagationStopped())break e;Bo(h,C,M),m=R}}}if(sa)throw e=Wa,sa=!1,Wa=null,e}function Me(e,r){var i=r[Wo];i===void 0&&(i=r[Wo]=new Set);var l=e+"__bubble";i.has(l)||(ja(r,e,2,!1),i.add(l))}function Fo(e,r,i){var l=0;r&&(l|=4),ja(i,e,l,r)}var wa="_reactListening"+Math.random().toString(36).slice(2);function _a(e){if(!e[wa]){e[wa]=!0,o.forEach(function(i){i!=="selectionchange"&&(ac.has(i)||Fo(i,!1,e),Fo(i,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[wa]||(r[wa]=!0,Fo("selectionchange",!1,r))}}function ja(e,r,i,l){switch(vo(r)){case 1:var h=fs;break;case 4:h=yo;break;default:h=Za}i=h.bind(null,r,i,e),h=void 0,!Va||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(r,i,{capture:!0,passive:h}):e.addEventListener(r,i,!0):h!==void 0?e.addEventListener(r,i,{passive:h}):e.addEventListener(r,i,!1)}function zo(e,r,i,l,h){var m=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var C=l.stateNode.containerInfo;if(C===h||C.nodeType===8&&C.parentNode===h)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;y=y.return}for(;C!==null;){if(y=qn(C),y===null)return;if(R=y.tag,R===5||R===6){l=m=y;continue e}C=C.parentNode}}l=l.return}Je(function(){var M=m,Q=Zs(i),Y=[];e:{var J=Lo.get(e);if(J!==void 0){var te=ni,se=e;switch(e){case"keypress":if(tr(i)===0)break e;case"keydown":case"keyup":te=hn;break;case"focusin":se="focus",te=ai;break;case"focusout":se="blur",te=ai;break;case"beforeblur":case"afterblur":te=ai;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Gl;break;case gi:case xi:case bi:te=Ml;break;case yi:te=Kl;break;case"scroll":te=si;break;case"wheel":te=Co;break;case"copy":case"cut":case"paste":te=So;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=fa}var ae=(r&4)!==0,ct=!ae&&e==="scroll",F=ae?J!==null?J+"Capture":null:J;ae=[];for(var O=M,z;O!==null;){z=O;var Z=z.stateNode;if(z.tag===5&&Z!==null&&(z=Z,F!==null&&(Z=St(O,F),Z!=null&&ae.push(Sa(O,Z,z)))),ct)break;O=O.return}0<ae.length&&(J=new te(J,se,null,i,Q),Y.push({event:J,listeners:ae}))}}if(!(r&7)){e:{if(J=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",J&&i!==jn&&(se=i.relatedTarget||i.fromElement)&&(qn(se)||se[vr]))break e;if((te||J)&&(J=Q.window===Q?Q:(J=Q.ownerDocument)?J.defaultView||J.parentWindow:window,te?(se=i.relatedTarget||i.toElement,te=M,se=se?qn(se):null,se!==null&&(ct=qr(se),se!==ct||se.tag!==5&&se.tag!==6)&&(se=null)):(te=null,se=M),te!==se)){if(ae=zl,Z="onMouseLeave",F="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ae=fa,Z="onPointerLeave",F="onPointerEnter",O="pointer"),ct=te==null?J:_s(te),z=se==null?J:_s(se),J=new ae(Z,O+"leave",te,i,Q),J.target=ct,J.relatedTarget=z,Z=null,qn(Q)===M&&(ae=new ae(F,O+"enter",se,i,Q),ae.target=z,ae.relatedTarget=ct,Z=ae),ct=Z,te&&se)t:{for(ae=te,F=se,O=0,z=ae;z;z=Fn(z))O++;for(z=0,Z=F;Z;Z=Fn(Z))z++;for(;0<O-z;)ae=Fn(ae),O--;for(;0<z-O;)F=Fn(F),z--;for(;O--;){if(ae===F||F!==null&&ae===F.alternate)break t;ae=Fn(ae),F=Fn(F)}ae=null}else ae=null;te!==null&&zn(Y,J,te,ae,!1),se!==null&&ct!==null&&zn(Y,ct,se,ae,!0)}}e:{if(J=M?_s(M):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var ie=$o;else if(ci(J))if(Po)ie=tc;else{ie=Or;var le=ui}else(te=J.nodeName)&&te.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ie=ec);if(ie&&(ie=ie(e,M))){Ro(Y,ie,i,Q);break e}le&&le(e,J,M),e==="focusout"&&(le=J._wrapperState)&&le.controlled&&J.type==="number"&&as(J,"number",J.value)}switch(le=M?_s(M):window,e){case"focusin":(ci(le)||le.contentEditable==="true")&&(On=le,fi=M,bs=null);break;case"focusout":bs=fi=On=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,ya(Y,i,Q);break;case"selectionchange":if(pi)break;case"keydown":case"keyup":ya(Y,i,Q)}var ce;if(li)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else gs?Ir(e,i)&&(xe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(xe="onCompositionStart");xe&&(Ql&&i.locale!=="ko"&&(gs||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&gs&&(ce=Ze()):($r=Q,ti="value"in $r?$r.value:$r.textContent,gs=!0)),le=wi(M,xe),0<le.length&&(xe=new Hl(xe,e,null,i,Q),Y.push({event:xe,listeners:le}),ce?xe.data=ce:(ce=Ao(i),ce!==null&&(xe.data=ce)))),(ce=Eo?Xl(e,i):et(e,i))&&(M=wi(M,"onBeforeInput"),0<M.length&&(Q=new Hl("onBeforeInput","beforeinput",null,i,Q),Y.push({event:Q,listeners:M}),Q.data=ce))}Uo(Y,r)})}function Sa(e,r,i){return{instance:e,listener:r,currentTarget:i}}function wi(e,r){for(var i=r+"Capture",l=[];e!==null;){var h=e,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=St(e,i),m!=null&&l.unshift(Sa(e,m,h)),m=St(e,r),m!=null&&l.push(Sa(e,m,h))),e=e.return}return l}function Fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zn(e,r,i,l,h){for(var m=r._reactName,y=[];i!==null&&i!==l;){var C=i,R=C.alternate,M=C.stateNode;if(R!==null&&R===l)break;C.tag===5&&M!==null&&(C=M,h?(R=St(i,m),R!=null&&y.unshift(Sa(i,R,C))):h||(R=St(i,m),R!=null&&y.push(Sa(i,R,C)))),i=i.return}y.length!==0&&e.push({event:r,listeners:y})}var wd=/\r\n?/g,ic=/\u0000|\uFFFD/g;function oc(e){return(typeof e=="string"?e:""+e).replace(wd,`
`).replace(ic,"")}function st(e,r,i){if(r=oc(r),oc(e)!==r&&i)throw Error(a(425))}function yr(){}var ka=null,Mo=null;function qo(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ho=typeof setTimeout=="function"?setTimeout:void 0,_i=typeof clearTimeout=="function"?clearTimeout:void 0,Vo=typeof Promise=="function"?Promise:void 0,_d=typeof queueMicrotask=="function"?queueMicrotask:typeof Vo<"u"?function(e){return Vo.resolve(null).then(e).catch(Mn)}:Ho;function Mn(e){setTimeout(function(){throw e})}function ji(e,r){var i=r,l=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(l===0){e.removeChild(h),hs(r);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=h}while(i);hs(r)}function Gr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function Si(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(r===0)return e;r--}else i==="/$"&&r++}e=e.previousSibling}return null}var vs=Math.random().toString(36).slice(2),Dr="__reactFiber$"+vs,ws="__reactProps$"+vs,vr="__reactContainer$"+vs,Wo="__reactEvents$"+vs,Go="__reactListeners$"+vs,jd="__reactHandles$"+vs;function qn(e){var r=e[Dr];if(r)return r;for(var i=e.parentNode;i;){if(r=i[vr]||i[Dr]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(e=Si(e);e!==null;){if(i=e[Dr])return i;e=Si(e)}return r}e=i,i=e.parentNode}return null}function Hn(e){return e=e[Dr]||e[vr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function ki(e){return e[ws]||null}var vt=[],js=-1;function pn(e){return{current:e}}function qe(e){0>js||(e.current=vt[js],vt[js]=null,js--)}function ze(e,r){js++,vt[js]=e.current,e.current=r}var fn={},wt=pn(fn),Ot=pn(!1),Vn=fn;function at(e,r){var i=e.type.contextTypes;if(!i)return fn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in i)h[m]=r[m];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=h),h}function Dt(e){return e=e.childContextTypes,e!=null}function Ni(){qe(Ot),qe(wt)}function lc(e,r,i){if(wt.current!==fn)throw Error(a(168));ze(wt,r),ze(Ot,i)}function cc(e,r,i){var l=e.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var h in l)if(!(h in r))throw Error(a(108,$e(e)||"Unknown",h));return K({},i,l)}function Ci(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fn,Vn=wt.current,ze(wt,e),ze(Ot,Ot.current),!0}function dc(e,r,i){var l=e.stateNode;if(!l)throw Error(a(169));i?(e=cc(e,r,Vn),l.__reactInternalMemoizedMergedChildContext=e,qe(Ot),qe(wt),ze(wt,e)):qe(Ot),ze(Ot,i)}var Kr=null,Ei=!1,Ko=!1;function ft(e){Kr===null?Kr=[e]:Kr.push(e)}function Sd(e){Ei=!0,ft(e)}function mn(){if(!Ko&&Kr!==null){Ko=!0;var e=0,r=Re;try{var i=Kr;for(Re=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}Kr=null,Ei=!1}catch(h){throw Kr!==null&&(Kr=Kr.slice(e+1)),po(cs,mn),h}finally{Re=r,Ko=!1}}return null}var Ss=[],ks=0,Ti=null,Ai=0,ar=[],ir=0,Wn=null,Lt=1,Jr="";function Gn(e,r){Ss[ks++]=Ai,Ss[ks++]=Ti,Ti=e,Ai=r}function uc(e,r,i){ar[ir++]=Lt,ar[ir++]=Jr,ar[ir++]=Wn,Wn=e;var l=Lt;e=Jr;var h=32-Rt(l)-1;l&=~(1<<h),i+=1;var m=32-Rt(r)+h;if(30<m){var y=h-h%5;m=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Lt=1<<32-Rt(r)+h|i<<h|l,Jr=m+e}else Lt=1<<m|i<<h|l,Jr=e}function Jo(e){e.return!==null&&(Gn(e,1),uc(e,1,0))}function Ns(e){for(;e===Ti;)Ti=Ss[--ks],Ss[ks]=null,Ai=Ss[--ks],Ss[ks]=null;for(;e===Wn;)Wn=ar[--ir],ar[ir]=null,Jr=ar[--ir],ar[ir]=null,Lt=ar[--ir],ar[ir]=null}var Gt=null,Kt=null,We=!1,Ue=null;function hc(e,r){var i=zr(5,null,null,0);i.elementType="DELETED",i.stateNode=r,i.return=e,r=e.deletions,r===null?(e.deletions=[i],e.flags|=16):r.push(i)}function pc(e,r){switch(e.tag){case 5:var i=e.type;return r=r.nodeType!==1||i.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Gt=e,Kt=Gr(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Gt=e,Kt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(i=Wn!==null?{id:Lt,overflow:Jr}:null,e.memoizedState={dehydrated:r,treeContext:i,retryLane:1073741824},i=zr(18,null,null,0),i.stateNode=r,i.return=e,e.child=i,Gt=e,Kt=null,!0):!1;default:return!1}}function Qo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yo(e){if(We){var r=Kt;if(r){var i=r;if(!pc(e,r)){if(Qo(e))throw Error(a(418));r=Gr(i.nextSibling);var l=Gt;r&&pc(e,r)?hc(l,i):(e.flags=e.flags&-4097|2,We=!1,Gt=e)}}else{if(Qo(e))throw Error(a(418));e.flags=e.flags&-4097|2,We=!1,Gt=e}}}function fc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function Ri(e){if(e!==Gt)return!1;if(!We)return fc(e),We=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!qo(e.type,e.memoizedProps)),r&&(r=Kt)){if(Qo(e))throw mc(),Error(a(418));for(;r;)hc(e,r),r=Gr(r.nextSibling)}if(fc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(r===0){Kt=Gr(e.nextSibling);break e}r--}else i!=="$"&&i!=="$!"&&i!=="$?"||r++}e=e.nextSibling}Kt=null}}else Kt=Gt?Gr(e.stateNode.nextSibling):null;return!0}function mc(){for(var e=Kt;e;)e=Gr(e.nextSibling)}function Cs(){Kt=Gt=null,We=!1}function Xo(e){Ue===null?Ue=[e]:Ue.push(e)}var kd=B.ReactCurrentBatchConfig;function Na(e,r,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(a(309));var l=i.stateNode}if(!l)throw Error(a(147,e));var h=l,m=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(y){var C=h.refs;y===null?delete C[m]:C[m]=y},r._stringRef=m,r)}if(typeof e!="string")throw Error(a(284));if(!i._owner)throw Error(a(290,e))}return e}function $i(e,r){throw e=Object.prototype.toString.call(r),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function Kn(e){var r=e._init;return r(e._payload)}function gc(e){function r(F,O){if(e){var z=F.deletions;z===null?(F.deletions=[O],F.flags|=16):z.push(O)}}function i(F,O){if(!e)return null;for(;O!==null;)r(F,O),O=O.sibling;return null}function l(F,O){for(F=new Map;O!==null;)O.key!==null?F.set(O.key,O):F.set(O.index,O),O=O.sibling;return F}function h(F,O){return F=Us(F,O),F.index=0,F.sibling=null,F}function m(F,O,z){return F.index=z,e?(z=F.alternate,z!==null?(z=z.index,z<O?(F.flags|=2,O):z):(F.flags|=2,O)):(F.flags|=1048576,O)}function y(F){return e&&F.alternate===null&&(F.flags|=2),F}function C(F,O,z,Z){return O===null||O.tag!==6?(O=eu(z,F.mode,Z),O.return=F,O):(O=h(O,z),O.return=F,O)}function R(F,O,z,Z){var ie=z.type;return ie===H?Q(F,O,z.props.children,Z,z.key):O!==null&&(O.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Ie&&Kn(ie)===O.type)?(Z=h(O,z.props),Z.ref=Na(F,O,z),Z.return=F,Z):(Z=zc(z.type,z.key,z.props,null,F.mode,Z),Z.ref=Na(F,O,z),Z.return=F,Z)}function M(F,O,z,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=tu(z,F.mode,Z),O.return=F,O):(O=h(O,z.children||[]),O.return=F,O)}function Q(F,O,z,Z,ie){return O===null||O.tag!==7?(O=$a(z,F.mode,Z,ie),O.return=F,O):(O=h(O,z),O.return=F,O)}function Y(F,O,z){if(typeof O=="string"&&O!==""||typeof O=="number")return O=eu(""+O,F.mode,z),O.return=F,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case $:return z=zc(O.type,O.key,O.props,null,F.mode,z),z.ref=Na(F,null,O),z.return=F,z;case U:return O=tu(O,F.mode,z),O.return=F,O;case Ie:var Z=O._init;return Y(F,Z(O._payload),z)}if(Ks(O)||X(O))return O=$a(O,F.mode,z,null),O.return=F,O;$i(F,O)}return null}function J(F,O,z,Z){var ie=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ie!==null?null:C(F,O,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case $:return z.key===ie?R(F,O,z,Z):null;case U:return z.key===ie?M(F,O,z,Z):null;case Ie:return ie=z._init,J(F,O,ie(z._payload),Z)}if(Ks(z)||X(z))return ie!==null?null:Q(F,O,z,Z,null);$i(F,z)}return null}function te(F,O,z,Z,ie){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return F=F.get(z)||null,C(O,F,""+Z,ie);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case $:return F=F.get(Z.key===null?z:Z.key)||null,R(O,F,Z,ie);case U:return F=F.get(Z.key===null?z:Z.key)||null,M(O,F,Z,ie);case Ie:var le=Z._init;return te(F,O,z,le(Z._payload),ie)}if(Ks(Z)||X(Z))return F=F.get(z)||null,Q(O,F,Z,ie,null);$i(O,Z)}return null}function se(F,O,z,Z){for(var ie=null,le=null,ce=O,xe=O=0,jt=null;ce!==null&&xe<z.length;xe++){ce.index>xe?(jt=ce,ce=null):jt=ce.sibling;var Le=J(F,ce,z[xe],Z);if(Le===null){ce===null&&(ce=jt);break}e&&ce&&Le.alternate===null&&r(F,ce),O=m(Le,O,xe),le===null?ie=Le:le.sibling=Le,le=Le,ce=jt}if(xe===z.length)return i(F,ce),We&&Gn(F,xe),ie;if(ce===null){for(;xe<z.length;xe++)ce=Y(F,z[xe],Z),ce!==null&&(O=m(ce,O,xe),le===null?ie=ce:le.sibling=ce,le=ce);return We&&Gn(F,xe),ie}for(ce=l(F,ce);xe<z.length;xe++)jt=te(ce,F,xe,z[xe],Z),jt!==null&&(e&&jt.alternate!==null&&ce.delete(jt.key===null?xe:jt.key),O=m(jt,O,xe),le===null?ie=jt:le.sibling=jt,le=jt);return e&&ce.forEach(function(Fs){return r(F,Fs)}),We&&Gn(F,xe),ie}function ae(F,O,z,Z){var ie=X(z);if(typeof ie!="function")throw Error(a(150));if(z=ie.call(z),z==null)throw Error(a(151));for(var le=ie=null,ce=O,xe=O=0,jt=null,Le=z.next();ce!==null&&!Le.done;xe++,Le=z.next()){ce.index>xe?(jt=ce,ce=null):jt=ce.sibling;var Fs=J(F,ce,Le.value,Z);if(Fs===null){ce===null&&(ce=jt);break}e&&ce&&Fs.alternate===null&&r(F,ce),O=m(Fs,O,xe),le===null?ie=Fs:le.sibling=Fs,le=Fs,ce=jt}if(Le.done)return i(F,ce),We&&Gn(F,xe),ie;if(ce===null){for(;!Le.done;xe++,Le=z.next())Le=Y(F,Le.value,Z),Le!==null&&(O=m(Le,O,xe),le===null?ie=Le:le.sibling=Le,le=Le);return We&&Gn(F,xe),ie}for(ce=l(F,ce);!Le.done;xe++,Le=z.next())Le=te(ce,F,xe,Le.value,Z),Le!==null&&(e&&Le.alternate!==null&&ce.delete(Le.key===null?xe:Le.key),O=m(Le,O,xe),le===null?ie=Le:le.sibling=Le,le=Le);return e&&ce.forEach(function(ym){return r(F,ym)}),We&&Gn(F,xe),ie}function ct(F,O,z,Z){if(typeof z=="object"&&z!==null&&z.type===H&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case $:e:{for(var ie=z.key,le=O;le!==null;){if(le.key===ie){if(ie=z.type,ie===H){if(le.tag===7){i(F,le.sibling),O=h(le,z.props.children),O.return=F,F=O;break e}}else if(le.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Ie&&Kn(ie)===le.type){i(F,le.sibling),O=h(le,z.props),O.ref=Na(F,le,z),O.return=F,F=O;break e}i(F,le);break}else r(F,le);le=le.sibling}z.type===H?(O=$a(z.props.children,F.mode,Z,z.key),O.return=F,F=O):(Z=zc(z.type,z.key,z.props,null,F.mode,Z),Z.ref=Na(F,O,z),Z.return=F,F=Z)}return y(F);case U:e:{for(le=z.key;O!==null;){if(O.key===le)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){i(F,O.sibling),O=h(O,z.children||[]),O.return=F,F=O;break e}else{i(F,O);break}else r(F,O);O=O.sibling}O=tu(z,F.mode,Z),O.return=F,F=O}return y(F);case Ie:return le=z._init,ct(F,O,le(z._payload),Z)}if(Ks(z))return se(F,O,z,Z);if(X(z))return ae(F,O,z,Z);$i(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,O!==null&&O.tag===6?(i(F,O.sibling),O=h(O,z),O.return=F,F=O):(i(F,O),O=eu(z,F.mode,Z),O.return=F,F=O),y(F)):i(F,O)}return ct}var Es=gc(!0),xc=gc(!1),Pi=pn(null),Ts=null,Jn=null,Zo=null;function Ca(){Zo=Jn=Ts=null}function el(e){var r=Pi.current;qe(Pi),e._currentValue=r}function tl(e,r,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===i)break;e=e.return}}function As(e,r){Ts=e,Zo=Jn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(cr=!0),e.firstContext=null)}function or(e){var r=e._currentValue;if(Zo!==e)if(e={context:e,memoizedValue:r,next:null},Jn===null){if(Ts===null)throw Error(a(308));Jn=e,Ts.dependencies={lanes:0,firstContext:e}}else Jn=Jn.next=e;return r}var Qn=null;function rl(e){Qn===null?Qn=[e]:Qn.push(e)}function bc(e,r,i,l){var h=r.interleaved;return h===null?(i.next=i,rl(r)):(i.next=h.next,h.next=i),r.interleaved=i,Qr(e,l)}function Qr(e,r){e.lanes|=r;var i=e.alternate;for(i!==null&&(i.lanes|=r),i=e,e=e.return;e!==null;)e.childLanes|=r,i=e.alternate,i!==null&&(i.childLanes|=r),i=e,e=e.return;return i.tag===3?i.stateNode:null}var gn=!1;function nl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yc(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function xn(e,r,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,Pe&2){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,Qr(e,i)}return h=l.interleaved,h===null?(r.next=r,rl(l)):(r.next=h.next,h.next=r),l.interleaved=r,Qr(e,i)}function Ii(e,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194240)!==0)){var l=r.lanes;l&=e.pendingLanes,i|=l,r.lanes=i,Xa(e,i)}}function vc(e,r){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var h=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};m===null?h=m=y:m=m.next=y,i=i.next}while(i!==null);m===null?h=m=r:m=m.next=r}else h=m=r;i={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=r:e.next=r,i.lastBaseUpdate=r}function Oi(e,r,i,l){var h=e.updateQueue;gn=!1;var m=h.firstBaseUpdate,y=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var R=C,M=R.next;R.next=null,y===null?m=M:y.next=M,y=R;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,C=Q.lastBaseUpdate,C!==y&&(C===null?Q.firstBaseUpdate=M:C.next=M,Q.lastBaseUpdate=R))}if(m!==null){var Y=h.baseState;y=0,Q=M=R=null,C=m;do{var J=C.lane,te=C.eventTime;if((l&J)===J){Q!==null&&(Q=Q.next={eventTime:te,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var se=e,ae=C;switch(J=r,te=i,ae.tag){case 1:if(se=ae.payload,typeof se=="function"){Y=se.call(te,Y,J);break e}Y=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ae.payload,J=typeof se=="function"?se.call(te,Y,J):se,J==null)break e;Y=K({},Y,J);break e;case 2:gn=!0}}C.callback!==null&&C.lane!==0&&(e.flags|=64,J=h.effects,J===null?h.effects=[C]:J.push(C))}else te={eventTime:te,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Q===null?(M=Q=te,R=Y):Q=Q.next=te,y|=J;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;J=C,C=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);if(Q===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=M,h.lastBaseUpdate=Q,r=h.shared.interleaved,r!==null){h=r;do y|=h.lane,h=h.next;while(h!==r)}else m===null&&(h.shared.lanes=0);Ea|=y,e.lanes=y,e.memoizedState=Y}}function wc(e,r,i){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var l=e[r],h=l.callback;if(h!==null){if(l.callback=null,l=i,typeof h!="function")throw Error(a(191,h));h.call(l)}}}var Rs={},Lr=pn(Rs),$s=pn(Rs),d=pn(Rs);function w(e){if(e===Rs)throw Error(a(174));return e}function q(e,r){switch(ze(d,r),ze($s,e),ze(Lr,Rs),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Js(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Js(r,e)}qe(Lr),ze(Lr,r)}function W(){qe(Lr),qe($s),qe(d)}function ee(e){w(d.current);var r=w(Lr.current),i=Js(r,e.type);r!==i&&(ze($s,e),ze(Lr,i))}function ve(e){$s.current===e&&(qe(Lr),qe($s))}var ke=pn(0);function _e(e){for(var r=e;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var He=[];function Bt(){for(var e=0;e<He.length;e++)He[e]._workInProgressVersionPrimary=null;He.length=0}var Yr=B.ReactCurrentDispatcher,Br=B.ReactCurrentBatchConfig,Jt=0,De=null,Ve=null,Ye=null,Ur=!1,Di=!1,Ps=0,_c=0;function mt(){throw Error(a(321))}function Li(e,r){if(r===null)return!1;for(var i=0;i<r.length&&i<e.length;i++)if(!sr(e[i],r[i]))return!1;return!0}function Bi(e,r,i,l,h,m){if(Jt=m,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Yr.current=e===null||e.memoizedState===null?Wf:Gf,e=i(l,h),Di){m=0;do{if(Di=!1,Ps=0,25<=m)throw Error(a(301));m+=1,Ye=Ve=null,r.updateQueue=null,Yr.current=Kf,e=i(l,h)}while(Di)}if(Yr.current=Cc,r=Ve!==null&&Ve.next!==null,Jt=0,Ye=Ve=De=null,Ur=!1,r)throw Error(a(300));return e}function Ui(){var e=Ps!==0;return Ps=0,e}function wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?De.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Qt(){if(Ve===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var r=Ye===null?De.memoizedState:Ye.next;if(r!==null)Ye=r,Ve=e;else{if(e===null)throw Error(a(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ye===null?De.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Xr(e,r){return typeof r=="function"?r(e):r}function Yn(e){var r=Qt(),i=r.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var l=Ve,h=l.baseQueue,m=i.pending;if(m!==null){if(h!==null){var y=h.next;h.next=m.next,m.next=y}l.baseQueue=h=m,i.pending=null}if(h!==null){m=h.next,l=l.baseState;var C=y=null,R=null,M=m;do{var Q=M.lane;if((Jt&Q)===Q)R!==null&&(R=R.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),l=M.hasEagerState?M.eagerState:e(l,M.action);else{var Y={lane:Q,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};R===null?(C=R=Y,y=l):R=R.next=Y,De.lanes|=Q,Ea|=Q}M=M.next}while(M!==null&&M!==m);R===null?y=l:R.next=C,sr(l,r.memoizedState)||(cr=!0),r.memoizedState=l,r.baseState=y,r.baseQueue=R,i.lastRenderedState=l}if(e=i.interleaved,e!==null){h=e;do m=h.lane,De.lanes|=m,Ea|=m,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[r.memoizedState,i.dispatch]}function jc(e){var r=Qt(),i=r.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var l=i.dispatch,h=i.pending,m=r.memoizedState;if(h!==null){i.pending=null;var y=h=h.next;do m=e(m,y.action),y=y.next;while(y!==h);sr(m,r.memoizedState)||(cr=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),i.lastRenderedState=m}return[m,l]}function Sc(){}function rh(e,r){var i=De,l=Qt(),h=r(),m=!sr(l.memoizedState,h);if(m&&(l.memoizedState=h,cr=!0),l=l.queue,Nd(ah.bind(null,i,l,e),[e]),l.getSnapshot!==r||m||Ye!==null&&Ye.memoizedState.tag&1){if(i.flags|=2048,sl(9,sh.bind(null,i,l,h,r),void 0,null),_t===null)throw Error(a(349));Jt&30||nh(i,r,h)}return h}function nh(e,r,i){e.flags|=16384,e={getSnapshot:r,value:i},r=De.updateQueue,r===null?(r={lastEffect:null,stores:null},De.updateQueue=r,r.stores=[e]):(i=r.stores,i===null?r.stores=[e]:i.push(e))}function sh(e,r,i,l){r.value=i,r.getSnapshot=l,ih(r)&&oh(e)}function ah(e,r,i){return i(function(){ih(r)&&oh(e)})}function ih(e){var r=e.getSnapshot;e=e.value;try{var i=r();return!sr(e,i)}catch{return!0}}function oh(e){var r=Qr(e,1);r!==null&&rn(r,e,1,-1)}function lh(e){var r=wr();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:e},r.queue=e,e=e.dispatch=Vf.bind(null,De,e),[r.memoizedState,e]}function sl(e,r,i,l){return e={tag:e,create:r,destroy:i,deps:l,next:null},r=De.updateQueue,r===null?(r={lastEffect:null,stores:null},De.updateQueue=r,r.lastEffect=e.next=e):(i=r.lastEffect,i===null?r.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,r.lastEffect=e)),e}function ch(){return Qt().memoizedState}function kc(e,r,i,l){var h=wr();De.flags|=e,h.memoizedState=sl(1|r,i,void 0,l===void 0?null:l)}function Nc(e,r,i,l){var h=Qt();l=l===void 0?null:l;var m=void 0;if(Ve!==null){var y=Ve.memoizedState;if(m=y.destroy,l!==null&&Li(l,y.deps)){h.memoizedState=sl(r,i,m,l);return}}De.flags|=e,h.memoizedState=sl(1|r,i,m,l)}function dh(e,r){return kc(8390656,8,e,r)}function Nd(e,r){return Nc(2048,8,e,r)}function uh(e,r){return Nc(4,2,e,r)}function hh(e,r){return Nc(4,4,e,r)}function ph(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function fh(e,r,i){return i=i!=null?i.concat([e]):null,Nc(4,4,ph.bind(null,r,e),i)}function Cd(){}function mh(e,r){var i=Qt();r=r===void 0?null:r;var l=i.memoizedState;return l!==null&&r!==null&&Li(r,l[1])?l[0]:(i.memoizedState=[e,r],e)}function gh(e,r){var i=Qt();r=r===void 0?null:r;var l=i.memoizedState;return l!==null&&r!==null&&Li(r,l[1])?l[0]:(e=e(),i.memoizedState=[e,r],e)}function xh(e,r,i){return Jt&21?(sr(i,r)||(i=Ll(),De.lanes|=i,Ea|=i,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,cr=!0),e.memoizedState=i)}function qf(e,r){var i=Re;Re=i!==0&&4>i?i:4,e(!0);var l=Br.transition;Br.transition={};try{e(!1),r()}finally{Re=i,Br.transition=l}}function bh(){return Qt().memoizedState}function Hf(e,r,i){var l=Ls(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},yh(e))vh(r,i);else if(i=bc(e,r,i,l),i!==null){var h=Xt();rn(i,e,l,h),wh(i,r,l)}}function Vf(e,r,i){var l=Ls(e),h={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(yh(e))vh(r,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var y=r.lastRenderedState,C=m(y,i);if(h.hasEagerState=!0,h.eagerState=C,sr(C,y)){var R=r.interleaved;R===null?(h.next=h,rl(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}i=bc(e,r,h,l),i!==null&&(h=Xt(),rn(i,e,l,h),wh(i,r,l))}}function yh(e){var r=e.alternate;return e===De||r!==null&&r===De}function vh(e,r){Di=Ur=!0;var i=e.pending;i===null?r.next=r:(r.next=i.next,i.next=r),e.pending=r}function wh(e,r,i){if(i&4194240){var l=r.lanes;l&=e.pendingLanes,i|=l,r.lanes=i,Xa(e,i)}}var Cc={readContext:or,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},Wf={readContext:or,useCallback:function(e,r){return wr().memoizedState=[e,r===void 0?null:r],e},useContext:or,useEffect:dh,useImperativeHandle:function(e,r,i){return i=i!=null?i.concat([e]):null,kc(4194308,4,ph.bind(null,r,e),i)},useLayoutEffect:function(e,r){return kc(4194308,4,e,r)},useInsertionEffect:function(e,r){return kc(4,2,e,r)},useMemo:function(e,r){var i=wr();return r=r===void 0?null:r,e=e(),i.memoizedState=[e,r],e},useReducer:function(e,r,i){var l=wr();return r=i!==void 0?i(r):r,l.memoizedState=l.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=Hf.bind(null,De,e),[l.memoizedState,e]},useRef:function(e){var r=wr();return e={current:e},r.memoizedState=e},useState:lh,useDebugValue:Cd,useDeferredValue:function(e){return wr().memoizedState=e},useTransition:function(){var e=lh(!1),r=e[0];return e=qf.bind(null,e[1]),wr().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,i){var l=De,h=wr();if(We){if(i===void 0)throw Error(a(407));i=i()}else{if(i=r(),_t===null)throw Error(a(349));Jt&30||nh(l,r,i)}h.memoizedState=i;var m={value:i,getSnapshot:r};return h.queue=m,dh(ah.bind(null,l,m,e),[e]),l.flags|=2048,sl(9,sh.bind(null,l,m,i,r),void 0,null),i},useId:function(){var e=wr(),r=_t.identifierPrefix;if(We){var i=Jr,l=Lt;i=(l&~(1<<32-Rt(l)-1)).toString(32)+i,r=":"+r+"R"+i,i=Ps++,0<i&&(r+="H"+i.toString(32)),r+=":"}else i=_c++,r=":"+r+"r"+i.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Gf={readContext:or,useCallback:mh,useContext:or,useEffect:Nd,useImperativeHandle:fh,useInsertionEffect:uh,useLayoutEffect:hh,useMemo:gh,useReducer:Yn,useRef:ch,useState:function(){return Yn(Xr)},useDebugValue:Cd,useDeferredValue:function(e){var r=Qt();return xh(r,Ve.memoizedState,e)},useTransition:function(){var e=Yn(Xr)[0],r=Qt().memoizedState;return[e,r]},useMutableSource:Sc,useSyncExternalStore:rh,useId:bh,unstable_isNewReconciler:!1},Kf={readContext:or,useCallback:mh,useContext:or,useEffect:Nd,useImperativeHandle:fh,useInsertionEffect:uh,useLayoutEffect:hh,useMemo:gh,useReducer:jc,useRef:ch,useState:function(){return jc(Xr)},useDebugValue:Cd,useDeferredValue:function(e){var r=Qt();return Ve===null?r.memoizedState=e:xh(r,Ve.memoizedState,e)},useTransition:function(){var e=jc(Xr)[0],r=Qt().memoizedState;return[e,r]},useMutableSource:Sc,useSyncExternalStore:rh,useId:bh,unstable_isNewReconciler:!1};function Zr(e,r){if(e&&e.defaultProps){r=K({},r),e=e.defaultProps;for(var i in e)r[i]===void 0&&(r[i]=e[i]);return r}return r}function Ed(e,r,i,l){r=e.memoizedState,i=i(l,r),i=i==null?r:K({},r,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ec={isMounted:function(e){return(e=e._reactInternals)?qr(e)===e:!1},enqueueSetState:function(e,r,i){e=e._reactInternals;var l=Xt(),h=Ls(e),m=lr(l,h);m.payload=r,i!=null&&(m.callback=i),r=xn(e,m,h),r!==null&&(rn(r,e,h,l),Ii(r,e,h))},enqueueReplaceState:function(e,r,i){e=e._reactInternals;var l=Xt(),h=Ls(e),m=lr(l,h);m.tag=1,m.payload=r,i!=null&&(m.callback=i),r=xn(e,m,h),r!==null&&(rn(r,e,h,l),Ii(r,e,h))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var i=Xt(),l=Ls(e),h=lr(i,l);h.tag=2,r!=null&&(h.callback=r),r=xn(e,h,l),r!==null&&(rn(r,e,l,i),Ii(r,e,l))}};function _h(e,r,i,l,h,m,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,y):r.prototype&&r.prototype.isPureReactComponent?!xs(i,l)||!xs(h,m):!0}function jh(e,r,i){var l=!1,h=fn,m=r.contextType;return typeof m=="object"&&m!==null?m=or(m):(h=Dt(r)?Vn:wt.current,l=r.contextTypes,m=(l=l!=null)?at(e,h):fn),r=new r(i,m),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ec,e.stateNode=r,r._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=m),r}function Sh(e,r,i,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,l),r.state!==e&&Ec.enqueueReplaceState(r,r.state,null)}function Td(e,r,i,l){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},nl(e);var m=r.contextType;typeof m=="object"&&m!==null?h.context=or(m):(m=Dt(r)?Vn:wt.current,h.context=at(e,m)),h.state=e.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Ed(e,r,m,i),h.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Ec.enqueueReplaceState(h,h.state,null),Oi(e,i,h,l),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Fi(e,r){try{var i="",l=r;do i+=je(l),l=l.return;while(l);var h=i}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:e,source:r,stack:h,digest:null}}function Ad(e,r,i){return{value:e,source:null,stack:i??null,digest:r??null}}function Rd(e,r){try{console.error(r.value)}catch(i){setTimeout(function(){throw i})}}var Jf=typeof WeakMap=="function"?WeakMap:Map;function kh(e,r,i){i=lr(-1,i),i.tag=3,i.payload={element:null};var l=r.value;return i.callback=function(){Oc||(Oc=!0,Wd=l),Rd(e,r)},i}function Nh(e,r,i){i=lr(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var h=r.value;i.payload=function(){return l(h)},i.callback=function(){Rd(e,r)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(i.callback=function(){Rd(e,r),typeof l!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),i}function Ch(e,r,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Jf;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(i)||(h.add(i),e=cm.bind(null,e,r,i),r.then(e,e))}function Eh(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Th(e,r,i,l,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===r?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(r=lr(-1,1),r.tag=2,xn(i,r,1))),i.lanes|=1),e)}var Qf=B.ReactCurrentOwner,cr=!1;function Yt(e,r,i,l){r.child=e===null?xc(r,null,i,l):Es(r,e.child,i,l)}function Ah(e,r,i,l,h){i=i.render;var m=r.ref;return As(r,h),l=Bi(e,r,i,l,m,h),i=Ui(),e!==null&&!cr?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~h,Xn(e,r,h)):(We&&i&&Jo(r),r.flags|=1,Yt(e,r,l,h),r.child)}function Rh(e,r,i,l,h){if(e===null){var m=i.type;return typeof m=="function"&&!Zd(m)&&m.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(r.tag=15,r.type=m,$h(e,r,m,l,h)):(e=zc(i.type,null,l,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(m=e.child,!(e.lanes&h)){var y=m.memoizedProps;if(i=i.compare,i=i!==null?i:xs,i(y,l)&&e.ref===r.ref)return Xn(e,r,h)}return r.flags|=1,e=Us(m,l),e.ref=r.ref,e.return=r,r.child=e}function $h(e,r,i,l,h){if(e!==null){var m=e.memoizedProps;if(xs(m,l)&&e.ref===r.ref)if(cr=!1,r.pendingProps=l=m,(e.lanes&h)!==0)e.flags&131072&&(cr=!0);else return r.lanes=e.lanes,Xn(e,r,h)}return $d(e,r,i,l,h)}function Ph(e,r,i){var l=r.pendingProps,h=l.children,m=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Mi,_r),_r|=i;else{if(!(i&1073741824))return e=m!==null?m.baseLanes|i:i,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,ze(Mi,_r),_r|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=m!==null?m.baseLanes:i,ze(Mi,_r),_r|=l}else m!==null?(l=m.baseLanes|i,r.memoizedState=null):l=i,ze(Mi,_r),_r|=l;return Yt(e,r,h,i),r.child}function Ih(e,r){var i=r.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(r.flags|=512,r.flags|=2097152)}function $d(e,r,i,l,h){var m=Dt(i)?Vn:wt.current;return m=at(r,m),As(r,h),i=Bi(e,r,i,l,m,h),l=Ui(),e!==null&&!cr?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~h,Xn(e,r,h)):(We&&l&&Jo(r),r.flags|=1,Yt(e,r,i,h),r.child)}function Oh(e,r,i,l,h){if(Dt(i)){var m=!0;Ci(r)}else m=!1;if(As(r,h),r.stateNode===null)Ac(e,r),jh(r,i,l),Td(r,i,l,h),l=!0;else if(e===null){var y=r.stateNode,C=r.memoizedProps;y.props=C;var R=y.context,M=i.contextType;typeof M=="object"&&M!==null?M=or(M):(M=Dt(i)?Vn:wt.current,M=at(r,M));var Q=i.getDerivedStateFromProps,Y=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function";Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==l||R!==M)&&Sh(r,y,l,M),gn=!1;var J=r.memoizedState;y.state=J,Oi(r,l,y,h),R=r.memoizedState,C!==l||J!==R||Ot.current||gn?(typeof Q=="function"&&(Ed(r,i,Q,l),R=r.memoizedState),(C=gn||_h(r,i,C,l,J,R,M))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=R),y.props=l,y.state=R,y.context=M,l=C):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{y=r.stateNode,yc(e,r),C=r.memoizedProps,M=r.type===r.elementType?C:Zr(r.type,C),y.props=M,Y=r.pendingProps,J=y.context,R=i.contextType,typeof R=="object"&&R!==null?R=or(R):(R=Dt(i)?Vn:wt.current,R=at(r,R));var te=i.getDerivedStateFromProps;(Q=typeof te=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==Y||J!==R)&&Sh(r,y,l,R),gn=!1,J=r.memoizedState,y.state=J,Oi(r,l,y,h);var se=r.memoizedState;C!==Y||J!==se||Ot.current||gn?(typeof te=="function"&&(Ed(r,i,te,l),se=r.memoizedState),(M=gn||_h(r,i,M,l,J,se,R)||!1)?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,se,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,se,R)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=se),y.props=l,y.state=se,y.context=R,l=M):(typeof y.componentDidUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(r.flags|=1024),l=!1)}return Pd(e,r,i,l,m,h)}function Pd(e,r,i,l,h,m){Ih(e,r);var y=(r.flags&128)!==0;if(!l&&!y)return h&&dc(r,i,!1),Xn(e,r,m);l=r.stateNode,Qf.current=r;var C=y&&typeof i.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,e!==null&&y?(r.child=Es(r,e.child,null,m),r.child=Es(r,null,C,m)):Yt(e,r,C,m),r.memoizedState=l.state,h&&dc(r,i,!0),r.child}function Dh(e){var r=e.stateNode;r.pendingContext?lc(e,r.pendingContext,r.pendingContext!==r.context):r.context&&lc(e,r.context,!1),q(e,r.containerInfo)}function Lh(e,r,i,l,h){return Cs(),Xo(h),r.flags|=256,Yt(e,r,i,l),r.child}var Id={dehydrated:null,treeContext:null,retryLane:0};function Od(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bh(e,r,i){var l=r.pendingProps,h=ke.current,m=!1,y=(r.flags&128)!==0,C;if((C=y)||(C=e!==null&&e.memoizedState===null?!1:(h&2)!==0),C?(m=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),ze(ke,h&1),e===null)return Yo(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(y=l.children,e=l.fallback,m?(l=r.mode,m=r.child,y={mode:"hidden",children:y},!(l&1)&&m!==null?(m.childLanes=0,m.pendingProps=y):m=Mc(y,l,0,null),e=$a(e,l,i,null),m.return=r,e.return=r,m.sibling=e,r.child=m,r.child.memoizedState=Od(i),r.memoizedState=Id,e):Dd(r,y));if(h=e.memoizedState,h!==null&&(C=h.dehydrated,C!==null))return Yf(e,r,y,l,C,h,i);if(m){m=l.fallback,y=r.mode,h=e.child,C=h.sibling;var R={mode:"hidden",children:l.children};return!(y&1)&&r.child!==h?(l=r.child,l.childLanes=0,l.pendingProps=R,r.deletions=null):(l=Us(h,R),l.subtreeFlags=h.subtreeFlags&14680064),C!==null?m=Us(C,m):(m=$a(m,y,i,null),m.flags|=2),m.return=r,l.return=r,l.sibling=m,r.child=l,l=m,m=r.child,y=e.child.memoizedState,y=y===null?Od(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},m.memoizedState=y,m.childLanes=e.childLanes&~i,r.memoizedState=Id,l}return m=e.child,e=m.sibling,l=Us(m,{mode:"visible",children:l.children}),!(r.mode&1)&&(l.lanes=i),l.return=r,l.sibling=null,e!==null&&(i=r.deletions,i===null?(r.deletions=[e],r.flags|=16):i.push(e)),r.child=l,r.memoizedState=null,l}function Dd(e,r){return r=Mc({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Tc(e,r,i,l){return l!==null&&Xo(l),Es(r,e.child,null,i),e=Dd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Yf(e,r,i,l,h,m,y){if(i)return r.flags&256?(r.flags&=-257,l=Ad(Error(a(422))),Tc(e,r,y,l)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(m=l.fallback,h=r.mode,l=Mc({mode:"visible",children:l.children},h,0,null),m=$a(m,h,y,null),m.flags|=2,l.return=r,m.return=r,l.sibling=m,r.child=l,r.mode&1&&Es(r,e.child,null,y),r.child.memoizedState=Od(y),r.memoizedState=Id,m);if(!(r.mode&1))return Tc(e,r,y,null);if(h.data==="$!"){if(l=h.nextSibling&&h.nextSibling.dataset,l)var C=l.dgst;return l=C,m=Error(a(419)),l=Ad(m,l,void 0),Tc(e,r,y,l)}if(C=(y&e.childLanes)!==0,cr||C){if(l=_t,l!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(l.suspendedLanes|y)?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,Qr(e,h),rn(l,e,h,-1))}return Xd(),l=Ad(Error(a(421))),Tc(e,r,y,l)}return h.data==="$?"?(r.flags|=128,r.child=e.child,r=dm.bind(null,e),h._reactRetry=r,null):(e=m.treeContext,Kt=Gr(h.nextSibling),Gt=r,We=!0,Ue=null,e!==null&&(ar[ir++]=Lt,ar[ir++]=Jr,ar[ir++]=Wn,Lt=e.id,Jr=e.overflow,Wn=r),r=Dd(r,l.children),r.flags|=4096,r)}function Uh(e,r,i){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),tl(e.return,r,i)}function Ld(e,r,i,l,h){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:h}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=i,m.tailMode=h)}function Fh(e,r,i){var l=r.pendingProps,h=l.revealOrder,m=l.tail;if(Yt(e,r,l.children,i),l=ke.current,l&2)l=l&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uh(e,i,r);else if(e.tag===19)Uh(e,i,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(ze(ke,l),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(i=r.child,h=null;i!==null;)e=i.alternate,e!==null&&_e(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=r.child,r.child=null):(h=i.sibling,i.sibling=null),Ld(r,!1,h,i,m);break;case"backwards":for(i=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&_e(e)===null){r.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Ld(r,!0,i,null,m);break;case"together":Ld(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ac(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Xn(e,r,i){if(e!==null&&(r.dependencies=e.dependencies),Ea|=r.lanes,!(i&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(a(153));if(r.child!==null){for(e=r.child,i=Us(e,e.pendingProps),r.child=i,i.return=r;e.sibling!==null;)e=e.sibling,i=i.sibling=Us(e,e.pendingProps),i.return=r;i.sibling=null}return r.child}function Xf(e,r,i){switch(r.tag){case 3:Dh(r),Cs();break;case 5:ee(r);break;case 1:Dt(r.type)&&Ci(r);break;case 4:q(r,r.stateNode.containerInfo);break;case 10:var l=r.type._context,h=r.memoizedProps.value;ze(Pi,l._currentValue),l._currentValue=h;break;case 13:if(l=r.memoizedState,l!==null)return l.dehydrated!==null?(ze(ke,ke.current&1),r.flags|=128,null):i&r.child.childLanes?Bh(e,r,i):(ze(ke,ke.current&1),e=Xn(e,r,i),e!==null?e.sibling:null);ze(ke,ke.current&1);break;case 19:if(l=(i&r.childLanes)!==0,e.flags&128){if(l)return Fh(e,r,i);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ze(ke,ke.current),l)break;return null;case 22:case 23:return r.lanes=0,Ph(e,r,i)}return Xn(e,r,i)}var zh,Bd,Mh,qh;zh=function(e,r){for(var i=r.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Bd=function(){},Mh=function(e,r,i,l){var h=e.memoizedProps;if(h!==l){e=r.stateNode,w(Lr.current);var m=null;switch(i){case"input":h=za(e,h),l=za(e,l),m=[];break;case"select":h=K({},h,{value:void 0}),l=K({},l,{value:void 0}),m=[];break;case"textarea":h=bt(e,h),l=bt(e,l),m=[];break;default:typeof h.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=yr)}lo(i,l);var y;i=null;for(M in h)if(!l.hasOwnProperty(M)&&h.hasOwnProperty(M)&&h[M]!=null)if(M==="style"){var C=h[M];for(y in C)C.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(c.hasOwnProperty(M)?m||(m=[]):(m=m||[]).push(M,null));for(M in l){var R=l[M];if(C=h!=null?h[M]:void 0,l.hasOwnProperty(M)&&R!==C&&(R!=null||C!=null))if(M==="style")if(C){for(y in C)!C.hasOwnProperty(y)||R&&R.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in R)R.hasOwnProperty(y)&&C[y]!==R[y]&&(i||(i={}),i[y]=R[y])}else i||(m||(m=[]),m.push(M,i)),i=R;else M==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,C=C?C.__html:void 0,R!=null&&C!==R&&(m=m||[]).push(M,R)):M==="children"?typeof R!="string"&&typeof R!="number"||(m=m||[]).push(M,""+R):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(c.hasOwnProperty(M)?(R!=null&&M==="onScroll"&&Me("scroll",e),m||C===R||(m=[])):(m=m||[]).push(M,R))}i&&(m=m||[]).push("style",i);var M=m;(r.updateQueue=M)&&(r.flags|=4)}},qh=function(e,r,i,l){i!==l&&(r.flags|=4)};function al(e,r){if(!We)switch(e.tailMode){case"hidden":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ut(e){var r=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(r)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags&14680064,l|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=i,r}function Zf(e,r,i){var l=r.pendingProps;switch(Ns(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(r),null;case 1:return Dt(r.type)&&Ni(),Ut(r),null;case 3:return l=r.stateNode,W(),qe(Ot),qe(wt),Bt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ri(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Ue!==null&&(Jd(Ue),Ue=null))),Bd(e,r),Ut(r),null;case 5:ve(r);var h=w(d.current);if(i=r.type,e!==null&&r.stateNode!=null)Mh(e,r,i,l,h),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Ut(r),null}if(e=w(Lr.current),Ri(r)){l=r.stateNode,i=r.type;var m=r.memoizedProps;switch(l[Dr]=r,l[ws]=m,e=(r.mode&1)!==0,i){case"dialog":Me("cancel",l),Me("close",l);break;case"iframe":case"object":case"embed":Me("load",l);break;case"video":case"audio":for(h=0;h<Un.length;h++)Me(Un[h],l);break;case"source":Me("error",l);break;case"img":case"image":case"link":Me("error",l),Me("load",l);break;case"details":Me("toggle",l);break;case"input":Gs(l,m),Me("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!m.multiple},Me("invalid",l);break;case"textarea":ao(l,m),Me("invalid",l)}lo(i,m),h=null;for(var y in m)if(m.hasOwnProperty(y)){var C=m[y];y==="children"?typeof C=="string"?l.textContent!==C&&(m.suppressHydrationWarning!==!0&&st(l.textContent,C,e),h=["children",C]):typeof C=="number"&&l.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&st(l.textContent,C,e),h=["children",""+C]):c.hasOwnProperty(y)&&C!=null&&y==="onScroll"&&Me("scroll",l)}switch(i){case"input":Zt(l),Cr(l,m,!0);break;case"textarea":Zt(l),Mr(l);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(l.onclick=yr)}l=h,r.updateQueue=l,l!==null&&(r.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=is(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=y.createElement(i,{is:l.is}):(e=y.createElement(i),i==="select"&&(y=e,l.multiple?y.multiple=!0:l.size&&(y.size=l.size))):e=y.createElementNS(e,i),e[Dr]=r,e[ws]=l,zh(e,r,!1,!1),r.stateNode=e;e:{switch(y=Er(i,l),i){case"dialog":Me("cancel",e),Me("close",e),h=l;break;case"iframe":case"object":case"embed":Me("load",e),h=l;break;case"video":case"audio":for(h=0;h<Un.length;h++)Me(Un[h],e);h=l;break;case"source":Me("error",e),h=l;break;case"img":case"image":case"link":Me("error",e),Me("load",e),h=l;break;case"details":Me("toggle",e),h=l;break;case"input":Gs(e,l),h=za(e,l),Me("invalid",e);break;case"option":h=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},h=K({},l,{value:void 0}),Me("invalid",e);break;case"textarea":ao(e,l),h=bt(e,l),Me("invalid",e);break;default:h=l}lo(i,h),C=h;for(m in C)if(C.hasOwnProperty(m)){var R=C[m];m==="style"?oo(e,R):m==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&io(e,R)):m==="children"?typeof R=="string"?(i!=="textarea"||R!=="")&&Ys(e,R):typeof R=="number"&&Ys(e,""+R):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(c.hasOwnProperty(m)?R!=null&&m==="onScroll"&&Me("scroll",e):R!=null&&E(e,m,R,y))}switch(i){case"input":Zt(e),Cr(e,l,!1);break;case"textarea":Zt(e),Mr(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Ee(l.value));break;case"select":e.multiple=!!l.multiple,m=l.value,m!=null?me(e,!!l.multiple,m,!1):l.defaultValue!=null&&me(e,!!l.multiple,l.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=yr)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ut(r),null;case 6:if(e&&r.stateNode!=null)qh(e,r,e.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(i=w(d.current),w(Lr.current),Ri(r)){if(l=r.stateNode,i=r.memoizedProps,l[Dr]=r,(m=l.nodeValue!==i)&&(e=Gt,e!==null))switch(e.tag){case 3:st(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&st(l.nodeValue,i,(e.mode&1)!==0)}m&&(r.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[Dr]=r,r.stateNode=l}return Ut(r),null;case 13:if(qe(ke),l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Kt!==null&&r.mode&1&&!(r.flags&128))mc(),Cs(),r.flags|=98560,m=!1;else if(m=Ri(r),l!==null&&l.dehydrated!==null){if(e===null){if(!m)throw Error(a(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Dr]=r}else Cs(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Ut(r),m=!1}else Ue!==null&&(Jd(Ue),Ue=null),m=!0;if(!m)return r.flags&65536?r:null}return r.flags&128?(r.lanes=i,r):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(r.child.flags|=8192,r.mode&1&&(e===null||ke.current&1?gt===0&&(gt=3):Xd())),r.updateQueue!==null&&(r.flags|=4),Ut(r),null);case 4:return W(),Bd(e,r),e===null&&_a(r.stateNode.containerInfo),Ut(r),null;case 10:return el(r.type._context),Ut(r),null;case 17:return Dt(r.type)&&Ni(),Ut(r),null;case 19:if(qe(ke),m=r.memoizedState,m===null)return Ut(r),null;if(l=(r.flags&128)!==0,y=m.rendering,y===null)if(l)al(m,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(y=_e(e),y!==null){for(r.flags|=128,al(m,!1),l=y.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),r.subtreeFlags=0,l=i,i=r.child;i!==null;)m=i,e=l,m.flags&=14680066,y=m.alternate,y===null?(m.childLanes=0,m.lanes=e,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=y.childLanes,m.lanes=y.lanes,m.child=y.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=y.memoizedProps,m.memoizedState=y.memoizedState,m.updateQueue=y.updateQueue,m.type=y.type,e=y.dependencies,m.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ze(ke,ke.current&1|2),r.child}e=e.sibling}m.tail!==null&&Qe()>qi&&(r.flags|=128,l=!0,al(m,!1),r.lanes=4194304)}else{if(!l)if(e=_e(y),e!==null){if(r.flags|=128,l=!0,i=e.updateQueue,i!==null&&(r.updateQueue=i,r.flags|=4),al(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!We)return Ut(r),null}else 2*Qe()-m.renderingStartTime>qi&&i!==1073741824&&(r.flags|=128,l=!0,al(m,!1),r.lanes=4194304);m.isBackwards?(y.sibling=r.child,r.child=y):(i=m.last,i!==null?i.sibling=y:r.child=y,m.last=y)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Qe(),r.sibling=null,i=ke.current,ze(ke,l?i&1|2:i&1),r):(Ut(r),null);case 22:case 23:return Yd(),l=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(r.flags|=8192),l&&r.mode&1?_r&1073741824&&(Ut(r),r.subtreeFlags&6&&(r.flags|=8192)):Ut(r),null;case 24:return null;case 25:return null}throw Error(a(156,r.tag))}function em(e,r){switch(Ns(r),r.tag){case 1:return Dt(r.type)&&Ni(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return W(),qe(Ot),qe(wt),Bt(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return ve(r),null;case 13:if(qe(ke),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Cs()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return qe(ke),null;case 4:return W(),null;case 10:return el(r.type._context),null;case 22:case 23:return Yd(),null;case 24:return null;default:return null}}var Rc=!1,Ft=!1,tm=typeof WeakSet=="function"?WeakSet:Set,ne=null;function zi(e,r){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){it(e,r,l)}else i.current=null}function Ud(e,r,i){try{i()}catch(l){it(e,r,l)}}var Hh=!1;function rm(e,r){if(ka=Pt,e=hi(),Oo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var y=0,C=-1,R=-1,M=0,Q=0,Y=e,J=null;t:for(;;){for(var te;Y!==i||h!==0&&Y.nodeType!==3||(C=y+h),Y!==m||l!==0&&Y.nodeType!==3||(R=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(te=Y.firstChild)!==null;)J=Y,Y=te;for(;;){if(Y===e)break t;if(J===i&&++M===h&&(C=y),J===m&&++Q===l&&(R=y),(te=Y.nextSibling)!==null)break;Y=J,J=Y.parentNode}Y=te}i=C===-1||R===-1?null:{start:C,end:R}}else i=null}i=i||{start:0,end:0}}else i=null;for(Mo={focusedElem:e,selectionRange:i},Pt=!1,ne=r;ne!==null;)if(r=ne,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,ne=e;else for(;ne!==null;){r=ne;try{var se=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var ae=se.memoizedProps,ct=se.memoizedState,F=r.stateNode,O=F.getSnapshotBeforeUpdate(r.elementType===r.type?ae:Zr(r.type,ae),ct);F.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var z=r.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Z){it(r,r.return,Z)}if(e=r.sibling,e!==null){e.return=r.return,ne=e;break}ne=r.return}return se=Hh,Hh=!1,se}function il(e,r,i){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&e)===e){var m=h.destroy;h.destroy=void 0,m!==void 0&&Ud(r,i,m)}h=h.next}while(h!==l)}}function $c(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==r)}}function Fd(e){var r=e.ref;if(r!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof r=="function"?r(e):r.current=e}}function Vh(e){var r=e.alternate;r!==null&&(e.alternate=null,Vh(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Dr],delete r[ws],delete r[Wo],delete r[Go],delete r[jd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wh(e){return e.tag===5||e.tag===3||e.tag===4}function Gh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zd(e,r,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?i.nodeType===8?i.parentNode.insertBefore(e,r):i.insertBefore(e,r):(i.nodeType===8?(r=i.parentNode,r.insertBefore(e,i)):(r=i,r.appendChild(e)),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=yr));else if(l!==4&&(e=e.child,e!==null))for(zd(e,r,i),e=e.sibling;e!==null;)zd(e,r,i),e=e.sibling}function Md(e,r,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?i.insertBefore(e,r):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Md(e,r,i),e=e.sibling;e!==null;)Md(e,r,i),e=e.sibling}var Ct=null,en=!1;function Is(e,r,i){for(i=i.child;i!==null;)Kh(e,r,i),i=i.sibling}function Kh(e,r,i){if(Ae&&typeof Ae.onCommitFiberUnmount=="function")try{Ae.onCommitFiberUnmount(oa,i)}catch{}switch(i.tag){case 5:Ft||zi(i,r);case 6:var l=Ct,h=en;Ct=null,Is(e,r,i),Ct=l,en=h,Ct!==null&&(en?(e=Ct,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ct.removeChild(i.stateNode));break;case 18:Ct!==null&&(en?(e=Ct,i=i.stateNode,e.nodeType===8?ji(e.parentNode,i):e.nodeType===1&&ji(e,i),hs(e)):ji(Ct,i.stateNode));break;case 4:l=Ct,h=en,Ct=i.stateNode.containerInfo,en=!0,Is(e,r,i),Ct=l,en=h;break;case 0:case 11:case 14:case 15:if(!Ft&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){h=l=l.next;do{var m=h,y=m.destroy;m=m.tag,y!==void 0&&(m&2||m&4)&&Ud(i,r,y),h=h.next}while(h!==l)}Is(e,r,i);break;case 1:if(!Ft&&(zi(i,r),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(C){it(i,r,C)}Is(e,r,i);break;case 21:Is(e,r,i);break;case 22:i.mode&1?(Ft=(l=Ft)||i.memoizedState!==null,Is(e,r,i),Ft=l):Is(e,r,i);break;default:Is(e,r,i)}}function Jh(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new tm),r.forEach(function(l){var h=um.bind(null,e,l);i.has(l)||(i.add(l),l.then(h,h))})}}function tn(e,r){var i=r.deletions;if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];try{var m=e,y=r,C=y;e:for(;C!==null;){switch(C.tag){case 5:Ct=C.stateNode,en=!1;break e;case 3:Ct=C.stateNode.containerInfo,en=!0;break e;case 4:Ct=C.stateNode.containerInfo,en=!0;break e}C=C.return}if(Ct===null)throw Error(a(160));Kh(m,y,h),Ct=null,en=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(M){it(h,r,M)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Qh(r,e),r=r.sibling}function Qh(e,r){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(r,e),bn(e),l&4){try{il(3,e,e.return),$c(3,e)}catch(ae){it(e,e.return,ae)}try{il(5,e,e.return)}catch(ae){it(e,e.return,ae)}}break;case 1:tn(r,e),bn(e),l&512&&i!==null&&zi(i,i.return);break;case 5:if(tn(r,e),bn(e),l&512&&i!==null&&zi(i,i.return),e.flags&32){var h=e.stateNode;try{Ys(h,"")}catch(ae){it(e,e.return,ae)}}if(l&4&&(h=e.stateNode,h!=null)){var m=e.memoizedProps,y=i!==null?i.memoizedProps:m,C=e.type,R=e.updateQueue;if(e.updateQueue=null,R!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&El(h,m),Er(C,y);var M=Er(C,m);for(y=0;y<R.length;y+=2){var Q=R[y],Y=R[y+1];Q==="style"?oo(h,Y):Q==="dangerouslySetInnerHTML"?io(h,Y):Q==="children"?Ys(h,Y):E(h,Q,Y,M)}switch(C){case"input":nt(h,m);break;case"textarea":Tl(h,m);break;case"select":var J=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var te=m.value;te!=null?me(h,!!m.multiple,te,!1):J!==!!m.multiple&&(m.defaultValue!=null?me(h,!!m.multiple,m.defaultValue,!0):me(h,!!m.multiple,m.multiple?[]:"",!1))}h[ws]=m}catch(ae){it(e,e.return,ae)}}break;case 6:if(tn(r,e),bn(e),l&4){if(e.stateNode===null)throw Error(a(162));h=e.stateNode,m=e.memoizedProps;try{h.nodeValue=m}catch(ae){it(e,e.return,ae)}}break;case 3:if(tn(r,e),bn(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{hs(r.containerInfo)}catch(ae){it(e,e.return,ae)}break;case 4:tn(r,e),bn(e);break;case 13:tn(r,e),bn(e),h=e.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(Vd=Qe())),l&4&&Jh(e);break;case 22:if(Q=i!==null&&i.memoizedState!==null,e.mode&1?(Ft=(M=Ft)||Q,tn(r,e),Ft=M):tn(r,e),bn(e),l&8192){if(M=e.memoizedState!==null,(e.stateNode.isHidden=M)&&!Q&&e.mode&1)for(ne=e,Q=e.child;Q!==null;){for(Y=ne=Q;ne!==null;){switch(J=ne,te=J.child,J.tag){case 0:case 11:case 14:case 15:il(4,J,J.return);break;case 1:zi(J,J.return);var se=J.stateNode;if(typeof se.componentWillUnmount=="function"){l=J,i=J.return;try{r=l,se.props=r.memoizedProps,se.state=r.memoizedState,se.componentWillUnmount()}catch(ae){it(l,i,ae)}}break;case 5:zi(J,J.return);break;case 22:if(J.memoizedState!==null){Zh(Y);continue}}te!==null?(te.return=J,ne=te):Zh(Y)}Q=Q.sibling}e:for(Q=null,Y=e;;){if(Y.tag===5){if(Q===null){Q=Y;try{h=Y.stateNode,M?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=Y.stateNode,R=Y.memoizedProps.style,y=R!=null&&R.hasOwnProperty("display")?R.display:null,C.style.display=Ma("display",y))}catch(ae){it(e,e.return,ae)}}}else if(Y.tag===6){if(Q===null)try{Y.stateNode.nodeValue=M?"":Y.memoizedProps}catch(ae){it(e,e.return,ae)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===e)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===e)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===e)break e;Q===Y&&(Q=null),Y=Y.return}Q===Y&&(Q=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:tn(r,e),bn(e),l&4&&Jh(e);break;case 21:break;default:tn(r,e),bn(e)}}function bn(e){var r=e.flags;if(r&2){try{e:{for(var i=e.return;i!==null;){if(Wh(i)){var l=i;break e}i=i.return}throw Error(a(160))}switch(l.tag){case 5:var h=l.stateNode;l.flags&32&&(Ys(h,""),l.flags&=-33);var m=Gh(e);Md(e,m,h);break;case 3:case 4:var y=l.stateNode.containerInfo,C=Gh(e);zd(e,C,y);break;default:throw Error(a(161))}}catch(R){it(e,e.return,R)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function nm(e,r,i){ne=e,Yh(e)}function Yh(e,r,i){for(var l=(e.mode&1)!==0;ne!==null;){var h=ne,m=h.child;if(h.tag===22&&l){var y=h.memoizedState!==null||Rc;if(!y){var C=h.alternate,R=C!==null&&C.memoizedState!==null||Ft;C=Rc;var M=Ft;if(Rc=y,(Ft=R)&&!M)for(ne=h;ne!==null;)y=ne,R=y.child,y.tag===22&&y.memoizedState!==null?ep(h):R!==null?(R.return=y,ne=R):ep(h);for(;m!==null;)ne=m,Yh(m),m=m.sibling;ne=h,Rc=C,Ft=M}Xh(e)}else h.subtreeFlags&8772&&m!==null?(m.return=h,ne=m):Xh(e)}}function Xh(e){for(;ne!==null;){var r=ne;if(r.flags&8772){var i=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Ft||$c(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!Ft)if(i===null)l.componentDidMount();else{var h=r.elementType===r.type?i.memoizedProps:Zr(r.type,i.memoizedProps);l.componentDidUpdate(h,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&wc(r,m,l);break;case 3:var y=r.updateQueue;if(y!==null){if(i=null,r.child!==null)switch(r.child.tag){case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}wc(r,y,i)}break;case 5:var C=r.stateNode;if(i===null&&r.flags&4){i=C;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&i.focus();break;case"img":R.src&&(i.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var M=r.alternate;if(M!==null){var Q=M.memoizedState;if(Q!==null){var Y=Q.dehydrated;Y!==null&&hs(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Ft||r.flags&512&&Fd(r)}catch(J){it(r,r.return,J)}}if(r===e){ne=null;break}if(i=r.sibling,i!==null){i.return=r.return,ne=i;break}ne=r.return}}function Zh(e){for(;ne!==null;){var r=ne;if(r===e){ne=null;break}var i=r.sibling;if(i!==null){i.return=r.return,ne=i;break}ne=r.return}}function ep(e){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var i=r.return;try{$c(4,r)}catch(R){it(r,i,R)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var h=r.return;try{l.componentDidMount()}catch(R){it(r,h,R)}}var m=r.return;try{Fd(r)}catch(R){it(r,m,R)}break;case 5:var y=r.return;try{Fd(r)}catch(R){it(r,y,R)}}}catch(R){it(r,r.return,R)}if(r===e){ne=null;break}var C=r.sibling;if(C!==null){C.return=r.return,ne=C;break}ne=r.return}}var sm=Math.ceil,Pc=B.ReactCurrentDispatcher,qd=B.ReactCurrentOwner,Fr=B.ReactCurrentBatchConfig,Pe=0,_t=null,ut=null,Et=0,_r=0,Mi=pn(0),gt=0,ol=null,Ea=0,Ic=0,Hd=0,ll=null,dr=null,Vd=0,qi=1/0,Zn=null,Oc=!1,Wd=null,Os=null,Dc=!1,Ds=null,Lc=0,cl=0,Gd=null,Bc=-1,Uc=0;function Xt(){return Pe&6?Qe():Bc!==-1?Bc:Bc=Qe()}function Ls(e){return e.mode&1?Pe&2&&Et!==0?Et&-Et:kd.transition!==null?(Uc===0&&(Uc=Ll()),Uc):(e=Re,e!==0||(e=window.event,e=e===void 0?16:vo(e.type)),e):1}function rn(e,r,i,l){if(50<cl)throw cl=0,Gd=null,Error(a(185));Mt(e,i,l),(!(Pe&2)||e!==_t)&&(e===_t&&(!(Pe&2)&&(Ic|=i),gt===4&&Bs(e,Et)),ur(e,l),i===1&&Pe===0&&!(r.mode&1)&&(qi=Qe()+500,Ei&&mn()))}function ur(e,r){var i=e.callbackNode;Dl(e,r);var l=Hr(e,e===_t?Et:0);if(l===0)i!==null&&Rl(i),e.callbackNode=null,e.callbackPriority=0;else if(r=l&-l,e.callbackPriority!==r){if(i!=null&&Rl(i),r===1)e.tag===0?Sd(rp.bind(null,e)):ft(rp.bind(null,e)),_d(function(){!(Pe&6)&&mn()}),i=null;else{switch(go(l)){case 1:i=cs;break;case 4:i=Pl;break;case 16:i=mr;break;case 536870912:i=Rr;break;default:i=mr}i=dp(i,tp.bind(null,e))}e.callbackPriority=r,e.callbackNode=i}}function tp(e,r){if(Bc=-1,Uc=0,Pe&6)throw Error(a(327));var i=e.callbackNode;if(Hi()&&e.callbackNode!==i)return null;var l=Hr(e,e===_t?Et:0);if(l===0)return null;if(l&30||l&e.expiredLanes||r)r=Fc(e,l);else{r=l;var h=Pe;Pe|=2;var m=sp();(_t!==e||Et!==r)&&(Zn=null,qi=Qe()+500,Aa(e,r));do try{om();break}catch(C){np(e,C)}while(!0);Ca(),Pc.current=m,Pe=h,ut!==null?r=0:(_t=null,Et=0,r=gt)}if(r!==0){if(r===2&&(h=Ya(e),h!==0&&(l=h,r=Kd(e,h))),r===1)throw i=ol,Aa(e,0),Bs(e,l),ur(e,Qe()),i;if(r===6)Bs(e,l);else{if(h=e.current.alternate,!(l&30)&&!am(h)&&(r=Fc(e,l),r===2&&(m=Ya(e),m!==0&&(l=m,r=Kd(e,m))),r===1))throw i=ol,Aa(e,0),Bs(e,l),ur(e,Qe()),i;switch(e.finishedWork=h,e.finishedLanes=l,r){case 0:case 1:throw Error(a(345));case 2:Ra(e,dr,Zn);break;case 3:if(Bs(e,l),(l&130023424)===l&&(r=Vd+500-Qe(),10<r)){if(Hr(e,0)!==0)break;if(h=e.suspendedLanes,(h&l)!==l){Xt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Ho(Ra.bind(null,e,dr,Zn),r);break}Ra(e,dr,Zn);break;case 4:if(Bs(e,l),(l&4194240)===l)break;for(r=e.eventTimes,h=-1;0<l;){var y=31-Rt(l);m=1<<y,y=r[y],y>h&&(h=y),l&=~m}if(l=h,l=Qe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*sm(l/1960))-l,10<l){e.timeoutHandle=Ho(Ra.bind(null,e,dr,Zn),l);break}Ra(e,dr,Zn);break;case 5:Ra(e,dr,Zn);break;default:throw Error(a(329))}}}return ur(e,Qe()),e.callbackNode===i?tp.bind(null,e):null}function Kd(e,r){var i=ll;return e.current.memoizedState.isDehydrated&&(Aa(e,r).flags|=256),e=Fc(e,r),e!==2&&(r=dr,dr=i,r!==null&&Jd(r)),e}function Jd(e){dr===null?dr=e:dr.push.apply(dr,e)}function am(e){for(var r=e;;){if(r.flags&16384){var i=r.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var h=i[l],m=h.getSnapshot;h=h.value;try{if(!sr(m(),h))return!1}catch{return!1}}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Bs(e,r){for(r&=~Hd,r&=~Ic,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var i=31-Rt(r),l=1<<i;e[i]=-1,r&=~l}}function rp(e){if(Pe&6)throw Error(a(327));Hi();var r=Hr(e,0);if(!(r&1))return ur(e,Qe()),null;var i=Fc(e,r);if(e.tag!==0&&i===2){var l=Ya(e);l!==0&&(r=l,i=Kd(e,l))}if(i===1)throw i=ol,Aa(e,0),Bs(e,r),ur(e,Qe()),i;if(i===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Ra(e,dr,Zn),ur(e,Qe()),null}function Qd(e,r){var i=Pe;Pe|=1;try{return e(r)}finally{Pe=i,Pe===0&&(qi=Qe()+500,Ei&&mn())}}function Ta(e){Ds!==null&&Ds.tag===0&&!(Pe&6)&&Hi();var r=Pe;Pe|=1;var i=Fr.transition,l=Re;try{if(Fr.transition=null,Re=1,e)return e()}finally{Re=l,Fr.transition=i,Pe=r,!(Pe&6)&&mn()}}function Yd(){_r=Mi.current,qe(Mi)}function Aa(e,r){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,_i(i)),ut!==null)for(i=ut.return;i!==null;){var l=i;switch(Ns(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ni();break;case 3:W(),qe(Ot),qe(wt),Bt();break;case 5:ve(l);break;case 4:W();break;case 13:qe(ke);break;case 19:qe(ke);break;case 10:el(l.type._context);break;case 22:case 23:Yd()}i=i.return}if(_t=e,ut=e=Us(e.current,null),Et=_r=r,gt=0,ol=null,Hd=Ic=Ea=0,dr=ll=null,Qn!==null){for(r=0;r<Qn.length;r++)if(i=Qn[r],l=i.interleaved,l!==null){i.interleaved=null;var h=l.next,m=i.pending;if(m!==null){var y=m.next;m.next=h,l.next=y}i.pending=l}Qn=null}return e}function np(e,r){do{var i=ut;try{if(Ca(),Yr.current=Cc,Ur){for(var l=De.memoizedState;l!==null;){var h=l.queue;h!==null&&(h.pending=null),l=l.next}Ur=!1}if(Jt=0,Ye=Ve=De=null,Di=!1,Ps=0,qd.current=null,i===null||i.return===null){gt=1,ol=r,ut=null;break}e:{var m=e,y=i.return,C=i,R=r;if(r=Et,C.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var M=R,Q=C,Y=Q.tag;if(!(Q.mode&1)&&(Y===0||Y===11||Y===15)){var J=Q.alternate;J?(Q.updateQueue=J.updateQueue,Q.memoizedState=J.memoizedState,Q.lanes=J.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var te=Eh(y);if(te!==null){te.flags&=-257,Th(te,y,C,m,r),te.mode&1&&Ch(m,M,r),r=te,R=M;var se=r.updateQueue;if(se===null){var ae=new Set;ae.add(R),r.updateQueue=ae}else se.add(R);break e}else{if(!(r&1)){Ch(m,M,r),Xd();break e}R=Error(a(426))}}else if(We&&C.mode&1){var ct=Eh(y);if(ct!==null){!(ct.flags&65536)&&(ct.flags|=256),Th(ct,y,C,m,r),Xo(Fi(R,C));break e}}m=R=Fi(R,C),gt!==4&&(gt=2),ll===null?ll=[m]:ll.push(m),m=y;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var F=kh(m,R,r);vc(m,F);break e;case 1:C=R;var O=m.type,z=m.stateNode;if(!(m.flags&128)&&(typeof O.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Os===null||!Os.has(z)))){m.flags|=65536,r&=-r,m.lanes|=r;var Z=Nh(m,C,r);vc(m,Z);break e}}m=m.return}while(m!==null)}ip(i)}catch(ie){r=ie,ut===i&&i!==null&&(ut=i=i.return);continue}break}while(!0)}function sp(){var e=Pc.current;return Pc.current=Cc,e===null?Cc:e}function Xd(){(gt===0||gt===3||gt===2)&&(gt=4),_t===null||!(Ea&268435455)&&!(Ic&268435455)||Bs(_t,Et)}function Fc(e,r){var i=Pe;Pe|=2;var l=sp();(_t!==e||Et!==r)&&(Zn=null,Aa(e,r));do try{im();break}catch(h){np(e,h)}while(!0);if(Ca(),Pe=i,Pc.current=l,ut!==null)throw Error(a(261));return _t=null,Et=0,gt}function im(){for(;ut!==null;)ap(ut)}function om(){for(;ut!==null&&!on();)ap(ut)}function ap(e){var r=cp(e.alternate,e,_r);e.memoizedProps=e.pendingProps,r===null?ip(e):ut=r,qd.current=null}function ip(e){var r=e;do{var i=r.alternate;if(e=r.return,r.flags&32768){if(i=em(i,r),i!==null){i.flags&=32767,ut=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,ut=null;return}}else if(i=Zf(i,r,_r),i!==null){ut=i;return}if(r=r.sibling,r!==null){ut=r;return}ut=r=e}while(r!==null);gt===0&&(gt=5)}function Ra(e,r,i){var l=Re,h=Fr.transition;try{Fr.transition=null,Re=1,lm(e,r,i,l)}finally{Fr.transition=h,Re=l}return null}function lm(e,r,i,l){do Hi();while(Ds!==null);if(Pe&6)throw Error(a(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var m=i.lanes|i.childLanes;if(mo(e,m),e===_t&&(ut=_t=null,Et=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Dc||(Dc=!0,dp(mr,function(){return Hi(),null})),m=(i.flags&15990)!==0,i.subtreeFlags&15990||m){m=Fr.transition,Fr.transition=null;var y=Re;Re=1;var C=Pe;Pe|=4,qd.current=null,rm(e,i),Qh(i,e),ba(Mo),Pt=!!ka,Mo=ka=null,e.current=i,nm(i),ia(),Pe=C,Re=y,Fr.transition=m}else e.current=i;if(Dc&&(Dc=!1,Ds=e,Lc=h),m=e.pendingLanes,m===0&&(Os=null),gr(i.stateNode),ur(e,Qe()),r!==null)for(l=e.onRecoverableError,i=0;i<r.length;i++)h=r[i],l(h.value,{componentStack:h.stack,digest:h.digest});if(Oc)throw Oc=!1,e=Wd,Wd=null,e;return Lc&1&&e.tag!==0&&Hi(),m=e.pendingLanes,m&1?e===Gd?cl++:(cl=0,Gd=e):cl=0,mn(),null}function Hi(){if(Ds!==null){var e=go(Lc),r=Fr.transition,i=Re;try{if(Fr.transition=null,Re=16>e?16:e,Ds===null)var l=!1;else{if(e=Ds,Ds=null,Lc=0,Pe&6)throw Error(a(331));var h=Pe;for(Pe|=4,ne=e.current;ne!==null;){var m=ne,y=m.child;if(ne.flags&16){var C=m.deletions;if(C!==null){for(var R=0;R<C.length;R++){var M=C[R];for(ne=M;ne!==null;){var Q=ne;switch(Q.tag){case 0:case 11:case 15:il(8,Q,m)}var Y=Q.child;if(Y!==null)Y.return=Q,ne=Y;else for(;ne!==null;){Q=ne;var J=Q.sibling,te=Q.return;if(Vh(Q),Q===M){ne=null;break}if(J!==null){J.return=te,ne=J;break}ne=te}}}var se=m.alternate;if(se!==null){var ae=se.child;if(ae!==null){se.child=null;do{var ct=ae.sibling;ae.sibling=null,ae=ct}while(ae!==null)}}ne=m}}if(m.subtreeFlags&2064&&y!==null)y.return=m,ne=y;else e:for(;ne!==null;){if(m=ne,m.flags&2048)switch(m.tag){case 0:case 11:case 15:il(9,m,m.return)}var F=m.sibling;if(F!==null){F.return=m.return,ne=F;break e}ne=m.return}}var O=e.current;for(ne=O;ne!==null;){y=ne;var z=y.child;if(y.subtreeFlags&2064&&z!==null)z.return=y,ne=z;else e:for(y=O;ne!==null;){if(C=ne,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:$c(9,C)}}catch(ie){it(C,C.return,ie)}if(C===y){ne=null;break e}var Z=C.sibling;if(Z!==null){Z.return=C.return,ne=Z;break e}ne=C.return}}if(Pe=h,mn(),Ae&&typeof Ae.onPostCommitFiberRoot=="function")try{Ae.onPostCommitFiberRoot(oa,e)}catch{}l=!0}return l}finally{Re=i,Fr.transition=r}}return!1}function op(e,r,i){r=Fi(i,r),r=kh(e,r,1),e=xn(e,r,1),r=Xt(),e!==null&&(Mt(e,1,r),ur(e,r))}function it(e,r,i){if(e.tag===3)op(e,e,i);else for(;r!==null;){if(r.tag===3){op(r,e,i);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Os===null||!Os.has(l))){e=Fi(i,e),e=Nh(r,e,1),r=xn(r,e,1),e=Xt(),r!==null&&(Mt(r,1,e),ur(r,e));break}}r=r.return}}function cm(e,r,i){var l=e.pingCache;l!==null&&l.delete(r),r=Xt(),e.pingedLanes|=e.suspendedLanes&i,_t===e&&(Et&i)===i&&(gt===4||gt===3&&(Et&130023424)===Et&&500>Qe()-Vd?Aa(e,0):Hd|=i),ur(e,r)}function lp(e,r){r===0&&(e.mode&1?(r=Qa,Qa<<=1,!(Qa&130023424)&&(Qa=4194304)):r=1);var i=Xt();e=Qr(e,r),e!==null&&(Mt(e,r,i),ur(e,i))}function dm(e){var r=e.memoizedState,i=0;r!==null&&(i=r.retryLane),lp(e,i)}function um(e,r){var i=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(a(314))}l!==null&&l.delete(r),lp(e,i)}var cp;cp=function(e,r,i){if(e!==null)if(e.memoizedProps!==r.pendingProps||Ot.current)cr=!0;else{if(!(e.lanes&i)&&!(r.flags&128))return cr=!1,Xf(e,r,i);cr=!!(e.flags&131072)}else cr=!1,We&&r.flags&1048576&&uc(r,Ai,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;Ac(e,r),e=r.pendingProps;var h=at(r,wt.current);As(r,i),h=Bi(null,r,l,e,h,i);var m=Ui();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Dt(l)?(m=!0,Ci(r)):m=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,nl(r),h.updater=Ec,r.stateNode=h,h._reactInternals=r,Td(r,l,e,i),r=Pd(null,r,l,!0,m,i)):(r.tag=0,We&&m&&Jo(r),Yt(null,r,h,i),r=r.child),r;case 16:l=r.elementType;e:{switch(Ac(e,r),e=r.pendingProps,h=l._init,l=h(l._payload),r.type=l,h=r.tag=pm(l),e=Zr(l,e),h){case 0:r=$d(null,r,l,e,i);break e;case 1:r=Oh(null,r,l,e,i);break e;case 11:r=Ah(null,r,l,e,i);break e;case 14:r=Rh(null,r,l,Zr(l.type,e),i);break e}throw Error(a(306,l,""))}return r;case 0:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:Zr(l,h),$d(e,r,l,h,i);case 1:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:Zr(l,h),Oh(e,r,l,h,i);case 3:e:{if(Dh(r),e===null)throw Error(a(387));l=r.pendingProps,m=r.memoizedState,h=m.element,yc(e,r),Oi(r,l,null,i);var y=r.memoizedState;if(l=y.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){h=Fi(Error(a(423)),r),r=Lh(e,r,l,i,h);break e}else if(l!==h){h=Fi(Error(a(424)),r),r=Lh(e,r,l,i,h);break e}else for(Kt=Gr(r.stateNode.containerInfo.firstChild),Gt=r,We=!0,Ue=null,i=xc(r,null,l,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Cs(),l===h){r=Xn(e,r,i);break e}Yt(e,r,l,i)}r=r.child}return r;case 5:return ee(r),e===null&&Yo(r),l=r.type,h=r.pendingProps,m=e!==null?e.memoizedProps:null,y=h.children,qo(l,h)?y=null:m!==null&&qo(l,m)&&(r.flags|=32),Ih(e,r),Yt(e,r,y,i),r.child;case 6:return e===null&&Yo(r),null;case 13:return Bh(e,r,i);case 4:return q(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Es(r,null,l,i):Yt(e,r,l,i),r.child;case 11:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:Zr(l,h),Ah(e,r,l,h,i);case 7:return Yt(e,r,r.pendingProps,i),r.child;case 8:return Yt(e,r,r.pendingProps.children,i),r.child;case 12:return Yt(e,r,r.pendingProps.children,i),r.child;case 10:e:{if(l=r.type._context,h=r.pendingProps,m=r.memoizedProps,y=h.value,ze(Pi,l._currentValue),l._currentValue=y,m!==null)if(sr(m.value,y)){if(m.children===h.children&&!Ot.current){r=Xn(e,r,i);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var C=m.dependencies;if(C!==null){y=m.child;for(var R=C.firstContext;R!==null;){if(R.context===l){if(m.tag===1){R=lr(-1,i&-i),R.tag=2;var M=m.updateQueue;if(M!==null){M=M.shared;var Q=M.pending;Q===null?R.next=R:(R.next=Q.next,Q.next=R),M.pending=R}}m.lanes|=i,R=m.alternate,R!==null&&(R.lanes|=i),tl(m.return,i,r),C.lanes|=i;break}R=R.next}}else if(m.tag===10)y=m.type===r.type?null:m.child;else if(m.tag===18){if(y=m.return,y===null)throw Error(a(341));y.lanes|=i,C=y.alternate,C!==null&&(C.lanes|=i),tl(y,i,r),y=m.sibling}else y=m.child;if(y!==null)y.return=m;else for(y=m;y!==null;){if(y===r){y=null;break}if(m=y.sibling,m!==null){m.return=y.return,y=m;break}y=y.return}m=y}Yt(e,r,h.children,i),r=r.child}return r;case 9:return h=r.type,l=r.pendingProps.children,As(r,i),h=or(h),l=l(h),r.flags|=1,Yt(e,r,l,i),r.child;case 14:return l=r.type,h=Zr(l,r.pendingProps),h=Zr(l.type,h),Rh(e,r,l,h,i);case 15:return $h(e,r,r.type,r.pendingProps,i);case 17:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:Zr(l,h),Ac(e,r),r.tag=1,Dt(l)?(e=!0,Ci(r)):e=!1,As(r,i),jh(r,l,h),Td(r,l,h,i),Pd(null,r,l,!0,e,i);case 19:return Fh(e,r,i);case 22:return Ph(e,r,i)}throw Error(a(156,r.tag))};function dp(e,r){return po(e,r)}function hm(e,r,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,r,i,l){return new hm(e,r,i,l)}function Zd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pm(e){if(typeof e=="function")return Zd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Be)return 11;if(e===ye)return 14}return 2}function Us(e,r){var i=e.alternate;return i===null?(i=zr(e.tag,r,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=r,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,r=e.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function zc(e,r,i,l,h,m){var y=2;if(l=e,typeof e=="function")Zd(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case H:return $a(i.children,h,m,r);case G:y=8,h|=8;break;case re:return e=zr(12,i,r,h|2),e.elementType=re,e.lanes=m,e;case Te:return e=zr(13,i,r,h),e.elementType=Te,e.lanes=m,e;case Xe:return e=zr(19,i,r,h),e.elementType=Xe,e.lanes=m,e;case Ce:return Mc(i,h,m,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case be:y=10;break e;case we:y=9;break e;case Be:y=11;break e;case ye:y=14;break e;case Ie:y=16,l=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return r=zr(y,i,r,h),r.elementType=e,r.type=l,r.lanes=m,r}function $a(e,r,i,l){return e=zr(7,e,l,r),e.lanes=i,e}function Mc(e,r,i,l){return e=zr(22,e,l,r),e.elementType=Ce,e.lanes=i,e.stateNode={isHidden:!1},e}function eu(e,r,i){return e=zr(6,e,null,r),e.lanes=i,e}function tu(e,r,i){return r=zr(4,e.children!==null?e.children:[],e.key,r),r.lanes=i,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function fm(e,r,i,l,h){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fe(0),this.expirationTimes=Fe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fe(0),this.identifierPrefix=l,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function ru(e,r,i,l,h,m,y,C,R){return e=new fm(e,r,i,C,R),r===1?(r=1,m===!0&&(r|=8)):r=0,m=zr(3,null,null,r),e.current=m,m.stateNode=e,m.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},nl(m),e}function mm(e,r,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:l==null?null:""+l,children:e,containerInfo:r,implementation:i}}function up(e){if(!e)return fn;e=e._reactInternals;e:{if(qr(e)!==e||e.tag!==1)throw Error(a(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Dt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(a(171))}if(e.tag===1){var i=e.type;if(Dt(i))return cc(e,i,r)}return r}function hp(e,r,i,l,h,m,y,C,R){return e=ru(i,l,!0,e,h,m,y,C,R),e.context=up(null),i=e.current,l=Xt(),h=Ls(i),m=lr(l,h),m.callback=r??null,xn(i,m,h),e.current.lanes=h,Mt(e,h,l),ur(e,l),e}function qc(e,r,i,l){var h=r.current,m=Xt(),y=Ls(h);return i=up(i),r.context===null?r.context=i:r.pendingContext=i,r=lr(m,y),r.payload={element:e},l=l===void 0?null:l,l!==null&&(r.callback=l),e=xn(h,r,y),e!==null&&(rn(e,h,y,m),Ii(e,h,y)),y}function Hc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pp(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<r?i:r}}function nu(e,r){pp(e,r),(e=e.alternate)&&pp(e,r)}var fp=typeof reportError=="function"?reportError:function(e){console.error(e)};function su(e){this._internalRoot=e}Vc.prototype.render=su.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(a(409));qc(e,r,null,null)},Vc.prototype.unmount=su.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Ta(function(){qc(null,e,null,null)}),r[vr]=null}};function Vc(e){this._internalRoot=e}Vc.prototype.unstable_scheduleHydration=function(e){if(e){var r=Bl();e={blockedOn:null,target:e,priority:r};for(var i=0;i<xr.length&&r!==0&&r<xr[i].priority;i++);xr.splice(i,0,e),i===0&&Fl(e)}};function au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mp(){}function gm(e,r,i,l,h){if(h){if(typeof l=="function"){var m=l;l=function(){var M=Hc(y);m.call(M)}}var y=hp(r,l,e,0,null,!1,!1,"",mp);return e._reactRootContainer=y,e[vr]=y.current,_a(e.nodeType===8?e.parentNode:e),Ta(),y}for(;h=e.lastChild;)e.removeChild(h);if(typeof l=="function"){var C=l;l=function(){var M=Hc(R);C.call(M)}}var R=ru(e,0,!1,null,null,!1,!1,"",mp);return e._reactRootContainer=R,e[vr]=R.current,_a(e.nodeType===8?e.parentNode:e),Ta(function(){qc(r,R,i,l)}),R}function Gc(e,r,i,l,h){var m=i._reactRootContainer;if(m){var y=m;if(typeof h=="function"){var C=h;h=function(){var R=Hc(y);C.call(R)}}qc(r,y,e,h)}else y=gm(i,r,e,h,l);return Hc(y)}xo=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var i=$t(r.pendingLanes);i!==0&&(Xa(r,i|1),ur(r,Qe()),!(Pe&6)&&(qi=Qe()+500,mn()))}break;case 13:Ta(function(){var l=Qr(e,1);if(l!==null){var h=Xt();rn(l,e,1,h)}}),nu(e,1)}},ca=function(e){if(e.tag===13){var r=Qr(e,134217728);if(r!==null){var i=Xt();rn(r,e,134217728,i)}nu(e,134217728)}},da=function(e){if(e.tag===13){var r=Ls(e),i=Qr(e,r);if(i!==null){var l=Xt();rn(i,e,r,l)}nu(e,r)}},Bl=function(){return Re},Cn=function(e,r){var i=Re;try{return Re=e,r()}finally{Re=i}},qa=function(e,r,i){switch(r){case"input":if(nt(e,i),r=i.name,i.type==="radio"&&r!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<i.length;r++){var l=i[r];if(l!==e&&l.form===e.form){var h=ki(l);if(!h)throw Error(a(90));_n(l),nt(l,h)}}}break;case"textarea":Tl(e,i);break;case"select":r=i.value,r!=null&&me(e,!!i.multiple,r,!1)}},co=Qd,ra=Ta;var xm={usingClientEntryPoint:!1,Events:[Hn,_s,ki,ta,Ha,Qd]},dl={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bm={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nn(e),e===null?null:e.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{oa=Kc.inject(bm),Ae=Kc}catch{}}return hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xm,hr.createPortal=function(e,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!au(r))throw Error(a(200));return mm(e,r,null,i)},hr.createRoot=function(e,r){if(!au(e))throw Error(a(299));var i=!1,l="",h=fp;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=ru(e,1,!1,null,null,i,!1,l,h),e[vr]=r.current,_a(e.nodeType===8?e.parentNode:e),new su(r)},hr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=Nn(r),e=e===null?null:e.stateNode,e},hr.flushSync=function(e){return Ta(e)},hr.hydrate=function(e,r,i){if(!Wc(r))throw Error(a(200));return Gc(null,e,r,!0,i)},hr.hydrateRoot=function(e,r,i){if(!au(e))throw Error(a(405));var l=i!=null&&i.hydratedSources||null,h=!1,m="",y=fp;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),r=hp(r,null,e,1,i??null,h,!1,m,y),e[vr]=r.current,_a(e),l)for(e=0;e<l.length;e++)i=l[e],h=i._getVersion,h=h(i._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[i,h]:r.mutableSourceEagerHydrationData.push(i,h);return new Vc(r)},hr.render=function(e,r,i){if(!Wc(r))throw Error(a(200));return Gc(null,e,r,!1,i)},hr.unmountComponentAtNode=function(e){if(!Wc(e))throw Error(a(40));return e._reactRootContainer?(Ta(function(){Gc(null,null,e,!1,function(){e._reactRootContainer=null,e[vr]=null})}),!0):!1},hr.unstable_batchedUpdates=Qd,hr.unstable_renderSubtreeIntoContainer=function(e,r,i,l){if(!Wc(i))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return Gc(e,r,i,!1,l)},hr.version="18.3.1-next-f1338f8080-20240426",hr}var jp;function Cm(){if(jp)return lu.exports;jp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),lu.exports=Nm(),lu.exports}var Sp;function Em(){if(Sp)return Jc;Sp=1;var s=Cm();return Jc.createRoot=s.createRoot,Jc.hydrateRoot=s.hydrateRoot,Jc}var Tm=Em(),hl={},kp;function Am(){if(kp)return hl;kp=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.parse=p,hl.serialize=b;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,c=Object.prototype.toString,u=(()=>{const j=function(){};return j.prototype=Object.create(null),j})();function p(j,S){const N=new u,k=j.length;if(k<2)return N;const T=(S==null?void 0:S.decode)||_;let I=0;do{const P=j.indexOf("=",I);if(P===-1)break;const E=j.indexOf(";",I),B=E===-1?k:E;if(P>B){I=j.lastIndexOf(";",P-1)+1;continue}const $=g(j,I,P),U=x(j,P,$),H=j.slice($,U);if(N[H]===void 0){let G=g(j,P+1,B),re=x(j,B,G);const be=T(j.slice(G,re));N[H]=be}I=B+1}while(I<k);return N}function g(j,S,N){do{const k=j.charCodeAt(S);if(k!==32&&k!==9)return S}while(++S<N);return N}function x(j,S,N){for(;S>N;){const k=j.charCodeAt(--S);if(k!==32&&k!==9)return S+1}return N}function b(j,S,N){const k=(N==null?void 0:N.encode)||encodeURIComponent;if(!s.test(j))throw new TypeError(`argument name is invalid: ${j}`);const T=k(S);if(!t.test(T))throw new TypeError(`argument val is invalid: ${S}`);let I=j+"="+T;if(!N)return I;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);I+="; Max-Age="+N.maxAge}if(N.domain){if(!a.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);I+="; Domain="+N.domain}if(N.path){if(!o.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);I+="; Path="+N.path}if(N.expires){if(!f(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);I+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(I+="; HttpOnly"),N.secure&&(I+="; Secure"),N.partitioned&&(I+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return I}function _(j){if(j.indexOf("%")===-1)return j;try{return decodeURIComponent(j)}catch{return j}}function f(j){return c.call(j)==="[object Date]"}return hl}Am();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Np="popstate";function Rm(s={}){function t(o,c){let{pathname:u,search:p,hash:g}=o.location;return Su("",{pathname:u,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function a(o,c){return typeof c=="string"?c:xl(c)}return Pm(t,a,null,s)}function rt(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function vn(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $m(){return Math.random().toString(36).substring(2,10)}function Cp(s,t){return{usr:s.state,key:s.key,idx:t}}function Su(s,t,a=null,o){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?ro(t):t,state:a,key:t&&t.key||o||$m()}}function xl({pathname:s="/",search:t="",hash:a=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function ro(s){let t={};if(s){let a=s.indexOf("#");a>=0&&(t.hash=s.substring(a),s=s.substring(0,a));let o=s.indexOf("?");o>=0&&(t.search=s.substring(o),s=s.substring(0,o)),s&&(t.pathname=s)}return t}function Pm(s,t,a,o={}){let{window:c=document.defaultView,v5Compat:u=!1}=o,p=c.history,g="POP",x=null,b=_();b==null&&(b=0,p.replaceState({...p.state,idx:b},""));function _(){return(p.state||{idx:null}).idx}function f(){g="POP";let T=_(),I=T==null?null:T-b;b=T,x&&x({action:g,location:k.location,delta:I})}function j(T,I){g="PUSH";let P=Su(k.location,T,I);b=_()+1;let E=Cp(P,b),B=k.createHref(P);try{p.pushState(E,"",B)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;c.location.assign(B)}u&&x&&x({action:g,location:k.location,delta:1})}function S(T,I){g="REPLACE";let P=Su(k.location,T,I);b=_();let E=Cp(P,b),B=k.createHref(P);p.replaceState(E,"",B),u&&x&&x({action:g,location:k.location,delta:0})}function N(T){let I=c.location.origin!=="null"?c.location.origin:c.location.href,P=typeof T=="string"?T:xl(T);return P=P.replace(/ $/,"%20"),rt(I,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,I)}let k={get action(){return g},get location(){return s(c,p)},listen(T){if(x)throw new Error("A history only accepts one active listener");return c.addEventListener(Np,f),x=T,()=>{c.removeEventListener(Np,f),x=null}},createHref(T){return t(c,T)},createURL:N,encodeLocation(T){let I=N(T);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:j,replace:S,go(T){return p.go(T)}};return k}function af(s,t,a="/"){return Im(s,t,a,!1)}function Im(s,t,a,o){let c=typeof t=="string"?ro(t):t,u=Vs(c.pathname||"/",a);if(u==null)return null;let p=of(s);Om(p);let g=null;for(let x=0;g==null&&x<p.length;++x){let b=Wm(u);g=Hm(p[x],b,o)}return g}function of(s,t=[],a=[],o=""){let c=(u,p,g)=>{let x={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};x.relativePath.startsWith("/")&&(rt(x.relativePath.startsWith(o),`Absolute route path "${x.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(o.length));let b=ts([o,x.relativePath]),_=a.concat(x);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),of(u.children,t,_,b)),!(u.path==null&&!u.index)&&t.push({path:b,score:Mm(b,u.index),routesMeta:_})};return s.forEach((u,p)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))c(u,p);else for(let x of lf(u.path))c(u,p,x)}),t}function lf(s){let t=s.split("/");if(t.length===0)return[];let[a,...o]=t,c=a.endsWith("?"),u=a.replace(/\?$/,"");if(o.length===0)return c?[u,""]:[u];let p=lf(o.join("/")),g=[];return g.push(...p.map(x=>x===""?u:[u,x].join("/"))),c&&g.push(...p),g.map(x=>s.startsWith("/")&&x===""?"/":x)}function Om(s){s.sort((t,a)=>t.score!==a.score?a.score-t.score:qm(t.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}var Dm=/^:[\w-]+$/,Lm=3,Bm=2,Um=1,Fm=10,zm=-2,Ep=s=>s==="*";function Mm(s,t){let a=s.split("/"),o=a.length;return a.some(Ep)&&(o+=zm),t&&(o+=Bm),a.filter(c=>!Ep(c)).reduce((c,u)=>c+(Dm.test(u)?Lm:u===""?Um:Fm),o)}function qm(s,t){return s.length===t.length&&s.slice(0,-1).every((o,c)=>o===t[c])?s[s.length-1]-t[t.length-1]:0}function Hm(s,t,a=!1){let{routesMeta:o}=s,c={},u="/",p=[];for(let g=0;g<o.length;++g){let x=o[g],b=g===o.length-1,_=u==="/"?t:t.slice(u.length)||"/",f=nd({path:x.relativePath,caseSensitive:x.caseSensitive,end:b},_),j=x.route;if(!f&&b&&a&&!o[o.length-1].route.index&&(f=nd({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},_)),!f)return null;Object.assign(c,f.params),p.push({params:c,pathname:ts([u,f.pathname]),pathnameBase:Qm(ts([u,f.pathnameBase])),route:j}),f.pathnameBase!=="/"&&(u=ts([u,f.pathnameBase]))}return p}function nd(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[a,o]=Vm(s.path,s.caseSensitive,s.end),c=t.match(a);if(!c)return null;let u=c[0],p=u.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:o.reduce((b,{paramName:_,isOptional:f},j)=>{if(_==="*"){let N=g[j]||"";p=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const S=g[j];return f&&!S?b[_]=void 0:b[_]=(S||"").replace(/%2F/g,"/"),b},{}),pathname:u,pathnameBase:p,pattern:s}}function Vm(s,t=!1,a=!0){vn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let o=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,g,x)=>(o.push({paramName:g,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(o.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),o]}function Wm(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vn(!1,`The URL path "${s}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Vs(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,o=s.charAt(a);return o&&o!=="/"?null:s.slice(a)||"/"}function Gm(s,t="/"){let{pathname:a,search:o="",hash:c=""}=typeof s=="string"?ro(s):s;return{pathname:a?a.startsWith("/")?a:Km(a,t):t,search:Ym(o),hash:Xm(c)}}function Km(s,t){let a=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?a.length>1&&a.pop():c!=="."&&a.push(c)}),a.length>1?a.join("/"):"/"}function uu(s,t,a,o){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jm(s){return s.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function cf(s){let t=Jm(s);return t.map((a,o)=>o===t.length-1?a.pathname:a.pathnameBase)}function df(s,t,a,o=!1){let c;typeof s=="string"?c=ro(s):(c={...s},rt(!c.pathname||!c.pathname.includes("?"),uu("?","pathname","search",c)),rt(!c.pathname||!c.pathname.includes("#"),uu("#","pathname","hash",c)),rt(!c.search||!c.search.includes("#"),uu("#","search","hash",c)));let u=s===""||c.pathname==="",p=u?"/":c.pathname,g;if(p==null)g=a;else{let f=t.length-1;if(!o&&p.startsWith("..")){let j=p.split("/");for(;j[0]==="..";)j.shift(),f-=1;c.pathname=j.join("/")}g=f>=0?t[f]:"/"}let x=Gm(c,g),b=p&&p!=="/"&&p.endsWith("/"),_=(u||p===".")&&a.endsWith("/");return!x.pathname.endsWith("/")&&(b||_)&&(x.pathname+="/"),x}var ts=s=>s.join("/").replace(/\/\/+/g,"/"),Qm=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Ym=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Xm=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Zm(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var uf=["POST","PUT","PATCH","DELETE"];new Set(uf);var eg=["GET",...uf];new Set(eg);var no=v.createContext(null);no.displayName="DataRouter";var cd=v.createContext(null);cd.displayName="DataRouterState";var hf=v.createContext({isTransitioning:!1});hf.displayName="ViewTransition";var tg=v.createContext(new Map);tg.displayName="Fetchers";var rg=v.createContext(null);rg.displayName="Await";var wn=v.createContext(null);wn.displayName="Navigation";var Sl=v.createContext(null);Sl.displayName="Location";var rs=v.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var Hu=v.createContext(null);Hu.displayName="RouteError";function ng(s,{relative:t}={}){rt(kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:o}=v.useContext(wn),{hash:c,pathname:u,search:p}=Nl(s,{relative:t}),g=u;return a!=="/"&&(g=u==="/"?a:ts([a,u])),o.createHref({pathname:g,search:p,hash:c})}function kl(){return v.useContext(Sl)!=null}function Ws(){return rt(kl(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Sl).location}var pf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ff(s){v.useContext(wn).static||v.useLayoutEffect(s)}function so(){let{isDataRoute:s}=v.useContext(rs);return s?gg():sg()}function sg(){rt(kl(),"useNavigate() may be used only in the context of a <Router> component.");let s=v.useContext(no),{basename:t,navigator:a}=v.useContext(wn),{matches:o}=v.useContext(rs),{pathname:c}=Ws(),u=JSON.stringify(cf(o)),p=v.useRef(!1);return ff(()=>{p.current=!0}),v.useCallback((x,b={})=>{if(vn(p.current,pf),!p.current)return;if(typeof x=="number"){a.go(x);return}let _=df(x,JSON.parse(u),c,b.relative==="path");s==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:ts([t,_.pathname])),(b.replace?a.replace:a.push)(_,b.state,b)},[t,a,u,c,s])}v.createContext(null);function Nl(s,{relative:t}={}){let{matches:a}=v.useContext(rs),{pathname:o}=Ws(),c=JSON.stringify(cf(a));return v.useMemo(()=>df(s,JSON.parse(c),o,t==="path"),[s,c,o,t])}function ag(s,t){return mf(s,t)}function mf(s,t,a,o){var I;rt(kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=v.useContext(wn),{matches:u}=v.useContext(rs),p=u[u.length-1],g=p?p.params:{},x=p?p.pathname:"/",b=p?p.pathnameBase:"/",_=p&&p.route;{let P=_&&_.path||"";gf(x,!_||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let f=Ws(),j;if(t){let P=typeof t=="string"?ro(t):t;rt(b==="/"||((I=P.pathname)==null?void 0:I.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${P.pathname}" was given in the \`location\` prop.`),j=P}else j=f;let S=j.pathname||"/",N=S;if(b!=="/"){let P=b.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=af(s,{pathname:N});vn(_||k!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),vn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=dg(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},g,P.params),pathname:ts([b,c.encodeLocation?c.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?b:ts([b,c.encodeLocation?c.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),u,a,o);return t&&T?v.createElement(Sl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},T):T}function ig(){let s=mg(),t=Zm(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),a=s instanceof Error?s.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",s),p=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:u},"ErrorBoundary")," or"," ",v.createElement("code",{style:u},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),a?v.createElement("pre",{style:c},a):null,p)}var og=v.createElement(ig,null),lg=class extends v.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?v.createElement(rs.Provider,{value:this.props.routeContext},v.createElement(Hu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cg({routeContext:s,match:t,children:a}){let o=v.useContext(no);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(rs.Provider,{value:s},a)}function dg(s,t=[],a=null,o=null){if(s==null){if(!a)return null;if(a.errors)s=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)s=a.matches;else return null}let c=s,u=a==null?void 0:a.errors;if(u!=null){let x=c.findIndex(b=>b.route.id&&(u==null?void 0:u[b.route.id])!==void 0);rt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,g=-1;if(a)for(let x=0;x<c.length;x++){let b=c[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=x),b.route.id){let{loaderData:_,errors:f}=a,j=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!f||f[b.route.id]===void 0);if(b.route.lazy||j){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((x,b,_)=>{let f,j=!1,S=null,N=null;a&&(f=u&&b.route.id?u[b.route.id]:void 0,S=b.route.errorElement||og,p&&(g<0&&_===0?(gf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,N=null):g===_&&(j=!0,N=b.route.hydrateFallbackElement||null)));let k=t.concat(c.slice(0,_+1)),T=()=>{let I;return f?I=S:j?I=N:b.route.Component?I=v.createElement(b.route.Component,null):b.route.element?I=b.route.element:I=x,v.createElement(cg,{match:b,routeContext:{outlet:x,matches:k,isDataRoute:a!=null},children:I})};return a&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?v.createElement(lg,{location:a.location,revalidation:a.revalidation,component:S,error:f,children:T(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):T()},null)}function Vu(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ug(s){let t=v.useContext(no);return rt(t,Vu(s)),t}function hg(s){let t=v.useContext(cd);return rt(t,Vu(s)),t}function pg(s){let t=v.useContext(rs);return rt(t,Vu(s)),t}function Wu(s){let t=pg(s),a=t.matches[t.matches.length-1];return rt(a.route.id,`${s} can only be used on routes that contain a unique "id"`),a.route.id}function fg(){return Wu("useRouteId")}function mg(){var o;let s=v.useContext(Hu),t=hg("useRouteError"),a=Wu("useRouteError");return s!==void 0?s:(o=t.errors)==null?void 0:o[a]}function gg(){let{router:s}=ug("useNavigate"),t=Wu("useNavigate"),a=v.useRef(!1);return ff(()=>{a.current=!0}),v.useCallback(async(c,u={})=>{vn(a.current,pf),a.current&&(typeof c=="number"?s.navigate(c):await s.navigate(c,{fromRouteId:t,...u}))},[s,t])}var Tp={};function gf(s,t,a){!t&&!Tp[s]&&(Tp[s]=!0,vn(!1,a))}v.memo(xg);function xg({routes:s,future:t,state:a}){return mf(s,void 0,a,t)}function Ms(s){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bg({basename:s="/",children:t=null,location:a,navigationType:o="POP",navigator:c,static:u=!1}){rt(!kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),g=v.useMemo(()=>({basename:p,navigator:c,static:u,future:{}}),[p,c,u]);typeof a=="string"&&(a=ro(a));let{pathname:x="/",search:b="",hash:_="",state:f=null,key:j="default"}=a,S=v.useMemo(()=>{let N=Vs(x,p);return N==null?null:{location:{pathname:N,search:b,hash:_,state:f,key:j},navigationType:o}},[p,x,b,_,f,j,o]);return vn(S!=null,`<Router basename="${p}"> is not able to match the URL "${x}${b}${_}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:v.createElement(wn.Provider,{value:g},v.createElement(Sl.Provider,{children:t,value:S}))}function yg({children:s,location:t}){return ag(ku(s),t)}function ku(s,t=[]){let a=[];return v.Children.forEach(s,(o,c)=>{if(!v.isValidElement(o))return;let u=[...t,c];if(o.type===v.Fragment){a.push.apply(a,ku(o.props.children,u));return}rt(o.type===Ms,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=ku(o.props.children,u)),a.push(p)}),a}var td="get",rd="application/x-www-form-urlencoded";function dd(s){return s!=null&&typeof s.tagName=="string"}function vg(s){return dd(s)&&s.tagName.toLowerCase()==="button"}function wg(s){return dd(s)&&s.tagName.toLowerCase()==="form"}function _g(s){return dd(s)&&s.tagName.toLowerCase()==="input"}function jg(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Sg(s,t){return s.button===0&&(!t||t==="_self")&&!jg(s)}var Qc=null;function kg(){if(Qc===null)try{new FormData(document.createElement("form"),0),Qc=!1}catch{Qc=!0}return Qc}var Ng=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hu(s){return s!=null&&!Ng.has(s)?(vn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rd}"`),null):s}function Cg(s,t){let a,o,c,u,p;if(wg(s)){let g=s.getAttribute("action");o=g?Vs(g,t):null,a=s.getAttribute("method")||td,c=hu(s.getAttribute("enctype"))||rd,u=new FormData(s)}else if(vg(s)||_g(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||g.getAttribute("action");if(o=x?Vs(x,t):null,a=s.getAttribute("formmethod")||g.getAttribute("method")||td,c=hu(s.getAttribute("formenctype"))||hu(g.getAttribute("enctype"))||rd,u=new FormData(g,s),!kg()){let{name:b,type:_,value:f}=s;if(_==="image"){let j=b?`${b}.`:"";u.append(`${j}x`,"0"),u.append(`${j}y`,"0")}else b&&u.append(b,f)}}else{if(dd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=td,o=null,c=rd,p=s}return u&&c==="text/plain"&&(p=u,u=void 0),{action:o,method:a.toLowerCase(),encType:c,formData:u,body:p}}function Gu(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function Eg(s,t){if(s.id in t)return t[s.id];try{let a=await import(s.module);return t[s.id]=a,a}catch(a){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Tg(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Ag(s,t,a){let o=await Promise.all(s.map(async c=>{let u=t.routes[c.route.id];if(u){let p=await Eg(u,a);return p.links?p.links():[]}return[]}));return Ig(o.flat(1).filter(Tg).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Ap(s,t,a,o,c,u){let p=(x,b)=>a[b]?x.route.id!==a[b].route.id:!0,g=(x,b)=>{var _;return a[b].pathname!==x.pathname||((_=a[b].route.path)==null?void 0:_.endsWith("*"))&&a[b].params["*"]!==x.params["*"]};return u==="assets"?t.filter((x,b)=>p(x,b)||g(x,b)):u==="data"?t.filter((x,b)=>{var f;let _=o.routes[x.route.id];if(!_||!_.hasLoader)return!1;if(p(x,b)||g(x,b))return!0;if(x.route.shouldRevalidate){let j=x.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((f=a[0])==null?void 0:f.params)||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function Rg(s,t){return $g(s.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let c=[o.module];return o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function $g(s){return[...new Set(s)]}function Pg(s){let t={},a=Object.keys(s).sort();for(let o of a)t[o]=s[o];return t}function Ig(s,t){let a=new Set;return new Set(t),s.reduce((o,c)=>{let u=JSON.stringify(Pg(c));return a.has(u)||(a.add(u),o.push({key:u,link:c})),o},[])}function Og(s){let t=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Dg(){let s=v.useContext(no);return Gu(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Lg(){let s=v.useContext(cd);return Gu(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Ku=v.createContext(void 0);Ku.displayName="FrameworkContext";function xf(){let s=v.useContext(Ku);return Gu(s,"You must render this element inside a <HydratedRouter> element"),s}function Bg(s,t){let a=v.useContext(Ku),[o,c]=v.useState(!1),[u,p]=v.useState(!1),{onFocus:g,onBlur:x,onMouseEnter:b,onMouseLeave:_,onTouchStart:f}=t,j=v.useRef(null);v.useEffect(()=>{if(s==="render"&&p(!0),s==="viewport"){let k=I=>{I.forEach(P=>{p(P.isIntersecting)})},T=new IntersectionObserver(k,{threshold:.5});return j.current&&T.observe(j.current),()=>{T.disconnect()}}},[s]),v.useEffect(()=>{if(o){let k=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(k)}}},[o]);let S=()=>{c(!0)},N=()=>{c(!1),p(!1)};return a?s!=="intent"?[u,j,{}]:[u,j,{onFocus:pl(g,S),onBlur:pl(x,N),onMouseEnter:pl(b,S),onMouseLeave:pl(_,N),onTouchStart:pl(f,S)}]:[!1,j,{}]}function pl(s,t){return a=>{s&&s(a),a.defaultPrevented||t(a)}}function Ug({page:s,...t}){let{router:a}=Dg(),o=v.useMemo(()=>af(a.routes,s,a.basename),[a.routes,s,a.basename]);return o?v.createElement(zg,{page:s,matches:o,...t}):null}function Fg(s){let{manifest:t,routeModules:a}=xf(),[o,c]=v.useState([]);return v.useEffect(()=>{let u=!1;return Ag(s,t,a).then(p=>{u||c(p)}),()=>{u=!0}},[s,t,a]),o}function zg({page:s,matches:t,...a}){let o=Ws(),{manifest:c,routeModules:u}=xf(),{loaderData:p,matches:g}=Lg(),x=v.useMemo(()=>Ap(s,t,g,c,o,"data"),[s,t,g,c,o]),b=v.useMemo(()=>Ap(s,t,g,c,o,"assets"),[s,t,g,c,o]),_=v.useMemo(()=>{if(s===o.pathname+o.search+o.hash)return[];let S=new Set,N=!1;if(t.forEach(T=>{var P;let I=c.routes[T.route.id];!I||!I.hasLoader||(!x.some(E=>E.route.id===T.route.id)&&T.route.id in p&&((P=u[T.route.id])!=null&&P.shouldRevalidate)||I.hasClientLoader?N=!0:S.add(T.route.id))}),S.size===0)return[];let k=Og(s);return N&&S.size>0&&k.searchParams.set("_routes",t.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[k.pathname+k.search]},[p,o,c,x,t,s,u]),f=v.useMemo(()=>Rg(b,c),[b,c]),j=Fg(b);return v.createElement(v.Fragment,null,_.map(S=>v.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...a})),f.map(S=>v.createElement("link",{key:S,rel:"modulepreload",href:S,...a})),j.map(({key:S,link:N})=>v.createElement("link",{key:S,...N})))}function Mg(...s){return t=>{s.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var bf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bf&&(window.__reactRouterVersion="7.1.1")}catch{}function qg({basename:s,children:t,window:a}){let o=v.useRef();o.current==null&&(o.current=Rm({window:a,v5Compat:!0}));let c=o.current,[u,p]=v.useState({action:c.action,location:c.location}),g=v.useCallback(x=>{v.startTransition(()=>p(x))},[p]);return v.useLayoutEffect(()=>c.listen(g),[c,g]),v.createElement(bg,{basename:s,children:t,location:u.location,navigationType:u.action,navigator:c})}var yf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ju=v.forwardRef(function({onClick:t,discover:a="render",prefetch:o="none",relative:c,reloadDocument:u,replace:p,state:g,target:x,to:b,preventScrollReset:_,viewTransition:f,...j},S){let{basename:N}=v.useContext(wn),k=typeof b=="string"&&yf.test(b),T,I=!1;if(typeof b=="string"&&k&&(T=b,bf))try{let re=new URL(window.location.href),be=b.startsWith("//")?new URL(re.protocol+b):new URL(b),we=Vs(be.pathname,N);be.origin===re.origin&&we!=null?b=we+be.search+be.hash:I=!0}catch{vn(!1,`<Link to="${b}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=ng(b,{relative:c}),[E,B,$]=Bg(o,j),U=Gg(b,{replace:p,state:g,target:x,preventScrollReset:_,relative:c,viewTransition:f});function H(re){t&&t(re),re.defaultPrevented||U(re)}let G=v.createElement("a",{...j,...$,href:T||P,onClick:I||u?t:H,ref:Mg(S,B),target:x,"data-discover":!k&&a==="render"?"true":void 0});return E&&!k?v.createElement(v.Fragment,null,G,v.createElement(Ug,{page:P})):G});Ju.displayName="Link";var Hg=v.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:o="",end:c=!1,style:u,to:p,viewTransition:g,children:x,...b},_){let f=Nl(p,{relative:b.relative}),j=Ws(),S=v.useContext(cd),{navigator:N,basename:k}=v.useContext(wn),T=S!=null&&Xg(f)&&g===!0,I=N.encodeLocation?N.encodeLocation(f).pathname:f.pathname,P=j.pathname,E=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;a||(P=P.toLowerCase(),E=E?E.toLowerCase():null,I=I.toLowerCase()),E&&k&&(E=Vs(E,k)||E);const B=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let $=P===I||!c&&P.startsWith(I)&&P.charAt(B)==="/",U=E!=null&&(E===I||!c&&E.startsWith(I)&&E.charAt(I.length)==="/"),H={isActive:$,isPending:U,isTransitioning:T},G=$?t:void 0,re;typeof o=="function"?re=o(H):re=[o,$?"active":null,U?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let be=typeof u=="function"?u(H):u;return v.createElement(Ju,{...b,"aria-current":G,className:re,ref:_,style:be,to:p,viewTransition:g},typeof x=="function"?x(H):x)});Hg.displayName="NavLink";var Vg=v.forwardRef(({discover:s="render",fetcherKey:t,navigate:a,reloadDocument:o,replace:c,state:u,method:p=td,action:g,onSubmit:x,relative:b,preventScrollReset:_,viewTransition:f,...j},S)=>{let N=Qg(),k=Yg(g,{relative:b}),T=p.toLowerCase()==="get"?"get":"post",I=typeof g=="string"&&yf.test(g),P=E=>{if(x&&x(E),E.defaultPrevented)return;E.preventDefault();let B=E.nativeEvent.submitter,$=(B==null?void 0:B.getAttribute("formmethod"))||p;N(B||E.currentTarget,{fetcherKey:t,method:$,navigate:a,replace:c,state:u,relative:b,preventScrollReset:_,viewTransition:f})};return v.createElement("form",{ref:S,method:T,action:k,onSubmit:o?x:P,...j,"data-discover":!I&&s==="render"?"true":void 0})});Vg.displayName="Form";function Wg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vf(s){let t=v.useContext(no);return rt(t,Wg(s)),t}function Gg(s,{target:t,replace:a,state:o,preventScrollReset:c,relative:u,viewTransition:p}={}){let g=so(),x=Ws(),b=Nl(s,{relative:u});return v.useCallback(_=>{if(Sg(_,t)){_.preventDefault();let f=a!==void 0?a:xl(x)===xl(b);g(s,{replace:f,state:o,preventScrollReset:c,relative:u,viewTransition:p})}},[x,g,b,a,o,t,s,c,u,p])}var Kg=0,Jg=()=>`__${String(++Kg)}__`;function Qg(){let{router:s}=vf("useSubmit"),{basename:t}=v.useContext(wn),a=fg();return v.useCallback(async(o,c={})=>{let{action:u,method:p,encType:g,formData:x,body:b}=Cg(o,t);if(c.navigate===!1){let _=c.fetcherKey||Jg();await s.fetch(_,a,c.action||u,{preventScrollReset:c.preventScrollReset,formData:x,body:b,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await s.navigate(c.action||u,{preventScrollReset:c.preventScrollReset,formData:x,body:b,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:a,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,t,a])}function Yg(s,{relative:t}={}){let{basename:a}=v.useContext(wn),o=v.useContext(rs);rt(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),u={...Nl(s||".",{relative:t})},p=Ws();if(s==null){u.search=p.search;let g=new URLSearchParams(u.search),x=g.getAll("index");if(x.some(_=>_==="")){g.delete("index"),x.filter(f=>f).forEach(f=>g.append("index",f));let _=g.toString();u.search=_?`?${_}`:""}}return(!s||s===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:ts([a,u.pathname])),xl(u)}function Xg(s,t={}){let a=v.useContext(hf);rt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=vf("useViewTransitionState"),c=Nl(s,{relative:t.relative});if(!a.isTransitioning)return!1;let u=Vs(a.currentLocation.pathname,o)||a.currentLocation.pathname,p=Vs(a.nextLocation.pathname,o)||a.nextLocation.pathname;return nd(c.pathname,p)!=null||nd(c.pathname,u)!=null}new TextEncoder;function ud(s,t){var a={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&t.indexOf(o)<0&&(a[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(s);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(s,o[c])&&(a[o[c]]=s[o[c]]);return a}function Zg(s,t,a,o){function c(u){return u instanceof a?u:new a(function(p){p(u)})}return new(a||(a=Promise))(function(u,p){function g(_){try{b(o.next(_))}catch(f){p(f)}}function x(_){try{b(o.throw(_))}catch(f){p(f)}}function b(_){_.done?u(_.value):c(_.value).then(g,x)}b((o=o.apply(s,t||[])).next())})}const e0=s=>s?(...t)=>s(...t):(...t)=>fetch(...t);class Qu extends Error{constructor(t,a="FunctionsError",o){super(t),this.name=a,this.context=o}}class t0 extends Qu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Rp extends Qu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $p extends Qu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Nu;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Nu||(Nu={}));class r0{constructor(t,{headers:a={},customFetch:o,region:c=Nu.Any}={}){this.url=t,this.headers=a,this.region=c,this.fetch=e0(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Zg(this,arguments,void 0,function*(a,o={}){var c;let u,p;try{const{headers:g,method:x,body:b,signal:_,timeout:f}=o;let j={},{region:S}=o;S||(S=this.region);const N=new URL(`${this.url}/${a}`);S&&S!=="any"&&(j["x-region"]=S,N.searchParams.set("forceFunctionRegion",S));let k;b&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&b instanceof Blob||b instanceof ArrayBuffer?(j["Content-Type"]="application/octet-stream",k=b):typeof b=="string"?(j["Content-Type"]="text/plain",k=b):typeof FormData<"u"&&b instanceof FormData?k=b:(j["Content-Type"]="application/json",k=JSON.stringify(b)):b&&typeof b!="string"&&!(typeof Blob<"u"&&b instanceof Blob)&&!(b instanceof ArrayBuffer)&&!(typeof FormData<"u"&&b instanceof FormData)?k=JSON.stringify(b):k=b;let T=_;f&&(p=new AbortController,u=setTimeout(()=>p.abort(),f),_?(T=p.signal,_.addEventListener("abort",()=>p.abort())):T=p.signal);const I=yield this.fetch(N.toString(),{method:x||"POST",headers:Object.assign(Object.assign(Object.assign({},j),this.headers),g),body:k,signal:T}).catch($=>{throw new t0($)}),P=I.headers.get("x-relay-error");if(P&&P==="true")throw new Rp(I);if(!I.ok)throw new $p(I);let E=((c=I.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),B;return E==="application/json"?B=yield I.json():E==="application/octet-stream"||E==="application/pdf"?B=yield I.blob():E==="text/event-stream"?B=I:E==="multipart/form-data"?B=yield I.formData():B=yield I.text(),{data:B,error:null,response:I}}catch(g){return{data:null,error:g,response:g instanceof $p||g instanceof Rp?g.context:void 0}}finally{u&&clearTimeout(u)}})}}var n0=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},s0=class{constructor(s){var t,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(t=s.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,t){return this.headers=new Headers(this.headers),this.headers.set(s,t),this}then(s,t){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let p=null,g=null,x=null,b=u.status,_=u.statusText;if(u.ok){var f,j;if(a.method!=="HEAD"){var S;const I=await u.text();I===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((S=a.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?g=I:g=JSON.parse(I))}const k=(f=a.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),T=(j=u.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");k&&T&&T.length>1&&(x=parseInt(T[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,x=null,b=406,_="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var N;const k=await u.text();try{p=JSON.parse(k),Array.isArray(p)&&u.status===404&&(g=[],p=null,b=200,_="OK")}catch{u.status===404&&k===""?(b=204,_="No Content"):p={message:k}}if(p&&a.isMaybeSingle&&(!(p==null||(N=p.details)===null||N===void 0)&&N.includes("0 rows"))&&(p=null,b=200,_="OK"),p&&a.shouldThrowOnError)throw new n0(p)}return{error:p,data:g,count:x,status:b,statusText:_}});return this.shouldThrowOnError||(c=c.catch(u=>{var p;let g="";const x=u==null?void 0:u.cause;if(x){var b,_,f,j;const N=(b=x==null?void 0:x.message)!==null&&b!==void 0?b:"",k=(_=x==null?void 0:x.code)!==null&&_!==void 0?_:"";g=`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,g+=`

Caused by: ${(j=x==null?void 0:x.name)!==null&&j!==void 0?j:"Error"}: ${N}`,k&&(g+=` (${k})`),x!=null&&x.stack&&(g+=`
${x.stack}`)}else{var S;g=(S=u==null?void 0:u.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(p=u==null?void 0:u.name)!==null&&p!==void 0?p:"FetchError"}: ${u==null?void 0:u.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(s,t)}returns(){return this}overrideTypes(){return this}},a0=class extends s0{select(s){let t=!1;const a=(s??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:t=!0,nullsFirst:a,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",p=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${p?`${p},`:""}${s}.${t?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:t,referencedTable:a=t}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,t,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${t-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:t=!1,settings:a=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var p;const g=[s?"analyze":null,t?"verbose":null,a?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),x=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${x}"; options=${g};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const Pp=new RegExp("[,()]");var Yi=class extends a0{eq(s,t){return this.url.searchParams.append(s,`eq.${t}`),this}neq(s,t){return this.url.searchParams.append(s,`neq.${t}`),this}gt(s,t){return this.url.searchParams.append(s,`gt.${t}`),this}gte(s,t){return this.url.searchParams.append(s,`gte.${t}`),this}lt(s,t){return this.url.searchParams.append(s,`lt.${t}`),this}lte(s,t){return this.url.searchParams.append(s,`lte.${t}`),this}like(s,t){return this.url.searchParams.append(s,`like.${t}`),this}likeAllOf(s,t){return this.url.searchParams.append(s,`like(all).{${t.join(",")}}`),this}likeAnyOf(s,t){return this.url.searchParams.append(s,`like(any).{${t.join(",")}}`),this}ilike(s,t){return this.url.searchParams.append(s,`ilike.${t}`),this}ilikeAllOf(s,t){return this.url.searchParams.append(s,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(s,t){return this.url.searchParams.append(s,`ilike(any).{${t.join(",")}}`),this}regexMatch(s,t){return this.url.searchParams.append(s,`match.${t}`),this}regexIMatch(s,t){return this.url.searchParams.append(s,`imatch.${t}`),this}is(s,t){return this.url.searchParams.append(s,`is.${t}`),this}isDistinct(s,t){return this.url.searchParams.append(s,`isdistinct.${t}`),this}in(s,t){const a=Array.from(new Set(t)).map(o=>typeof o=="string"&&Pp.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}notIn(s,t){const a=Array.from(new Set(t)).map(o=>typeof o=="string"&&Pp.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`not.in.(${a})`),this}contains(s,t){return typeof t=="string"?this.url.searchParams.append(s,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(s,`cs.{${t.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(t)}`),this}containedBy(s,t){return typeof t=="string"?this.url.searchParams.append(s,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(s,`cd.{${t.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(t)}`),this}rangeGt(s,t){return this.url.searchParams.append(s,`sr.${t}`),this}rangeGte(s,t){return this.url.searchParams.append(s,`nxl.${t}`),this}rangeLt(s,t){return this.url.searchParams.append(s,`sl.${t}`),this}rangeLte(s,t){return this.url.searchParams.append(s,`nxr.${t}`),this}rangeAdjacent(s,t){return this.url.searchParams.append(s,`adj.${t}`),this}overlaps(s,t){return typeof t=="string"?this.url.searchParams.append(s,`ov.${t}`):this.url.searchParams.append(s,`ov.{${t.join(",")}}`),this}textSearch(s,t,{config:a,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${c}fts${u}.${t}`),this}match(s){return Object.entries(s).forEach(([t,a])=>{this.url.searchParams.append(t,`eq.${a}`)}),this}not(s,t,a){return this.url.searchParams.append(s,`not.${t}.${a}`),this}or(s,{foreignTable:t,referencedTable:a=t}={}){const o=a?`${a}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,t,a){return this.url.searchParams.append(s,`${t}.${a}`),this}},i0=class{constructor(s,{headers:t={},schema:a,fetch:o}){this.url=s,this.headers=new Headers(t),this.schema=a,this.fetch=o}select(s,t){const{head:a=!1,count:o}=t??{},c=a?"HEAD":"GET";let u=!1;const p=(s??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join("");return this.url.searchParams.set("select",p),o&&this.headers.append("Prefer",`count=${o}`),new Yi({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:t,defaultToNull:a=!0}={}){var o;const c="POST";if(t&&this.headers.append("Prefer",`count=${t}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(u.length>0){const p=[...new Set(u)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new Yi({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(s,{onConflict:t,ignoreDuplicates:a=!1,count:o,defaultToNull:c=!0}={}){var u;const p="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(g.length>0){const x=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new Yi({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:t}={}){var a;const o="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Yi({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var t;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new Yi({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},o0=class wf{constructor(t,{headers:a={},schema:o,fetch:c}={}){this.url=t,this.headers=new Headers(a),this.schemaName=o,this.fetch=c}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new i0(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new wf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,a={},{head:o=!1,get:c=!1,count:u}={}){var p;let g;const x=new URL(`${this.url}/rpc/${t}`);let b;const _=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(_)),f=o&&Object.values(a).some(_);f?(g="POST",b=a):o||c?(g=o?"HEAD":"GET",Object.entries(a).filter(([S,N])=>N!==void 0).map(([S,N])=>[S,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([S,N])=>{x.searchParams.append(S,N)})):(g="POST",b=a);const j=new Headers(this.headers);return f?j.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&j.set("Prefer",`count=${u}`),new Yi({method:g,url:x,headers:j,schema:this.schemaName,body:b,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}};class l0{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const a=globalThis.process;if(a){const o=a.versions;if(o&&o.node){const c=o.node,u=parseInt(c.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const o=this.getWebSocketConstructor();return new o(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const c0="2.90.0",d0=`realtime-js/${c0}`,_f="1.0.0",u0="2.0.0",Ip=_f,Cu=1e4,h0=1e3,p0=100;var qs;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(qs||(qs={}));var xt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(xt||(xt={}));var an;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(an||(an={}));var Eu;(function(s){s.websocket="websocket"})(Eu||(Eu={}));var Da;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Da||(Da={}));class f0{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let o=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,o;const c=(o=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(t){var a,o;const c=(o=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&o!==void 0?o:{},p=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,p)}_encodeUserBroadcastPush(t,a,o){var c,u;const p=t.topic,g=(c=t.ref)!==null&&c!==void 0?c:"",x=(u=t.join_ref)!==null&&u!==void 0?u:"",b=t.payload.event,_=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(_).length===0?"":JSON.stringify(_);if(x.length>255)throw new Error(`joinRef length ${x.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`topic length ${p.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`userEvent length ${b.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const j=this.USER_BROADCAST_PUSH_META_LENGTH+x.length+g.length+p.length+b.length+f.length,S=new ArrayBuffer(this.HEADER_LENGTH+j);let N=new DataView(S),k=0;N.setUint8(k++,this.KINDS.userBroadcastPush),N.setUint8(k++,x.length),N.setUint8(k++,g.length),N.setUint8(k++,p.length),N.setUint8(k++,b.length),N.setUint8(k++,f.length),N.setUint8(k++,a),Array.from(x,I=>N.setUint8(k++,I.charCodeAt(0))),Array.from(g,I=>N.setUint8(k++,I.charCodeAt(0))),Array.from(p,I=>N.setUint8(k++,I.charCodeAt(0))),Array.from(b,I=>N.setUint8(k++,I.charCodeAt(0))),Array.from(f,I=>N.setUint8(k++,I.charCodeAt(0)));var T=new Uint8Array(S.byteLength+o.byteLength);return T.set(new Uint8Array(S),0),T.set(new Uint8Array(o),S.byteLength),T.buffer}decode(t,a){if(this._isArrayBuffer(t)){let o=this._binaryDecode(t);return a(o)}if(typeof t=="string"){const o=JSON.parse(t),[c,u,p,g,x]=o;return a({join_ref:c,ref:u,topic:p,event:g,payload:x})}return a({})}_binaryDecode(t){const a=new DataView(t),o=a.getUint8(0),c=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,a,c)}}_decodeUserBroadcast(t,a,o){const c=a.getUint8(1),u=a.getUint8(2),p=a.getUint8(3),g=a.getUint8(4);let x=this.HEADER_LENGTH+4;const b=o.decode(t.slice(x,x+c));x=x+c;const _=o.decode(t.slice(x,x+u));x=x+u;const f=o.decode(t.slice(x,x+p));x=x+p;const j=t.slice(x,t.byteLength),S=g===this.JSON_ENCODING?JSON.parse(o.decode(j)):j,N={type:this.BROADCAST_EVENT,event:_,payload:S};return p>0&&(N.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:b,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([o])=>a.includes(o)))}}class jf{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ke||(Ke={}));const Op=(s,t,a={})=>{var o;const c=(o=a.skipTypes)!==null&&o!==void 0?o:[];return t?Object.keys(t).reduce((u,p)=>(u[p]=m0(p,s,t,c),u),{}):{}},m0=(s,t,a,o)=>{const c=t.find(g=>g.name===s),u=c==null?void 0:c.type,p=a[s];return u&&!o.includes(u)?Sf(u,p):Tu(p)},Sf=(s,t)=>{if(s.charAt(0)==="_"){const a=s.slice(1,s.length);return y0(t,a)}switch(s){case Ke.bool:return g0(t);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return x0(t);case Ke.json:case Ke.jsonb:return b0(t);case Ke.timestamp:return v0(t);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return Tu(t);default:return Tu(t)}},Tu=s=>s,g0=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},x0=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},b0=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},y0=(s,t)=>{if(typeof s!="string")return s;const a=s.length-1,o=s[a];if(s[0]==="{"&&o==="}"){let u;const p=s.slice(1,a);try{u=JSON.parse("["+p+"]")}catch{u=p?p.split(","):[]}return u.map(g=>Sf(t,g))}return s},v0=s=>typeof s=="string"?s.replace(" ","T"):s,kf=s=>{const t=new URL(s);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class pu{constructor(t,a,o={},c=Cu){this.channel=t,this.event=a,this.payload=o,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var o;return this._hasReceived(t)&&a((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Dp;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Dp||(Dp={}));class ml{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},c=>{const{onJoin:u,onLeave:p,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ml.syncState(this.state,c,u,p),this.pendingDiffs.forEach(x=>{this.state=ml.syncDiff(this.state,x,u,p)}),this.pendingDiffs=[],g()}),this.channel._on(o.diff,{},c=>{const{onJoin:u,onLeave:p,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ml.syncDiff(this.state,c,u,p),g())}),this.onJoin((c,u,p)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:p})}),this.onLeave((c,u,p)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,o,c){const u=this.cloneDeep(t),p=this.transformState(a),g={},x={};return this.map(u,(b,_)=>{p[b]||(x[b]=_)}),this.map(p,(b,_)=>{const f=u[b];if(f){const j=_.map(T=>T.presence_ref),S=f.map(T=>T.presence_ref),N=_.filter(T=>S.indexOf(T.presence_ref)<0),k=f.filter(T=>j.indexOf(T.presence_ref)<0);N.length>0&&(g[b]=N),k.length>0&&(x[b]=k)}else g[b]=_}),this.syncDiff(u,{joins:g,leaves:x},o,c)}static syncDiff(t,a,o,c){const{joins:u,leaves:p}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return o||(o=()=>{}),c||(c=()=>{}),this.map(u,(g,x)=>{var b;const _=(b=t[g])!==null&&b!==void 0?b:[];if(t[g]=this.cloneDeep(x),_.length>0){const f=t[g].map(S=>S.presence_ref),j=_.filter(S=>f.indexOf(S.presence_ref)<0);t[g].unshift(...j)}o(g,_,x)}),this.map(p,(g,x)=>{let b=t[g];if(!b)return;const _=x.map(f=>f.presence_ref);b=b.filter(f=>_.indexOf(f.presence_ref)<0),t[g]=b,c(g,b,x),b.length===0&&delete t[g]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(o=>a(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,o)=>{const c=t[o];return"metas"in c?a[o]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[o]=c,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lp;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Lp||(Lp={}));var gl;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(gl||(gl={}));var es;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(es||(es={}));class eo{constructor(t,a={config:{}},o){var c,u;if(this.topic=t,this.params=a,this.socket=o,this.bindings={},this.state=xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new pu(this,an.join,this.params,this.timeout),this.rejoinTimer=new jf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(p=>p.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xt.closed,this.socket._remove(this)}),this._onError(p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(p,g)=>{this._trigger(this._replyEventName(g),p)}),this.presence=new ml(this),this.broadcastEndpointURL=kf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var o,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==xt.closed){const{config:{broadcast:p,presence:g,private:x}}=this.params,b=(c=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(S=>S.filter))!==null&&c!==void 0?c:[],_=!!this.bindings[gl.PRESENCE]&&this.bindings[gl.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,f={},j={broadcast:p,presence:Object.assign(Object.assign({},g),{enabled:_}),postgres_changes:b,private:x};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(S=>t==null?void 0:t(es.CHANNEL_ERROR,S)),this._onClose(()=>t==null?void 0:t(es.CLOSED)),this.updateJoinPayload(Object.assign({config:j},f)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:S})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){t==null||t(es.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,T=(N=k==null?void 0:k.length)!==null&&N!==void 0?N:0,I=[];for(let P=0;P<T;P++){const E=k[P],{filter:{event:B,schema:$,table:U,filter:H}}=E,G=S&&S[P];if(G&&G.event===B&&eo.isFilterValueEqual(G.schema,$)&&eo.isFilterValueEqual(G.table,U)&&eo.isFilterValueEqual(G.filter,H))I.push(Object.assign(Object.assign({},E),{id:G.id}));else{this.unsubscribe(),this.state=xt.errored,t==null||t(es.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,t&&t(es.SUBSCRIBED);return}}).receive("error",S=>{this.state=xt.errored,t==null||t(es.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(es.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,o){return this.state===xt.joined&&t===gl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,a,o)}async httpSend(t,a,o={}){var c;if(a==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(c=o.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let x=g.statusText;try{const b=await g.json();x=b.error||b.message||x}catch{}return Promise.reject(new Error(x))}async send(t,a={}){var o,c;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:p}=t,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const x={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:p,private:this.private}]})};try{const b=await this._fetchWithTimeout(this.broadcastEndpointURL,x,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);return await((c=b.body)===null||c===void 0?void 0:c.cancel()),b.ok?"ok":"error"}catch(b){return b.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var p,g,x;const b=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((x=(g=(p=this.params)===null||p===void 0?void 0:p.config)===null||g===void 0?void 0:g.broadcast)===null||x===void 0)&&x.ack)&&u("ok"),b.receive("ok",()=>u("ok")),b.receive("error",()=>u("error")),b.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(c=>{o=new pu(this,an.leave,{},t),o.receive("ok",()=>{a(),c("ok")}).receive("timeout",()=>{a(),c("timed out")}).receive("error",()=>{c("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xt.closed,this.bindings={}}async _fetchWithTimeout(t,a,o){const c=new AbortController,u=setTimeout(()=>c.abort(),o),p=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:c.signal}));return clearTimeout(u),p}_push(t,a,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new pu(this,t,a,o);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>p0){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,o){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,o){var c,u;const p=t.toLocaleLowerCase(),{close:g,error:x,leave:b,join:_}=an;if(o&&[g,x,b,_].indexOf(p)>=0&&o!==this._joinRef())return;let j=this._onMessage(p,a,o);if(a&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var N,k,T;return((N=S.filter)===null||N===void 0?void 0:N.event)==="*"||((T=(k=S.filter)===null||k===void 0?void 0:k.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===p}).map(S=>S.callback(j,o)):(u=this.bindings[p])===null||u===void 0||u.filter(S=>{var N,k,T,I,P,E;if(["broadcast","presence","postgres_changes"].includes(p))if("id"in S){const B=S.id,$=(N=S.filter)===null||N===void 0?void 0:N.event;return B&&((k=a.ids)===null||k===void 0?void 0:k.includes(B))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((T=a.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const B=(P=(I=S==null?void 0:S.filter)===null||I===void 0?void 0:I.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return B==="*"||B===((E=a==null?void 0:a.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===p}).map(S=>{if(typeof j=="object"&&"ids"in j){const N=j.data,{schema:k,table:T,commit_timestamp:I,type:P,errors:E}=N;j=Object.assign(Object.assign({},{schema:k,table:T,commit_timestamp:I,eventType:P,new:{},old:{},errors:E}),this._getPayloadRecords(N))}S.callback(j,o)})}_isClosed(){return this.state===xt.closed}_isJoined(){return this.state===xt.joined}_isJoining(){return this.state===xt.joining}_isLeaving(){return this.state===xt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,o){const c=t.toLocaleLowerCase(),u={type:c,filter:a,callback:o};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(t,a){const o=t.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&eo.isEqual(c.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const o in t)if(t[o]!==a[o])return!1;return!0}static isFilterValueEqual(t,a){return(t??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(an.close,{},t)}_onError(t){this._on(an.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=Op(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=Op(t.columns,t.old_record)),a}}const fu=()=>{},Yc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},w0=[1e3,2e3,5e3,1e4],_0=1e4,j0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S0{constructor(t,a){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cu,this.transport=null,this.heartbeatIntervalMs=Yc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fu,this.ref=0,this.reconnectTimer=null,this.vsn=Ip,this.logger=fu,this.conn=null,this.sendBuffer=[],this.serializer=new f0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((o=a==null?void 0:a.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${Eu.websocket}`,this.httpEndpoint=kf(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=l0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,o){this.logger(t,a,o)}connectionState(){switch(this.conn&&this.conn.readyState){case qs.connecting:return Da.Connecting;case qs.open:return Da.Open;case qs.closing:return Da.Closing;default:return Da.Closed}}isConnected(){return this.connectionState()===Da.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const o=`realtime:${t}`,c=this.getChannels().find(u=>u.topic===o);if(c)return c;{const u=new eo(`realtime:${t}`,a,this);return this.channels.push(u),u}}push(t){const{topic:a,event:o,payload:c,ref:u}=t,p=()=>{this.encode(t,g=>{var x;(x=this.conn)===null||x===void 0||x.send(g)})};this.log("push",`${a} ${o} (${u})`,c),this.isConnected()?p():this.sendBuffer.push(p)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(h0,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Yc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply"&&a.ref&&a.ref===this.pendingHeartbeatRef){const b=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error",b)}catch(_){this.log("error","error in heartbeat callback",_)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:c,payload:u,ref:p}=a,g=p?`(${p})`:"",x=u.status||"";this.log("receive",`${x} ${o} ${c} ${g}`.trim(),u),this.channels.filter(b=>b._isMember(o)).forEach(b=>b._trigger(c,u,p)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===qs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qs.open||this.conn.readyState===qs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(an.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const o=t.match(/\?/)?"&":"?",c=new URLSearchParams(a);return`${t}${o}${c}`}_workerObjectUrl(t){let a;if(t)a=t;else{const o=new Blob([j0],{type:"application/javascript"});a=URL.createObjectURL(o)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a,o=!1;if(t)a=t,o=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),a=this.accessTokenValue}else a=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(c=>{const u={access_token:a,version:d0};a&&c.updateJoinPayload(u),c.joinedOnce&&c._isJoined()&&c._push(an.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(o=>{try{o(a)}catch(c){this.log("error",`error in ${t} callback`,c)}})}catch(o){this.log("error",`error triggering ${t} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new jf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,o,c,u,p,g,x,b,_,f,j,S;switch(this.transport=(a=t==null?void 0:t.transport)!==null&&a!==void 0?a:null,this.timeout=(o=t==null?void 0:t.timeout)!==null&&o!==void 0?o:Cu,this.heartbeatIntervalMs=(c=t==null?void 0:t.heartbeatIntervalMs)!==null&&c!==void 0?c:Yc.HEARTBEAT_INTERVAL,this.worker=(u=t==null?void 0:t.worker)!==null&&u!==void 0?u:!1,this.accessToken=(p=t==null?void 0:t.accessToken)!==null&&p!==void 0?p:null,this.heartbeatCallback=(g=t==null?void 0:t.heartbeatCallback)!==null&&g!==void 0?g:fu,this.vsn=(x=t==null?void 0:t.vsn)!==null&&x!==void 0?x:Ip,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(b=t==null?void 0:t.reconnectAfterMs)!==null&&b!==void 0?b:N=>w0[N-1]||_0,this.vsn){case _f:this.encode=(_=t==null?void 0:t.encode)!==null&&_!==void 0?_:(N,k)=>k(JSON.stringify(N)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(N,k)=>k(JSON.parse(N));break;case u0:this.encode=(j=t==null?void 0:t.encode)!==null&&j!==void 0?j:this.serializer.encode.bind(this.serializer),this.decode=(S=t==null?void 0:t.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var bl=class extends Error{constructor(s,t){var a;super(s),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((a=t.icebergType)==null?void 0:a.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function k0(s,t,a){const o=new URL(t,s);if(a)for(const[c,u]of Object.entries(a))u!==void 0&&o.searchParams.set(c,u);return o.toString()}async function N0(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function C0(s){const t=s.fetchImpl??globalThis.fetch;return{async request({method:a,path:o,query:c,body:u,headers:p}){const g=k0(s.baseUrl,o,c),x=await N0(s.auth),b=await t(g,{method:a,headers:{...u?{"Content-Type":"application/json"}:{},...x,...p},body:u?JSON.stringify(u):void 0}),_=await b.text(),f=(b.headers.get("content-type")||"").includes("application/json"),j=f&&_?JSON.parse(_):_;if(!b.ok){const S=f?j:void 0,N=S==null?void 0:S.error;throw new bl((N==null?void 0:N.message)??`Request failed with status ${b.status}`,{status:b.status,icebergType:N==null?void 0:N.type,icebergCode:N==null?void 0:N.code,details:S})}return{status:b.status,headers:b.headers,data:j}}}}function Xc(s){return s.join("")}var E0=class{constructor(s,t=""){this.client=s,this.prefix=t}async listNamespaces(s){const t=s?{parent:Xc(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(s,t){const a={namespace:s.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xc(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xc(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xc(s.namespace)}`}),!0}catch(t){if(t instanceof bl&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(s,t){try{return await this.createNamespace(s,t)}catch(a){if(a instanceof bl&&a.status===409)return;throw a}}};function Vi(s){return s.join("")}var T0=class{constructor(s,t="",a){this.client=s,this.prefix=t,this.accessDelegation=a}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vi(s.namespace)}/tables`})).data.identifiers}async createTable(s,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vi(s.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(s,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vi(s.namespace)}/tables/${s.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(s,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vi(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(s){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vi(s.namespace)}/tables/${s.name}`,headers:t})).data.metadata}async tableExists(s){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vi(s.namespace)}/tables/${s.name}`,headers:t}),!0}catch(a){if(a instanceof bl&&a.status===404)return!1;throw a}}async createTableIfNotExists(s,t){try{return await this.createTable(s,t)}catch(a){if(a instanceof bl&&a.status===409)return await this.loadTable({namespace:s.namespace,name:t.name});throw a}}},A0=class{constructor(s){var o;let t="v1";s.catalogName&&(t+=`/${s.catalogName}`);const a=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=C0({baseUrl:a,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(o=s.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new E0(this.client,t),this.tableOps=new T0(this.client,t,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,t){return this.namespaceOps.createNamespace(s,t)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,t){return this.tableOps.createTable(s,t)}async updateTable(s,t){return this.tableOps.updateTable(s,t)}async dropTable(s,t){await this.tableOps.dropTable(s,t)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,t){return this.namespaceOps.createNamespaceIfNotExists(s,t)}async createTableIfNotExists(s,t){return this.tableOps.createTableIfNotExists(s,t)}},hd=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function tt(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var R0=class extends hd{constructor(s,t,a){super(s),this.name="StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Au=class extends hd{constructor(s,t){super(s),this.name="StorageUnknownError",this.originalError=t}};const Yu=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),$0=()=>Response,Ru=s=>{if(Array.isArray(s))return s.map(a=>Ru(a));if(typeof s=="function"||s!==Object(s))return s;const t={};return Object.entries(s).forEach(([a,o])=>{const c=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[c]=Ru(o)}),t},P0=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},I0=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function yl(s){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(s)}function O0(s,t){if(yl(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var o=a.call(s,t||"default");if(yl(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function D0(s){var t=O0(s,"string");return yl(t)=="symbol"?t:t+""}function L0(s,t,a){return(t=D0(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Bp(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);t&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),a.push.apply(a,o)}return a}function pe(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Bp(Object(a),!0).forEach(function(o){L0(s,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):Bp(Object(a)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(a,o))})}return s}const mu=s=>{var t;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(t=s.error)===null||t===void 0?void 0:t.message)||JSON.stringify(s)},B0=async(s,t,a)=>{s instanceof await $0()&&!(a!=null&&a.noResolveJson)?s.json().then(o=>{const c=s.status||500,u=(o==null?void 0:o.statusCode)||c+"";t(new R0(mu(o),c,u))}).catch(o=>{t(new Au(mu(o),o))}):t(new Au(mu(s),s))},U0=(s,t,a,o)=>{const c={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"||!o?c:(P0(o)?(c.headers=pe({"Content-Type":"application/json"},t==null?void 0:t.headers),c.body=JSON.stringify(o)):c.body=o,t!=null&&t.duplex&&(c.duplex=t.duplex),pe(pe({},c),a))};async function Cl(s,t,a,o,c,u){return new Promise((p,g)=>{s(a,U0(t,o,c,u)).then(x=>{if(!x.ok)throw x;return o!=null&&o.noResolveJson?x:x.json()}).then(x=>p(x)).catch(x=>B0(x,g,o))})}async function vl(s,t,a,o){return Cl(s,"GET",t,a,o)}async function sn(s,t,a,o,c){return Cl(s,"POST",t,o,c,a)}async function $u(s,t,a,o,c){return Cl(s,"PUT",t,o,c,a)}async function F0(s,t,a,o){return Cl(s,"HEAD",t,pe(pe({},a),{},{noResolveJson:!0}),o)}async function Xu(s,t,a,o,c){return Cl(s,"DELETE",t,o,c,a)}var z0=class{constructor(s,t){this.downloadFn=s,this.shouldThrowOnError=t}then(s,t){return this.execute().then(s,t)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(t){if(s.shouldThrowOnError)throw t;if(tt(t))return{data:null,error:t};throw t}}};let Nf;Nf=Symbol.toStringTag;var M0=class{constructor(s,t){this.downloadFn=s,this.shouldThrowOnError=t,this[Nf]="BlobDownloadBuilder",this.promise=null}asStream(){return new z0(this.downloadFn,this.shouldThrowOnError)}then(s,t){return this.getPromise().then(s,t)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(t){if(s.shouldThrowOnError)throw t;if(tt(t))return{data:null,error:t};throw t}}};const q0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Up={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var H0=class{constructor(s,t={},a,o){this.shouldThrowOnError=!1,this.url=s,this.headers=t,this.bucketId=a,this.fetch=Yu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,t,a,o){var c=this;try{let u;const p=pe(pe({},Up),o);let g=pe(pe({},c.headers),s==="POST"&&{"x-upsert":String(p.upsert)});const x=p.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",p.cacheControl),x&&u.append("metadata",c.encodeMetadata(x)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.has("cacheControl")||u.append("cacheControl",p.cacheControl),x&&!u.has("metadata")&&u.append("metadata",c.encodeMetadata(x))):(u=a,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType,x&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(x))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!p.duplex&&(p.duplex="half")),o!=null&&o.headers&&(g=pe(pe({},g),o.headers));const b=c._removeEmptyFolders(t),_=c._getFinalPath(b),f=await(s=="PUT"?$u:sn)(c.fetch,`${c.url}/object/${_}`,u,pe({headers:g},p!=null&&p.duplex?{duplex:p.duplex}:{}));return{data:{path:b,id:f.Id,fullPath:f.Key},error:null}}catch(u){if(c.shouldThrowOnError)throw u;if(tt(u))return{data:null,error:u};throw u}}async upload(s,t,a){return this.uploadOrUpdate("POST",s,t,a)}async uploadToSignedUrl(s,t,a,o){var c=this;const u=c._removeEmptyFolders(s),p=c._getFinalPath(u),g=new URL(c.url+`/object/upload/sign/${p}`);g.searchParams.set("token",t);try{let x;const b=pe({upsert:Up.upsert},o),_=pe(pe({},c.headers),{"x-upsert":String(b.upsert)});return typeof Blob<"u"&&a instanceof Blob?(x=new FormData,x.append("cacheControl",b.cacheControl),x.append("",a)):typeof FormData<"u"&&a instanceof FormData?(x=a,x.append("cacheControl",b.cacheControl)):(x=a,_["cache-control"]=`max-age=${b.cacheControl}`,_["content-type"]=b.contentType),{data:{path:u,fullPath:(await $u(c.fetch,g.toString(),x,{headers:_})).Key},error:null}}catch(x){if(c.shouldThrowOnError)throw x;if(tt(x))return{data:null,error:x};throw x}}async createSignedUploadUrl(s,t){var a=this;try{let o=a._getFinalPath(s);const c=pe({},a.headers);t!=null&&t.upsert&&(c["x-upsert"]="true");const u=await sn(a.fetch,`${a.url}/object/upload/sign/${o}`,{},{headers:c}),p=new URL(a.url+u.url),g=p.searchParams.get("token");if(!g)throw new hd("No token returned by API");return{data:{signedUrl:p.toString(),path:s,token:g},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}}async update(s,t,a){return this.uploadOrUpdate("PUT",s,t,a)}async move(s,t,a){var o=this;try{return{data:await sn(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:s,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:o.headers}),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(tt(c))return{data:null,error:c};throw c}}async copy(s,t,a){var o=this;try{return{data:{path:(await sn(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:s,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:o.headers})).Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(tt(c))return{data:null,error:c};throw c}}async createSignedUrl(s,t,a){var o=this;try{let c=o._getFinalPath(s),u=await sn(o.fetch,`${o.url}/object/sign/${c}`,pe({expiresIn:t},a!=null&&a.transform?{transform:a.transform}:{}),{headers:o.headers});const p=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${o.url}${u.signedURL}${p}`)},{data:u,error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(tt(c))return{data:null,error:c};throw c}}async createSignedUrls(s,t,a){var o=this;try{const c=await sn(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:t,paths:s},{headers:o.headers}),u=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:c.map(p=>pe(pe({},p),{},{signedUrl:p.signedURL?encodeURI(`${o.url}${p.signedURL}${u}`):null})),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(tt(c))return{data:null,error:c};throw c}}download(s,t){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),c=o?`?${o}`:"",u=this._getFinalPath(s),p=()=>vl(this.fetch,`${this.url}/${a}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new M0(p,this.shouldThrowOnError)}async info(s){var t=this;const a=t._getFinalPath(s);try{return{data:Ru(await vl(t.fetch,`${t.url}/object/info/${a}`,{headers:t.headers})),error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}}async exists(s){var t=this;const a=t._getFinalPath(s);try{return await F0(t.fetch,`${t.url}/object/${a}`,{headers:t.headers}),{data:!0,error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(tt(o)&&o instanceof Au){const c=o.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:o}}throw o}}getPublicUrl(s,t){const a=this._getFinalPath(s),o=[],c=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&o.push(c);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});p!==""&&o.push(p);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${a}${g}`)}}}async remove(s){var t=this;try{return{data:await Xu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:s},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}async list(s,t,a){var o=this;try{const c=pe(pe(pe({},q0),t),{},{prefix:s||""});return{data:await sn(o.fetch,`${o.url}/object/list/${o.bucketId}`,c,{headers:o.headers},a),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(tt(c))return{data:null,error:c};throw c}}async listV2(s,t){var a=this;try{const o=pe({},s);return{data:await sn(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,o,{headers:a.headers},t),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const t=[];return s.width&&t.push(`width=${s.width}`),s.height&&t.push(`height=${s.height}`),s.resize&&t.push(`resize=${s.resize}`),s.format&&t.push(`format=${s.format}`),s.quality&&t.push(`quality=${s.quality}`),t.join("&")}};const Cf="2.90.0",Ef={"X-Client-Info":`storage-js/${Cf}`};var V0=class{constructor(s,t={},a,o){this.shouldThrowOnError=!1;const c=new URL(s);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=pe(pe({},Ef),t),this.fetch=Yu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var t=this;try{const a=t.listBucketOptionsToQueryString(s);return{data:await vl(t.fetch,`${t.url}/bucket${a}`,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}async getBucket(s){var t=this;try{return{data:await vl(t.fetch,`${t.url}/bucket/${s}`,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}async createBucket(s,t={public:!1}){var a=this;try{return{data:await sn(a.fetch,`${a.url}/bucket`,{id:s,name:s,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}}async updateBucket(s,t){var a=this;try{return{data:await $u(a.fetch,`${a.url}/bucket/${s}`,{id:s,name:s,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}}async emptyBucket(s){var t=this;try{return{data:await sn(t.fetch,`${t.url}/bucket/${s}/empty`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}async deleteBucket(s){var t=this;try{return{data:await Xu(t.fetch,`${t.url}/bucket/${s}`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}listBucketOptionsToQueryString(s){const t={};return s&&("limit"in s&&(t.limit=String(s.limit)),"offset"in s&&(t.offset=String(s.offset)),s.search&&(t.search=s.search),s.sortColumn&&(t.sortColumn=s.sortColumn),s.sortOrder&&(t.sortOrder=s.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},W0=class{constructor(s,t={},a){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=pe(pe({},Ef),t),this.fetch=Yu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var t=this;try{return{data:await sn(t.fetch,`${t.url}/bucket`,{name:s},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}async listBuckets(s){var t=this;try{const a=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&a.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&a.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&a.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&a.set("sortOrder",s.sortOrder),s!=null&&s.search&&a.set("search",s.search);const o=a.toString(),c=o?`${t.url}/bucket?${o}`:`${t.url}/bucket`;return{data:await vl(t.fetch,c,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}async deleteBucket(s){var t=this;try{return{data:await Xu(t.fetch,`${t.url}/bucket/${s}`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}from(s){var t=this;if(!I0(s))throw new hd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new A0({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(a,{get(c,u){const p=c[u];return typeof p!="function"?p:async(...g)=>{try{return{data:await p.apply(c,g),error:null}}catch(x){if(o)throw x;return{data:null,error:x}}}}})}};const Zu={"X-Client-Info":`storage-js/${Cf}`,"Content-Type":"application/json"};var Tf=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Sr(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var gu=class extends Tf{constructor(s,t,a){super(s),this.name="StorageVectorsApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},G0=class extends Tf{constructor(s,t){super(s),this.name="StorageVectorsUnknownError",this.originalError=t}};const eh=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),K0=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Fp=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),J0=async(s,t,a)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(a!=null&&a.noResolveJson)){const o=s.status||500,c=s;if(typeof c.json=="function")c.json().then(u=>{const p=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";t(new gu(Fp(u),o,p))}).catch(()=>{const u=o+"";t(new gu(c.statusText||`HTTP ${o} error`,o,u))});else{const u=o+"";t(new gu(c.statusText||`HTTP ${o} error`,o,u))}}else t(new G0(Fp(s),s))},Q0=(s,t,a,o)=>{const c={method:s,headers:(t==null?void 0:t.headers)||{}};return o?(K0(o)?(c.headers=pe({"Content-Type":"application/json"},t==null?void 0:t.headers),c.body=JSON.stringify(o)):c.body=o,pe(pe({},c),a)):c};async function Y0(s,t,a,o,c,u){return new Promise((p,g)=>{s(a,Q0(t,o,c,u)).then(x=>{if(!x.ok)throw x;if(o!=null&&o.noResolveJson)return x;const b=x.headers.get("content-type");return!b||!b.includes("application/json")?{}:x.json()}).then(x=>p(x)).catch(x=>J0(x,g,o))})}async function kr(s,t,a,o,c){return Y0(s,"POST",t,o,c,a)}var X0=class{constructor(s,t={},a){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=pe(pe({},Zu),t),this.fetch=eh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var t=this;try{return{data:await kr(t.fetch,`${t.url}/CreateIndex`,s,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}async getIndex(s,t){var a=this;try{return{data:await kr(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:s,indexName:t},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Sr(o))return{data:null,error:o};throw o}}async listIndexes(s){var t=this;try{return{data:await kr(t.fetch,`${t.url}/ListIndexes`,s,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}async deleteIndex(s,t){var a=this;try{return{data:await kr(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:s,indexName:t},{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Sr(o))return{data:null,error:o};throw o}}},Z0=class{constructor(s,t={},a){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=pe(pe({},Zu),t),this.fetch=eh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var t=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await kr(t.fetch,`${t.url}/PutVectors`,s,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}async getVectors(s){var t=this;try{return{data:await kr(t.fetch,`${t.url}/GetVectors`,s,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}async listVectors(s){var t=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await kr(t.fetch,`${t.url}/ListVectors`,s,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}async queryVectors(s){var t=this;try{return{data:await kr(t.fetch,`${t.url}/QueryVectors`,s,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}async deleteVectors(s){var t=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await kr(t.fetch,`${t.url}/DeleteVectors`,s,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}},ex=class{constructor(s,t={},a){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=pe(pe({},Zu),t),this.fetch=eh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var t=this;try{return{data:await kr(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}async getBucket(s){var t=this;try{return{data:await kr(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:s},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}async listBuckets(s={}){var t=this;try{return{data:await kr(t.fetch,`${t.url}/ListVectorBuckets`,s,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}async deleteBucket(s){var t=this;try{return{data:await kr(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}}},tx=class extends ex{constructor(s,t={}){super(s,t.headers||{},t.fetch)}from(s){return new rx(this.url,this.headers,s,this.fetch)}async createBucket(s){var t=()=>super.createBucket,a=this;return t().call(a,s)}async getBucket(s){var t=()=>super.getBucket,a=this;return t().call(a,s)}async listBuckets(s={}){var t=()=>super.listBuckets,a=this;return t().call(a,s)}async deleteBucket(s){var t=()=>super.deleteBucket,a=this;return t().call(a,s)}},rx=class extends X0{constructor(s,t,a,o){super(s,t,o),this.vectorBucketName=a}async createIndex(s){var t=()=>super.createIndex,a=this;return t().call(a,pe(pe({},s),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(s={}){var t=()=>super.listIndexes,a=this;return t().call(a,pe(pe({},s),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(s){var t=()=>super.getIndex,a=this;return t().call(a,a.vectorBucketName,s)}async deleteIndex(s){var t=()=>super.deleteIndex,a=this;return t().call(a,a.vectorBucketName,s)}index(s){return new nx(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},nx=class extends Z0{constructor(s,t,a,o,c){super(s,t,c),this.vectorBucketName=a,this.indexName=o}async putVectors(s){var t=()=>super.putVectors,a=this;return t().call(a,pe(pe({},s),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(s){var t=()=>super.getVectors,a=this;return t().call(a,pe(pe({},s),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(s={}){var t=()=>super.listVectors,a=this;return t().call(a,pe(pe({},s),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(s){var t=()=>super.queryVectors,a=this;return t().call(a,pe(pe({},s),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(s){var t=()=>super.deleteVectors,a=this;return t().call(a,pe(pe({},s),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},sx=class extends V0{constructor(s,t={},a,o){super(s,t,a,o)}from(s){return new H0(this.url,this.headers,s,this.fetch)}get vectors(){return new tx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new W0(this.url+"/iceberg",this.headers,this.fetch)}};const Af="2.90.0",Xi=30*1e3,Pu=3,xu=Pu*Xi,ax="http://localhost:9999",ix="supabase.auth.token",ox={"X-Client-Info":`gotrue-js/${Af}`},Iu="X-Supabase-Api-Version",Rf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cx=10*60*1e3;class wl extends Error{constructor(t,a,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=o}}function oe(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class dx extends wl{constructor(t,a,o){super(t,a,o),this.name="AuthApiError",this.status=a,this.code=o}}function ux(s){return oe(s)&&s.name==="AuthApiError"}class La extends wl{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class ns extends wl{constructor(t,a,o,c){super(t,o,c),this.name=a,this.status=o}}class jr extends ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hx(s){return oe(s)&&s.name==="AuthSessionMissingError"}class Wi extends ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zc extends ns{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ed extends ns{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function px(s){return oe(s)&&s.name==="AuthImplicitGrantRedirectError"}class zp extends ns{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fx extends ns{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ou extends ns{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function bu(s){return oe(s)&&s.name==="AuthRetryableFetchError"}class Mp extends ns{constructor(t,a,o){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=o}}class Du extends ns{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const sd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qp=` 	
\r=`.split(""),mx=(()=>{const s=new Array(128);for(let t=0;t<s.length;t+=1)s[t]=-1;for(let t=0;t<qp.length;t+=1)s[qp[t].charCodeAt(0)]=-2;for(let t=0;t<sd.length;t+=1)s[sd[t].charCodeAt(0)]=t;return s})();function Hp(s,t,a){if(s!==null)for(t.queue=t.queue<<8|s,t.queuedBits+=8;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;a(sd[o]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;a(sd[o]),t.queuedBits-=6}}function $f(s,t,a){const o=mx[s];if(o>-1)for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Vp(s){const t=[],a=p=>{t.push(String.fromCodePoint(p))},o={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=p=>{bx(p,o,a)};for(let p=0;p<s.length;p+=1)$f(s.charCodeAt(p),c,u);return t.join("")}function gx(s,t){if(s<=127){t(s);return}else if(s<=2047){t(192|s>>6),t(128|s&63);return}else if(s<=65535){t(224|s>>12),t(128|s>>6&63),t(128|s&63);return}else if(s<=1114111){t(240|s>>18),t(128|s>>12&63),t(128|s>>6&63),t(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function xx(s,t){for(let a=0;a<s.length;a+=1){let o=s.charCodeAt(a);if(o>55295&&o<=56319){const c=(o-55296)*1024&65535;o=(s.charCodeAt(a+1)-56320&65535|c)+65536,a+=1}gx(o,t)}}function bx(s,t,a){if(t.utf8seq===0){if(s<=127){a(s);return}for(let o=1;o<6;o+=1)if(!(s>>7-o&1)){t.utf8seq=o;break}if(t.utf8seq===2)t.codepoint=s&31;else if(t.utf8seq===3)t.codepoint=s&15;else if(t.utf8seq===4)t.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|s&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function to(s){const t=[],a={queue:0,queuedBits:0},o=c=>{t.push(c)};for(let c=0;c<s.length;c+=1)$f(s.charCodeAt(c),a,o);return new Uint8Array(t)}function yx(s){const t=[];return xx(s,a=>t.push(a)),new Uint8Array(t)}function Ba(s){const t=[],a={queue:0,queuedBits:0},o=c=>{t.push(c)};return s.forEach(c=>Hp(c,a,o)),Hp(null,a,o),t.join("")}function vx(s){return Math.round(Date.now()/1e3)+s}function wx(){return Symbol("auth-callback")}const At=()=>typeof window<"u"&&typeof document<"u",Pa={tested:!1,writable:!1},Pf=()=>{if(!At())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pa.tested)return Pa.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Pa.tested=!0,Pa.writable=!0}catch{Pa.tested=!0,Pa.writable=!1}return Pa.writable};function _x(s){const t={},a=new URL(s);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((c,u)=>{t[u]=c})}catch{}return a.searchParams.forEach((o,c)=>{t[c]=o}),t}const If=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),jx=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Zi=async(s,t,a)=>{await s.setItem(t,JSON.stringify(a))},Ia=async(s,t)=>{const a=await s.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Tt=async(s,t)=>{await s.removeItem(t)};class pd{constructor(){this.promise=new pd.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}pd.promiseConstructor=Promise;function yu(s){const t=s.split(".");if(t.length!==3)throw new Du("Invalid JWT structure");for(let o=0;o<t.length;o++)if(!lx.test(t[o]))throw new Du("JWT not in base64url format");return{header:JSON.parse(Vp(t[0])),payload:JSON.parse(Vp(t[1])),signature:to(t[2]),raw:{header:t[0],payload:t[1]}}}async function Sx(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function kx(s,t){return new Promise((o,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const p=await s(u);if(!t(u,null,p)){o(p);return}}catch(p){if(!t(u,p)){c(p);return}}})()})}function Nx(s){return("0"+s.toString(16)).substr(-2)}function Cx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=a.length;let c="";for(let u=0;u<56;u++)c+=a.charAt(Math.floor(Math.random()*o));return c}return crypto.getRandomValues(t),Array.from(t,Nx).join("")}async function Ex(s){const a=new TextEncoder().encode(s),o=await crypto.subtle.digest("SHA-256",a),c=new Uint8Array(o);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function Tx(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const a=await Ex(s);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gi(s,t,a=!1){const o=Cx();let c=o;a&&(c+="/PASSWORD_RECOVERY"),await Zi(s,`${t}-code-verifier`,c);const u=await Tx(o);return[u,o===u?"plain":"s256"]}const Ax=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rx(s){const t=s.headers.get(Iu);if(!t||!t.match(Ax))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $x(s){if(!s)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(s<=t)throw new Error("JWT has expired")}function Px(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ix=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ki(s){if(!Ix.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vu(){const s={};return new Proxy(s,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ox(s,t){return new Proxy(s,{get:(a,o,c)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,o,c)}return!t.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,o,c)}})}function Wp(s){return JSON.parse(JSON.stringify(s))}const Oa=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Dx=[502,503,504];async function Gp(s){var t;if(!jx(s))throw new Ou(Oa(s),0);if(Dx.includes(s.status))throw new Ou(Oa(s),s.status);let a;try{a=await s.json()}catch(u){throw new La(Oa(u),u)}let o;const c=Rx(s);if(c&&c.getTime()>=Rf["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?o=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(o=a.error_code),o){if(o==="weak_password")throw new Mp(Oa(a),s.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new jr}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,p)=>u&&typeof p=="string",!0))throw new Mp(Oa(a),s.status,a.weak_password.reasons);throw new dx(Oa(a),s.status||500,o)}const Lx=(s,t,a,o)=>{const c={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),c.body=JSON.stringify(o),Object.assign(Object.assign({},c),a))};async function he(s,t,a,o){var c;const u=Object.assign({},o==null?void 0:o.headers);u[Iu]||(u[Iu]=Rf["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const p=(c=o==null?void 0:o.query)!==null&&c!==void 0?c:{};o!=null&&o.redirectTo&&(p.redirect_to=o.redirectTo);const g=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",x=await Bx(s,t,a+g,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(x):{data:Object.assign({},x),error:null}}async function Bx(s,t,a,o,c,u){const p=Lx(t,o,c,u);let g;try{g=await s(a,Object.assign({},p))}catch(x){throw console.error(x),new Ou(Oa(x),0)}if(g.ok||await Gp(g),o!=null&&o.noResolveJson)return g;try{return await g.json()}catch(x){await Gp(x)}}function nn(s){var t;let a=null;zx(s)&&(a=Object.assign({},s),s.expires_at||(a.expires_at=vx(s.expires_in)));const o=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:a,user:o},error:null}}function Kp(s){const t=nn(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0)&&(t.data.weak_password=s.weak_password),t}function Hs(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function Ux(s){return{data:s,error:null}}function Fx(s){const{action_link:t,email_otp:a,hashed_token:o,redirect_to:c,verification_type:u}=s,p=ud(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:t,email_otp:a,hashed_token:o,redirect_to:c,verification_type:u},x=Object.assign({},p);return{data:{properties:g,user:x},error:null}}function Jp(s){return s}function zx(s){return s.access_token&&s.refresh_token&&s.expires_in}const wu=["global","local","others"];class Mx{constructor({url:t="",headers:a={},fetch:o}){this.url=t,this.headers=a,this.fetch=If(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=wu[0]){if(wu.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wu.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(oe(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,a={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Hs})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:a}=t,o=ud(t,["options"]),c=Object.assign(Object.assign({},o),a);return"newEmail"in o&&(c.new_email=o==null?void 0:o.newEmail,delete c.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Fx,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(oe(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hs})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,o,c,u,p,g,x;try{const b={nextPage:null,lastPage:0,total:0},_=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:"",per_page:(u=(c=t==null?void 0:t.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Jp});if(_.error)throw _.error;const f=await _.json(),j=(p=_.headers.get("x-total-count"))!==null&&p!==void 0?p:0,S=(x=(g=_.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&x!==void 0?x:[];return S.length>0&&(S.forEach(N=>{const k=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(N.split(";")[1].split("=")[1]);b[`${T}Page`]=k}),b.total=parseInt(j)),{data:Object.assign(Object.assign({},f),b),error:null}}catch(b){if(oe(b))return{data:{users:[]},error:b};throw b}}async getUserById(t){Ki(t);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hs})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){Ki(t);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Hs})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,a=!1){Ki(t);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Hs})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){Ki(t.userId);try{const{data:a,error:o}=await he(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:a,error:o}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _deleteFactor(t){Ki(t.userId),Ki(t.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,o,c,u,p,g,x;try{const b={nextPage:null,lastPage:0,total:0},_=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:"",per_page:(u=(c=t==null?void 0:t.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Jp});if(_.error)throw _.error;const f=await _.json(),j=(p=_.headers.get("x-total-count"))!==null&&p!==void 0?p:0,S=(x=(g=_.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&x!==void 0?x:[];return S.length>0&&(S.forEach(N=>{const k=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(N.split(";")[1].split("=")[1]);b[`${T}Page`]=k}),b.total=parseInt(j)),{data:Object.assign(Object.assign({},f),b),error:null}}catch(b){if(oe(b))return{data:{clients:[]},error:b};throw b}}async _createOAuthClient(t){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(oe(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(t){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}}function Qp(s={}){return{getItem:t=>s[t]||null,setItem:(t,a)=>{s[t]=a},removeItem:t=>{delete s[t]}}}const Ji={debug:!!(globalThis&&Pf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Of extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qx extends Of{}async function Hx(s,t,a){Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async c=>{if(c){Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await a()}finally{Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(t===0)throw Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new qx(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Ji.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function Vx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Df(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Wx(s){return parseInt(s,16)}function Gx(s){const t=new TextEncoder().encode(s);return"0x"+Array.from(t,o=>o.toString(16).padStart(2,"0")).join("")}function Kx(s){var t;const{chainId:a,domain:o,expirationTime:c,issuedAt:u=new Date,nonce:p,notBefore:g,requestId:x,resources:b,scheme:_,uri:f,version:j}=s;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(p&&p.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${p}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((t=s.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const S=Df(s.address),N=_?`${_}://${o}`:o,k=s.statement?`${s.statement}
`:"",T=`${N} wants you to sign in with your Ethereum account:
${S}

${k}`;let I=`URI: ${f}
Version: ${j}
Chain ID: ${a}${p?`
Nonce: ${p}`:""}
Issued At: ${u.toISOString()}`;if(c&&(I+=`
Expiration Time: ${c.toISOString()}`),g&&(I+=`
Not Before: ${g.toISOString()}`),x&&(I+=`
Request ID: ${x}`),b){let P=`
Resources:`;for(const E of b){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);P+=`
- ${E}`}I+=P}return`${T}
${I}`}class ht extends Error{constructor({message:t,code:a,cause:o,name:c}){var u;super(t,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=c??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=a}}class ad extends ht{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function Jx({error:s,options:t}){var a,o,c;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((a=u.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(t.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new ht({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return u.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const p=window.location.hostname;if(Lf(p)){if(u.rp.id!==p)return new ht({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Qx({error:s,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new ht({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const o=window.location.hostname;if(Lf(o)){if(a.rpId!==o)return new ht({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class Yx{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Xx=new Yx;function Zx(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:t,user:a,excludeCredentials:o}=s,c=ud(s,["challenge","user","excludeCredentials"]),u=to(t).buffer,p=Object.assign(Object.assign({},a),{id:to(a.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:u,user:p});if(o&&o.length>0){g.excludeCredentials=new Array(o.length);for(let x=0;x<o.length;x++){const b=o[x];g.excludeCredentials[x]=Object.assign(Object.assign({},b),{id:to(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return g}function eb(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:t,allowCredentials:a}=s,o=ud(s,["challenge","allowCredentials"]),c=to(t).buffer,u=Object.assign(Object.assign({},o),{challenge:c});if(a&&a.length>0){u.allowCredentials=new Array(a.length);for(let p=0;p<a.length;p++){const g=a[p];u.allowCredentials[p]=Object.assign(Object.assign({},g),{id:to(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return u}function tb(s){var t;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const a=s;return{id:s.id,rawId:s.id,response:{attestationObject:Ba(new Uint8Array(s.response.attestationObject)),clientDataJSON:Ba(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function rb(s){var t;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const a=s,o=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Ba(new Uint8Array(c.authenticatorData)),clientDataJSON:Ba(new Uint8Array(c.clientDataJSON)),signature:Ba(new Uint8Array(c.signature)),userHandle:c.userHandle?Ba(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Lf(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Yp(){var s,t;return!!(At()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function nb(s){try{const t=await navigator.credentials.create(s);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ad("Browser returned unexpected credential type",t)}:{data:null,error:new ad("Empty credential response",t)}}catch(t){return{data:null,error:Jx({error:t,options:s})}}}async function sb(s){try{const t=await navigator.credentials.get(s);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ad("Browser returned unexpected credential type",t)}:{data:null,error:new ad("Empty credential response",t)}}catch(t){return{data:null,error:Qx({error:t,options:s})}}}const ab={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ib={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function id(...s){const t=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),a=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),o={};for(const c of s)if(c)for(const u in c){const p=c[u];if(p!==void 0)if(Array.isArray(p))o[u]=p;else if(a(p))o[u]=p;else if(t(p)){const g=o[u];t(g)?o[u]=id(g,p):o[u]=id(p)}else o[u]=p}return o}function ob(s,t){return id(ab,s,t||{})}function lb(s,t){return id(ib,s,t||{})}class cb{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:o,signal:c},u){try{const{data:p,error:g}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!p)return{data:null,error:g};const x=c??Xx.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:b}=p.webauthn.credential_options.publicKey;b.name||(b.name=`${b.id}:${o}`),b.displayName||(b.displayName=b.name)}switch(p.webauthn.type){case"create":{const b=ob(p.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:_,error:f}=await nb({publicKey:b,signal:x});return _?{data:{factorId:t,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:_}},error:null}:{data:null,error:f}}case"request":{const b=lb(p.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:_,error:f}=await sb(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:b,signal:x}));return _?{data:{factorId:t,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:_}},error:null}:{data:null,error:f}}}}catch(p){return oe(p)?{data:null,error:p}:{data:null,error:new La("Unexpected error in challenge",p)}}}async _verify({challengeId:t,factorId:a,webauthn:o}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:o})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!a)return{data:null,error:new wl("rpId is required for WebAuthn authentication")};try{if(!Yp())return{data:null,error:new La("Browser does not support WebAuthn",null)};const{data:p,error:g}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:o},signal:c},{request:u});if(!p)return{data:null,error:g};const{webauthn:x}=p;return this._verify({factorId:t,challengeId:p.challengeId,webauthn:{type:x.type,rpId:a,rpOrigins:o,credential_response:x.credential_response}})}catch(p){return oe(p)?{data:null,error:p}:{data:null,error:new La("Unexpected error in authenticate",p)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!a)return{data:null,error:new wl("rpId is required for WebAuthn registration")};try{if(!Yp())return{data:null,error:new La("Browser does not support WebAuthn",null)};const{data:p,error:g}=await this._enroll({friendlyName:t});if(!p)return await this.client.mfa.listFactors().then(_=>{var f;return(f=_.data)===null||f===void 0?void 0:f.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===t&&j.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_==null?void 0:_.id}):void 0),{data:null,error:g};const{data:x,error:b}=await this._challenge({factorId:p.id,friendlyName:p.friendly_name,webauthn:{rpId:a,rpOrigins:o},signal:c},{create:u});return x?this._verify({factorId:p.id,challengeId:x.challengeId,webauthn:{rpId:a,rpOrigins:o,type:x.webauthn.type,credential_response:x.webauthn.credential_response}}):{data:null,error:b}}catch(p){return oe(p)?{data:null,error:p}:{data:null,error:new La("Unexpected error in register",p)}}}}Vx();const db={url:ax,storageKey:ix,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ox,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Xp(s,t,a){return await a()}const Qi={};class _l{get jwks(){var t,a;return(a=(t=Qi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){Qi[this.storageKey]=Object.assign(Object.assign({},Qi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=Qi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Qi[this.storageKey]=Object.assign(Object.assign({},Qi[this.storageKey]),{cachedAt:t})}constructor(t){var a,o,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},db),t);if(this.storageKey=u.storageKey,this.instanceID=(a=_l.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,_l.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&At()){const p=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(p),this.logDebugMessages&&console.trace(p)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Mx({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=If(u.fetch),this.lock=u.lock||Xp,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&At()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=Hx:this.lock=Xp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new cb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Pf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qp(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Qp(this.memoryStorage)),At()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(p){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",p)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async p=>{this._debug("received broadcast notification from other tab or client",p),await this._notifyAllSubscribers(p.data.event,p.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Af}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},o="none";if(At()&&(a=_x(window.location.href),this._isImplicitGrantCallback(a)?o="implicit":await this._isPKCECallback(a)&&(o="pkce")),At()&&this.detectSessionInUrl&&o!=="none"){const{data:c,error:u}=await this._getSessionFromURL(a,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),px(u)){const x=(t=u.details)===null||t===void 0?void 0:t.code;if(x==="identity_already_exists"||x==="identity_not_found"||x==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:p,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",p,"redirect type",g),await this._saveSession(p),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",p):await this._notifyAllSubscribers("SIGNED_IN",p)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return oe(a)?this._returnResult({error:a}):this._returnResult({error:new La("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,o,c;try{const u=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(c=t==null?void 0:t.options)===null||c===void 0?void 0:c.captchaToken}},xform:nn}),{data:p,error:g}=u;if(g||!p)return this._returnResult({data:{user:null,session:null},error:g});const x=p.session,b=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",x)),this._returnResult({data:{user:b,session:x},error:null})}catch(u){if(oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var a,o,c;try{let u;if("email"in t){const{email:_,password:f,options:j}=t;let S=null,N=null;this.flowType==="pkce"&&([S,N]=await Gi(this.storage,this.storageKey)),u=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:_,password:f,data:(a=j==null?void 0:j.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:S,code_challenge_method:N},xform:nn})}else if("phone"in t){const{phone:_,password:f,options:j}=t;u=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:f,data:(o=j==null?void 0:j.data)!==null&&o!==void 0?o:{},channel:(c=j==null?void 0:j.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:nn})}else throw new Zc("You must provide either an email or phone number and a password");const{data:p,error:g}=u;if(g||!p)return await Tt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const x=p.session,b=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",x)),this._returnResult({data:{user:b,session:x},error:null})}catch(u){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let a;if("email"in t){const{email:u,password:p,options:g}=t;a=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:p,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Kp})}else if("phone"in t){const{phone:u,password:p,options:g}=t;a=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:p,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Kp})}else throw new Zc("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o||!o.session||!o.user){const u=new Wi;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:c})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,o,c,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,o,c,u,p,g,x,b,_,f,j;let S,N;if("message"in t)S=t.message,N=t.signature;else{const{chain:k,wallet:T,statement:I,options:P}=t;let E;if(At())if(typeof T=="object")E=T;else{const re=window;if("ethereum"in re&&typeof re.ethereum=="object"&&"request"in re.ethereum&&typeof re.ethereum.request=="function")E=re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=T}const B=new URL((a=P==null?void 0:P.url)!==null&&a!==void 0?a:window.location.href),$=await E.request({method:"eth_requestAccounts"}).then(re=>re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=Df($[0]);let H=(o=P==null?void 0:P.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!H){const re=await E.request({method:"eth_chainId"});H=Wx(re)}const G={domain:B.host,address:U,statement:I,uri:B.href,version:"1",chainId:H,nonce:(c=P==null?void 0:P.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(p=(u=P==null?void 0:P.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&p!==void 0?p:new Date,expirationTime:(g=P==null?void 0:P.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(x=P==null?void 0:P.signInWithEthereum)===null||x===void 0?void 0:x.notBefore,requestId:(b=P==null?void 0:P.signInWithEthereum)===null||b===void 0?void 0:b.requestId,resources:(_=P==null?void 0:P.signInWithEthereum)===null||_===void 0?void 0:_.resources};S=Kx(G),N=await E.request({method:"personal_sign",params:[Gx(S),U]})}try{const{data:k,error:T}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:N},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(j=t.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:nn});if(T)throw T;if(!k||!k.session||!k.user){const I=new Wi;return this._returnResult({data:{user:null,session:null},error:I})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:T})}catch(k){if(oe(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var a,o,c,u,p,g,x,b,_,f,j,S;let N,k;if("message"in t)N=t.message,k=t.signature;else{const{chain:T,wallet:I,statement:P,options:E}=t;let B;if(At())if(typeof I=="object")B=I;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))B=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=I}const $=new URL((a=E==null?void 0:E.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in B&&B.signIn){const U=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),P?{statement:P}:null));let H;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")H=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)H=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)N=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),k=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${$.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(c=(o=E==null?void 0:E.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((p=E==null?void 0:E.signInWithSolana)===null||p===void 0)&&p.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((g=E==null?void 0:E.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((x=E==null?void 0:E.signInWithSolana)===null||x===void 0)&&x.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((b=E==null?void 0:E.signInWithSolana)===null||b===void 0)&&b.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((f=(_=E==null?void 0:E.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||f===void 0)&&f.length?["Resources",...E.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const U=await B.signMessage(new TextEncoder().encode(N),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=U}}try{const{data:T,error:I}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Ba(k)},!((j=t.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:nn});if(I)throw I;if(!T||!T.session||!T.user){const P=new Wi;return this._returnResult({data:{user:null,session:null},error:P})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:I})}catch(T){if(oe(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const a=await Ia(this.storage,`${this.storageKey}-code-verifier`),[o,c]=(a??"").split("/");try{if(!o&&this.flowType==="pkce")throw new fx;const{data:u,error:p}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:nn});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),p)throw p;if(!u||!u.session||!u.user){const g=new Wi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:p})}catch(u){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:a,provider:o,token:c,access_token:u,nonce:p}=t,g=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:c,access_token:u,nonce:p,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nn}),{data:x,error:b}=g;if(b)return this._returnResult({data:{user:null,session:null},error:b});if(!x||!x.session||!x.user){const _=new Wi;return this._returnResult({data:{user:null,session:null},error:_})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:x,error:b})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,o,c,u,p;try{if("email"in t){const{email:g,options:x}=t;let b=null,_=null;this.flowType==="pkce"&&([b,_]=await Gi(this.storage,this.storageKey));const{error:f}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(a=x==null?void 0:x.data)!==null&&a!==void 0?a:{},create_user:(o=x==null?void 0:x.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:b,code_challenge_method:_},redirectTo:x==null?void 0:x.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:g,options:x}=t,{data:b,error:_}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=x==null?void 0:x.data)!==null&&c!==void 0?c:{},create_user:(u=x==null?void 0:x.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},channel:(p=x==null?void 0:x.channel)!==null&&p!==void 0?p:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:_})}throw new Zc("You must provide either an email or phone number.")}catch(g){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),oe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(t){var a,o;try{let c,u;"options"in t&&(c=(a=t.options)===null||a===void 0?void 0:a.redirectTo,u=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:p,error:g}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:nn});if(g)throw g;if(!p)throw new Error("An error occurred on token verification.");const x=p.session,b=p.user;return x!=null&&x.access_token&&(await this._saveSession(x),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",x)),this._returnResult({data:{user:b,session:x},error:null})}catch(c){if(oe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(t){var a,o,c,u,p;try{let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Gi(this.storage,this.storageKey));const b=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&o!==void 0?o:void 0}),!((c=t==null?void 0:t.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:x}),headers:this.headers,xform:Ux});return!((u=b.data)===null||u===void 0)&&u.url&&At()&&!(!((p=t.options)===null||p===void 0)&&p.skipBrowserRedirect)&&window.location.assign(b.data.url),this._returnResult(b)}catch(g){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),oe(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:o}=t;if(o)throw o;if(!a)throw new jr;const{error:c}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(t){if(oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:o,type:c,options:u}=t,{error:p}=await he(this.fetch,"POST",a,{headers:this.headers,body:{email:o,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}else if("phone"in t){const{phone:o,type:c,options:u}=t,{data:p,error:g}=await he(this.fetch,"POST",a,{headers:this.headers,body:{phone:o,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g})}throw new Zc("You must provide either an email or phone number and a type")}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await o,await a()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=a();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await Ia(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at*1e3-Date.now()<xu:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){const p=await Ia(this.userStorage,this.storageKey+"-user");p!=null&&p.user?t.user=p.user:t.user=vu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const p={value:this.suppressGetSessionWarning};t.user=Ox(t.user,p),p.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const a=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(t){try{return t?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hs}):await this._useSession(async a=>{var o,c,u;const{data:p,error:g}=a;if(g)throw g;return!(!((o=p.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jr}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:Hs})})}catch(a){if(oe(a))return hx(a)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async o=>{const{data:c,error:u}=o;if(u)throw u;if(!c.session)throw new jr;const p=c.session;let g=null,x=null;this.flowType==="pkce"&&t.email!=null&&([g,x]=await Gi(this.storage,this.storageKey));const{data:b,error:_}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:g,code_challenge_method:x}),jwt:p.access_token,xform:Hs});if(_)throw _;return p.user=b.user,await this._saveSession(p),await this._notifyAllSubscribers("USER_UPDATED",p),this._returnResult({data:{user:p.user},error:null})})}catch(o){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),oe(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new jr;const a=Date.now()/1e3;let o=a,c=!0,u=null;const{payload:p}=yu(t.access_token);if(p.exp&&(o=p.exp,c=o<=a),c){const{data:g,error:x}=await this._callRefreshToken(t.refresh_token);if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!g)return{data:{user:null,session:null},error:null};u=g}else{const{data:g,error:x}=await this._getUser(t.access_token);if(x)throw x;u={access_token:t.access_token,refresh_token:t.refresh_token,user:g.user,token_type:"bearer",expires_in:o-a,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(a){if(oe(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var o;if(!t){const{data:p,error:g}=a;if(g)throw g;t=(o=p.session)!==null&&o!==void 0?o:void 0}if(!(t!=null&&t.refresh_token))throw new jr;const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!At())throw new ed("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ed(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new zp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ed("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zp("No code detected.");const{data:P,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:c,access_token:u,refresh_token:p,expires_in:g,expires_at:x,token_type:b}=t;if(!u||!g||!p||!b)throw new ed("No session defined in URL");const _=Math.round(Date.now()/1e3),f=parseInt(g);let j=_+f;x&&(j=parseInt(x));const S=j-_;S*1e3<=Xi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${f}s`);const N=j-f;_-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,j,_):_-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,j,_);const{data:k,error:T}=await this._getUser(u);if(T)throw T;const I={provider_token:o,provider_refresh_token:c,access_token:u,expires_in:f,expires_at:j,refresh_token:p,token_type:b,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:t.type},error:null})}catch(o){if(oe(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await Ia(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var o;const{data:c,error:u}=a;if(u)return this._returnResult({error:u});const p=(o=c.session)===null||o===void 0?void 0:o.access_token;if(p){const{error:g}=await this.admin.signOut(p,t);if(g&&!(ux(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return t!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=wx(),o={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async a=>{var o,c;try{const{data:{session:u},error:p}=a;if(p)throw p;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(t))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,a={}){let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Gi(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:c,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:a,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:o,error:c}=await this._useSession(async u=>{var p,g,x,b,_;const{data:f,error:j}=u;if(j)throw j;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(p=t.options)===null||p===void 0?void 0:p.redirectTo,scopes:(g=t.options)===null||g===void 0?void 0:g.scopes,queryParams:(x=t.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",S,{headers:this.headers,jwt:(_=(b=f.session)===null||b===void 0?void 0:b.access_token)!==null&&_!==void 0?_:void 0})});if(c)throw c;return At()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:t.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(oe(o))return this._returnResult({data:{provider:t.provider,url:null},error:o});throw o}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var o;try{const{error:c,data:{session:u}}=a;if(c)throw c;const{options:p,provider:g,token:x,access_token:b,nonce:_}=t,f=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u==null?void 0:u.access_token)!==null&&o!==void 0?o:void 0,body:{provider:g,id_token:x,access_token:b,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:nn}),{data:j,error:S}=f;return S?this._returnResult({data:{user:null,session:null},error:S}):!j||!j.session||!j.user?this._returnResult({data:{user:null,session:null},error:new Wi}):(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),this._returnResult({data:j,error:S}))}catch(c){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),oe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var o,c;const{data:u,error:p}=a;if(p)throw p;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const o=Date.now();return await kx(async c=>(c>0&&await Sx(200*Math.pow(2,c-1)),this._debug(a,"refreshing attempt",c),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nn})),(c,u)=>{const p=200*Math.pow(2,c);return u&&bu(u)&&Date.now()+p-o<Xi})}catch(o){if(this._debug(a,"error",o),oe(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",o),At()&&!a.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t,a;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const c=await Ia(this.storage,this.storageKey);if(c&&this.userStorage){let p=await Ia(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!p&&(p={user:c.user},await Zi(this.userStorage,this.storageKey+"-user",p)),c.user=(t=p==null?void 0:p.user)!==null&&t!==void 0?t:vu()}else if(c&&!c.user&&!c.user){const p=await Ia(this.storage,this.storageKey+"-user");p&&(p!=null&&p.user)?(c.user=p.user,await Tt(this.storage,this.storageKey+"-user"),await Zi(this.storage,this.storageKey,c)):c.user=vu()}if(this._debug(o,"session from storage",c),!this._isValidSession(c)){this._debug(o,"session is not valid"),c!==null&&await this._removeSession();return}const u=((a=c.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<xu;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${xu}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:p}=await this._callRefreshToken(c.refresh_token);p&&(console.error(p),bu(p)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",p),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:p,error:g}=await this._getUser(c.access_token);!g&&(p!=null&&p.user)?(c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(p){console.error("Error getting user data:",p),this._debug(o,"error getting user data, skipping SIGNED_IN notification",p)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(o,"error",c),console.error(c);return}finally{this._debug(o,"end")}}async _callRefreshToken(t){var a,o;if(!t)throw new jr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new pd;const{data:u,error:p}=await this._refreshAccessToken(t);if(p)throw p;if(!u.session)throw new jr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const g={data:u.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(u){if(this._debug(c,"error",u),oe(u)){const p={data:null,error:u};return bu(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(p),p}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(t,a,o=!0){const c=`#_notifyAllSubscribers(${t})`;this._debug(c,"begin",a,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:a});const u=[],p=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(t,a)}catch(x){u.push(x)}});if(await Promise.all(p),u.length>0){for(let g=0;g<u.length;g+=1)console.error(u[g]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Tt(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},t),o=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&a.user&&await Zi(this.userStorage,this.storageKey+"-user",{user:a.user});const c=Object.assign({},a);delete c.user;const u=Wp(c);await Zi(this.storage,this.storageKey,u)}else{const c=Wp(a);await Zi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&At()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const a=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const a=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,a&&clearTimeout(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:o}}=a;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((o.expires_at*1e3-t)/Xi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Xi}ms, refresh threshold is ${Pu} ticks`),c<=Pu&&await this._callRefreshToken(o.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Of)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!At()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,o){const c=[`provider=${encodeURIComponent(a)}`];if(o!=null&&o.redirectTo&&c.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&c.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,p]=await Gi(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(p)}`});c.push(g.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);c.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&c.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${c.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var o;const{data:c,error:u}=a;return u?this._returnResult({data:null,error:u}):await he(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var o,c;const{data:u,error:p}=a;if(p)return this._returnResult({data:null,error:p});const g=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:x,error:b}=await he(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return b?this._returnResult({data:null,error:b}):(t.factorType==="totp"&&x.type==="totp"&&(!((c=x==null?void 0:x.totp)===null||c===void 0)&&c.qr_code)&&(x.totp.qr_code=`data:image/svg+xml;utf-8,${x.totp.qr_code}`),this._returnResult({data:x,error:null}))})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var o;const{data:c,error:u}=a;if(u)return this._returnResult({data:null,error:u});const p=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?tb(t.webauthn.credential_response):rb(t.webauthn.credential_response)})}:{code:t.code}),{data:g,error:x}=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:p,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return x?this._returnResult({data:null,error:x}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:x}))})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var o;const{data:c,error:u}=a;if(u)return this._returnResult({data:null,error:u});const p=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});if(p.error)return p;const{data:g}=p;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Zx(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:eb(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:o}=await this._challenge({factorId:t.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:o}=await this.getUser();if(o)return{data:null,error:o};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=a==null?void 0:a.factors)!==null&&t!==void 0?t:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var t,a;const{data:{session:o},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=yu(o.access_token);let p=null;u.aal&&(p=u.aal);let g=p;((a=(t=o.user.factors)===null||t===void 0?void 0:t.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(g="aal2");const b=u.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:o},error:c}=a;return c?this._returnResult({data:null,error:c}):o?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new jr})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async o=>{const{data:{session:c},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new jr});const p=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return p.data&&p.data.redirect_url&&At()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(p.data.redirect_url),p})}catch(o){if(oe(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(t,a){try{return await this._useSession(async o=>{const{data:{session:c},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new jr});const p=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return p.data&&p.data.redirect_url&&At()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(p.data.redirect_url),p})}catch(o){if(oe(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:o}=t;return o?this._returnResult({data:null,error:o}):a?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new jr})})}catch(t){if(oe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:o},error:c}=a;return c?this._returnResult({data:null,error:c}):o?(await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jr})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let o=a.keys.find(g=>g.kid===t);if(o)return o;const c=Date.now();if(o=this.jwks.keys.find(g=>g.kid===t),o&&this.jwks_cached_at+cx>c)return o;const{data:u,error:p}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(p)throw p;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,o=u.keys.find(g=>g.kid===t),!o)?null:o}async getClaims(t,a={}){try{let o=t;if(!o){const{data:S,error:N}=await this.getSession();if(N||!S.session)return this._returnResult({data:null,error:N});o=S.session.access_token}const{header:c,payload:u,signature:p,raw:{header:g,payload:x}}=yu(o);a!=null&&a.allowExpired||$x(u.exp);const b=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!b){const{error:S}=await this.getUser(o);if(S)throw S;return{data:{claims:u,header:c,signature:p},error:null}}const _=Px(c.alg),f=await crypto.subtle.importKey("jwk",b,_,!0,["verify"]);if(!await crypto.subtle.verify(_,f,p,yx(`${g}.${x}`)))throw new Du("Invalid JWT signature");return{data:{claims:u,header:c,signature:p},error:null}}catch(o){if(oe(o))return this._returnResult({data:null,error:o});throw o}}}_l.nextInstanceID={};const ub=_l,hb="2.90.0";let fl="";typeof Deno<"u"?fl="deno":typeof document<"u"?fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fl="react-native":fl="node";const pb={"X-Client-Info":`supabase-js-${fl}/${hb}`},fb={headers:pb},mb={schema:"public"},gb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xb={};function jl(s){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(s)}function bb(s,t){if(jl(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var o=a.call(s,t||"default");if(jl(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function yb(s){var t=bb(s,"string");return jl(t)=="symbol"?t:t+""}function vb(s,t,a){return(t=yb(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Zp(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);t&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),a.push.apply(a,o)}return a}function ot(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Zp(Object(a),!0).forEach(function(o){vb(s,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):Zp(Object(a)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(a,o))})}return s}const wb=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),_b=()=>Headers,jb=(s,t,a)=>{const o=wb(a),c=_b();return async(u,p)=>{var g;const x=(g=await t())!==null&&g!==void 0?g:s;let b=new c(p==null?void 0:p.headers);return b.has("apikey")||b.set("apikey",s),b.has("Authorization")||b.set("Authorization",`Bearer ${x}`),o(u,ot(ot({},p),{},{headers:b}))}};function Sb(s){return s.endsWith("/")?s:s+"/"}function kb(s,t){var a,o;const{db:c,auth:u,realtime:p,global:g}=s,{db:x,auth:b,realtime:_,global:f}=t,j={db:ot(ot({},x),c),auth:ot(ot({},b),u),realtime:ot(ot({},_),p),storage:{},global:ot(ot(ot({},f),g),{},{headers:ot(ot({},(a=f==null?void 0:f.headers)!==null&&a!==void 0?a:{}),(o=g==null?void 0:g.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return s.accessToken?j.accessToken=s.accessToken:delete j.accessToken,j}function Nb(s){const t=s==null?void 0:s.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Sb(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Cb=class extends ub{constructor(s){super(s)}},Eb=class{constructor(s,t,a){var o,c;this.supabaseUrl=s,this.supabaseKey=t;const u=Nb(s);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const p=`sb-${u.hostname.split(".")[0]}-auth-token`,g={db:mb,realtime:xb,auth:ot(ot({},gb),{},{storageKey:p}),global:fb},x=kb(a??{},g);if(this.storageKey=(o=x.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=x.global.headers)!==null&&c!==void 0?c:{},x.accessToken)this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(_,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var b;this.auth=this._initSupabaseAuthClient((b=x.auth)!==null&&b!==void 0?b:{},this.headers,x.global.fetch)}this.fetch=jb(t,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(ot({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new o0(new URL("rest/v1",u).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new sx(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new r0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,t={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,t,a)}channel(s,t={config:{}}){return this.realtime.channel(s,t)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,t,a;if(s.accessToken)return await s.accessToken();const{data:o}=await s.auth.getSession();return(t=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&t!==void 0?t:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:t,detectSessionInUrl:a,storage:o,userStorage:c,storageKey:u,flowType:p,lock:g,debug:x,throwOnError:b},_,f){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Cb({url:this.authUrl.href,headers:ot(ot({},j),_),storageKey:u,autoRefreshToken:s,persistSession:t,detectSessionInUrl:a,storage:o,userStorage:c,flowType:p,lock:g,debug:x,throwOnError:b,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new S0(this.realtimeUrl.href,ot(ot({},s),{},{params:ot(ot({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,t)=>{this._handleTokenChanged(s,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(s,t,a){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Tb=(s,t,a)=>new Eb(s,t,a);function Ab(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const t=s.version;if(t==null)return!1;const a=t.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}Ab()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Rb="https://sdzyiuspmakebwzufhdq.supabase.co",$b="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNkenlpdXNwbWFrZWJ3enVmaGRxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc4Mzc5ODUsImV4cCI6MjA4MzQxMzk4NX0.F80vRmqZnGqGT59o6WnM7EtHplax2OYw115if4byPT8",A=Tb(Rb,$b),Pb=({toggleMode:s,toggleAutoMode:t,isLightMode:a,isAutoMode:o,toggleNav:c,isNavActive:u,currentView:p,setCurrentView:g,carrerasOptions:x})=>{v.useState(!1);const[b,_]=v.useState(null),[f,j]=v.useState([]),S=N=>k=>{k.preventDefault(),g(N),c()};return v.useEffect(()=>{(async()=>{const{data:k}=await A.from("ui_header_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:T}=await A.from("ui_header_links").select("*").order("order_index",{ascending:!0});_(k||null),j(T||[])})()},[]),n.jsx("header",{className:"header",children:n.jsxs("div",{className:"header-container",children:[n.jsxs("div",{className:"logo-title",children:[n.jsx("img",{src:(b==null?void 0:b.logo_url)||"/images/cbta134.png",alt:"Logo CBTA 134",className:"logo",onClick:()=>g("home"),style:{cursor:"pointer"}}),n.jsx("h1",{className:"site-title",onClick:()=>g("home"),style:{cursor:"pointer"},children:(b==null?void 0:b.title_text)||"Centro de Bachillerato Tecnolgico Agropecuario 134"})]}),n.jsx("nav",{className:`main-nav ${u?"active":""}`,children:f.length>0&&n.jsx("ul",{children:f.map(N=>n.jsx("li",{children:n.jsx("a",{href:N.href,onClick:S(N.path),className:"nav-link",children:N.label})},N.id))})})]})})},Ib=()=>{const[s,t]=v.useState(0),[a,o]=v.useState(["/images/camaleon.jpg","/images/campus.png"]);return v.useEffect(()=>{(async()=>{const{data:u}=await A.from("hero_slides").select("*").order("order_index",{ascending:!0});u&&u.length>0&&o(u.map(p=>p.image_url))})()},[]),v.useEffect(()=>{const c=setInterval(()=>{t(u=>(u+1)%a.length)},5e3);return()=>clearInterval(c)},[a.length]),n.jsxs("section",{className:"hero-section",children:[n.jsx("div",{className:"slides-container",children:a.map((c,u)=>n.jsx("div",{className:`slide ${u===s?"active":""}`,style:{backgroundImage:`url(${c})`}},u))}),n.jsx("div",{className:"slides-controls",children:a.map((c,u)=>n.jsx("button",{className:`slide-indicator ${u===s?"active":""}`,onClick:()=>t(u)},u))})]})},Ob=()=>{const[s,t]=v.useState(null),[a,o]=v.useState([]);return v.useEffect(()=>{(async()=>{const{data:u}=await A.from("ui_footer_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:p}=await A.from("ui_footer_links").select("*").order("order_index",{ascending:!0});t(u||null),o(p||[])})()},[]),n.jsxs("footer",{className:"footer",children:[n.jsxs("div",{className:"footer-content",children:[n.jsxs("div",{className:"footer-section",children:[n.jsx("h3",{children:(s==null?void 0:s.school_name)||"CBTA 134"}),n.jsx("p",{children:(s==null?void 0:s.location_text)||"San Francisco Tetlanohcan"}),n.jsx("p",{children:(s==null?void 0:s.tagline_text)||"Educacin de calidad para el futuro"})]}),n.jsxs("div",{className:"footer-section",children:[n.jsx("h3",{children:"Autores"}),n.jsx("p",{children:"Crditos de la pgina"}),n.jsx(Ju,{to:"/creditos",className:"footer-link",children:"Ver autores"})]}),n.jsxs("div",{className:"footer-section",children:[n.jsx("h3",{children:"Sguenos"}),n.jsx("div",{className:"social-buttons",children:a.length>0?a.map(c=>n.jsxs("a",{href:c.href,target:"_blank",className:`social-button ${c.style_class||""}`,children:[c.icon_url&&n.jsx("img",{src:c.icon_url,alt:c.label}),c.label]},c.id)):n.jsxs(n.Fragment,{children:[n.jsxs("a",{href:"https://www.facebook.com",target:"_blank",className:"social-button facebook",children:[n.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg",alt:"Facebook"}),"Facebook"]}),n.jsxs("a",{href:"https://maps.google.com",target:"_blank",className:"social-button maps",children:[n.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Google_Maps_icon_%282020%29.svg",alt:"Maps"}),"Maps"]})]})})]})]}),n.jsx("div",{className:"footer-bottom",children:n.jsxs("div",{className:"footer-copyright",children:[n.jsx("p",{children:(s==null?void 0:s.copyright_text)||" 2025, Centro de Bachillerato Tecnolgico Agropecuario No. 134."}),n.jsx("p",{children:n.jsx("strong",{children:(s==null?void 0:s.rights_text)||"Todos los derechos reservados."})}),n.jsxs("div",{className:"copyright-details",children:[n.jsx("p",{children:(s==null?void 0:s.legal_text_1)||"El contenido de este sitio, incluyendo textos, imgenes, documentos, logotipos y dems materiales, es propiedad del Centro de Bachillerato Tecnolgico Agropecuario No. 134 y se encuentra protegido por la legislacin nacional e internacional sobre derechos de autor."}),n.jsx("p",{children:(s==null?void 0:s.legal_text_2)||"Queda prohibida la reproduccin, distribucin, comunicacin pblica o modificacin total o parcial de los materiales sin autorizacin previa y por escrito de los responsables del sitio."}),n.jsx("p",{children:(s==null?void 0:s.legal_text_3)||"Este sitio tiene fines acadmicos y de divulgacin estudiantil. Los contenidos compartidos pertenecen a sus autores originales y se citan nicamente con fines educativos."})]})]})})]})},th=`
  Eres Camalen IA, el asistente virtual del CBTA 134 San Francisco Tetlanohcan. Tu objetivo es proporcionar informacin precisa y til sobre la institucin. Aqu tienes informacin clave:

  - **Nombre completo**: Centro de Bachillerato Tecnolgico Agropecuario No. 134 (CBTA 134).
  - **Ubicacin**: San Francisco Tetlanohcan, Tlaxcala, Mxico.
  - **Misin**: Contribuir activamente a la formacin integral de nuestros estudiantes del Bachillerato Tecnolgico con un enfoque de desarrollo sostenible y emprendedor que los integre plenamente a la sociedad.
  - **Visin**: Ser una institucin de calidad, formadora de lderes del maana.
  - **Lema**: Formar e innovar para transformar.

  **Carreras Tcnicas Ofrecidas**:
  - **Tcnico Agropecuario**: Formacin en agricultura, ganadera y desarrollo rural sustentable.
  - **Soporte y Mantenimiento de Equipos de Cmputo (SPP)**: Especializacin en reparacin y mantenimiento de sistemas informticos.
  - **Ofimtica**: Desarrollo de habilidades en herramientas de oficina y sistemas administrativos.
  - **Programacin**: Formacin en desarrollo de software y aplicaciones.
  - **Contabilidad**: Especializacin en gestin financiera y contable.

  **Servicios y Actividades**:
  - Clubs deportivos y culturales
  - Galera de eventos y actividades
  - Sistema SAETAM para gestin acadmica
  - Proceso de admisin estructurado

  **Valores Institucionales**: Respeto, responsabilidad, honestidad, trabajo en equipo e innovacin.

  Siempre responde en espaol de manera amable y profesional. Si no tienes informacin especfica, sugiere consultar directamente con la institucin o navegar por las secciones del sitio web.
`,Lu=(s,t)=>t.some(a=>s instanceof a);let ef,tf;function Db(){return ef||(ef=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lb(){return tf||(tf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bu=new WeakMap,_u=new WeakMap,fd=new WeakMap;function Bb(s){const t=new Promise((a,o)=>{const c=()=>{s.removeEventListener("success",u),s.removeEventListener("error",p)},u=()=>{a(Fa(s.result)),c()},p=()=>{o(s.error),c()};s.addEventListener("success",u),s.addEventListener("error",p)});return fd.set(t,s),t}function Ub(s){if(Bu.has(s))return;const t=new Promise((a,o)=>{const c=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",p),s.removeEventListener("abort",p)},u=()=>{a(),c()},p=()=>{o(s.error||new DOMException("AbortError","AbortError")),c()};s.addEventListener("complete",u),s.addEventListener("error",p),s.addEventListener("abort",p)});Bu.set(s,t)}let Uu={get(s,t,a){if(s instanceof IDBTransaction){if(t==="done")return Bu.get(s);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Fa(s[t])},set(s,t,a){return s[t]=a,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Bf(s){Uu=s(Uu)}function Fb(s){return Lb().includes(s)?function(...t){return s.apply(Fu(this),t),Fa(this.request)}:function(...t){return Fa(s.apply(Fu(this),t))}}function zb(s){return typeof s=="function"?Fb(s):(s instanceof IDBTransaction&&Ub(s),Lu(s,Db())?new Proxy(s,Uu):s)}function Fa(s){if(s instanceof IDBRequest)return Bb(s);if(_u.has(s))return _u.get(s);const t=zb(s);return t!==s&&(_u.set(s,t),fd.set(t,s)),t}const Fu=s=>fd.get(s);function Mb(s,t,{blocked:a,upgrade:o,blocking:c,terminated:u}={}){const p=indexedDB.open(s,t),g=Fa(p);return o&&p.addEventListener("upgradeneeded",x=>{o(Fa(p.result),x.oldVersion,x.newVersion,Fa(p.transaction),x)}),a&&p.addEventListener("blocked",x=>a(x.oldVersion,x.newVersion,x)),g.then(x=>{u&&x.addEventListener("close",()=>u()),c&&x.addEventListener("versionchange",b=>c(b.oldVersion,b.newVersion,b))}).catch(()=>{}),g}const qb=["get","getKey","getAll","getAllKeys","count"],Hb=["put","add","delete","clear"],ju=new Map;function rf(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(ju.get(t))return ju.get(t);const a=t.replace(/FromIndex$/,""),o=t!==a,c=Hb.includes(a);if(!(a in(o?IDBIndex:IDBObjectStore).prototype)||!(c||qb.includes(a)))return;const u=async function(p,...g){const x=this.transaction(p,c?"readwrite":"readonly");let b=x.store;return o&&(b=b.index(g.shift())),(await Promise.all([b[a](...g),c&&x.done]))[0]};return ju.set(t,u),u}Bf(s=>({...s,get:(t,a,o)=>rf(t,a)||s.get(t,a,o),has:(t,a)=>!!rf(t,a)||s.has(t,a)}));const Vb=["continue","continuePrimaryKey","advance"],nf={},zu=new WeakMap,Uf=new WeakMap,Wb={get(s,t){if(!Vb.includes(t))return s[t];let a=nf[t];return a||(a=nf[t]=function(...o){zu.set(this,Uf.get(this)[t](...o))}),a}};async function*Gb(...s){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...s)),!t)return;t=t;const a=new Proxy(t,Wb);for(Uf.set(a,t),fd.set(a,Fu(t));t;)yield a,t=await(zu.get(a)||t.continue()),zu.delete(a)}function sf(s,t){return t===Symbol.asyncIterator&&Lu(s,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Lu(s,[IDBIndex,IDBObjectStore])}Bf(s=>({...s,get(t,a,o){return sf(t,a)?Gb:s.get(t,a,o)},has(t,a){return sf(t,a)||s.has(t,a)}}));const Kb="cbta-chatbot",od="kv",Ff="chat_state_v1",zf=()=>Mb(Kb,1,{upgrade(s){s.objectStoreNames.contains(od)||s.createObjectStore(od)}}),Mf=async()=>await(await zf()).get(od,Ff)||{conversations:[],activeId:null},ld=async s=>{await(await zf()).put(od,s,Ff)},Mu=(s="Nueva conversacin")=>({id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:s,createdAt:new Date().toISOString(),messages:[]}),yn=s=>s.conversations.find(t=>t.id===s.activeId)||null,Jb=(s,t)=>({...s,activeId:t}),Ua=(s,t)=>{const o=s.conversations.find(c=>c.id===t.id)?s.conversations.map(c=>c.id===t.id?t:c):[t,...s.conversations];return{...s,conversations:o}},Qb=()=>{var P;const s=so(),[t,a]=v.useState(""),[o,c]=v.useState({conversations:[],activeId:null}),[u,p]=v.useState(!1),[g,x]=v.useState(null),[b,_]=v.useState(()=>{const E=localStorage.getItem("isChatOpen");return E?JSON.parse(E):!1}),f=v.useRef({value:null,timestamp:0});v.useEffect(()=>{(async()=>{const B=await Mf();if(!B.conversations.length){const $={id:`msg-${Date.now()}`,text:"Hola! Soy **Camalen IA**, tu asistente virtual del CBTA 134. Estoy aqu para ayudarte con informacin sobre nuestra institucin, carreras, clubs y ms. En qu puedo ayudarte hoy?",sender:"bot",createdAt:new Date().toISOString()},U=Mu("Camalen IA");U.messages.push($);const H={conversations:[U],activeId:U.id};c(H),await ld(H);return}c(B)})()},[]),v.useEffect(()=>{o.conversations.length&&ld(o)},[o]),v.useEffect(()=>{localStorage.setItem("isChatOpen",JSON.stringify(b))},[b]),v.useEffect(()=>{(async()=>{const{data:B,error:$}=await A.from("chatbot_config").select("*").order("updated_at",{ascending:!1}).limit(1).maybeSingle();$||x(B||null)})()},[]);const j=E=>(E=E.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),E=E.replace(/\*(.*?)\*/g,"<em>$1</em>"),E=E.replace(/\n/g,"<br />"),E),S=E=>E.replace(/<[^>]*>/g,""),N=(E,B)=>B?B.replace(/\/$/,""):E==="groq"?"https://api.groq.com/openai/v1":E==="gemini"?"https://generativelanguage.googleapis.com/v1beta":"https://api.groq.com/openai/v1",k=E=>E==="groq"?(g==null?void 0:g.groq_api_key)||(g==null?void 0:g.api_key)||"":E==="gemini"?(g==null?void 0:g.gemini_api_key)||(g==null?void 0:g.api_key)||"":(g==null?void 0:g.api_key)||"",T=async()=>{if(!(g!=null&&g.enable_db_context))return"";const E=Date.now(),B=5*60*1e3;if(f.current.value&&E-f.current.timestamp<B)return f.current.value;const{data:$,error:U}=await A.rpc("get_chatbot_context");if(U)return console.warn("No se pudo cargar contexto de BD:",U.message),"";const H=JSON.stringify($||{},null,2);return f.current={value:H,timestamp:E},H},I=async E=>{if(E.preventDefault(),!t.trim())return;if(g&&g.enabled===!1){const $={text:"El chatbot est deshabilitado temporalmente.",sender:"bot"};c(U=>{const H=yn(U);if(!H)return U;const G={...H,messages:[...H.messages,{...$,id:`msg-${Date.now()}`,createdAt:new Date().toISOString()}]};return Ua(U,G)});return}const B={id:`msg-${Date.now()}`,text:t,sender:"user",createdAt:new Date().toISOString()};try{await A.from("chatbot_questions").insert([{question_text:t,source_page:window.location.pathname,conversation_id:o.activeId||null,user_agent:navigator.userAgent}])}catch{}c($=>{const U=yn($);if(!U)return $;const H={...U,messages:[...U.messages,B]};return Ua($,H)}),a(""),p(!0);try{const $=await T(),U=((g==null?void 0:g.system_prompt)||th).trim(),H=$?`${U}

Contexto de la base de datos (JSON):
${$}`:U,G=yn(o),re=((G==null?void 0:G.messages)||[]).slice(-10).map(D=>({role:D.sender==="user"?"user":"assistant",content:S(D.text)})),be=async D=>{var je,Se,$e,Ee;const X=k(D);if(!X)throw new Error(`No hay API key configurada para ${D}.`);const K=N(D,(g==null?void 0:g.base_url)||""),L=(g==null?void 0:g.model)||(D==="gemini"?"gemini-3.0-flash":"llama-3.1-8b-instant"),V=D==="gemini"?`${K}/models/${L}:generateContent?key=${X}`:`${K}/chat/completions`,ue=await fetch(V,{method:"POST",headers:{"Content-Type":"application/json",...D==="gemini"?{}:{Authorization:`Bearer ${X}`}},body:JSON.stringify(D==="gemini"?{contents:[{parts:[{text:`${H}

Historial de la conversacin:
${re.map(Oe=>`${Oe.role==="user"?"Usuario":"Chatbot"}: ${Oe.content}`).join(`
`)}


Usuario: ${t}`}]}]}:{model:L,messages:[{role:"system",content:H},...re,{role:"user",content:t}],temperature:.3})});if(!ue.ok){const Oe=await ue.text();throw new Error(`Error de la API (${D}): ${ue.status} - ${Oe}`)}const fe=await ue.json();if(D==="gemini"&&fe.candidates&&((Ee=($e=(Se=(je=fe.candidates[0])==null?void 0:je.content)==null?void 0:Se.parts)==null?void 0:$e[0])!=null&&Ee.text))return fe.candidates[0].content.parts[0].text;if(fe.choices&&fe.choices[0]&&fe.choices[0].message)return fe.choices[0].message.content;throw fe.error?new Error(fe.error.message):new Error("Respuesta no vlida del proveedor.")},we=((g==null?void 0:g.provider)||"groq").toLowerCase(),Be=((g==null?void 0:g.primary_provider)||we||"groq").toLowerCase(),Te=(g==null?void 0:g.fallback_enabled)===!0,Xe=Be==="groq"?"gemini":"groq";let ye=null;try{ye=await be(Te?Be:we)}catch(D){if(Te)ye=await be(Xe);else throw D}const Ie=j(ye),Ce={id:`msg-${Date.now()}`,text:Ie,sender:"bot",createdAt:new Date().toISOString()};c(D=>{const X=yn(D);if(!X)return D;const K={...X,messages:[...X.messages,Ce]};return Ua(D,K)})}catch($){const U={text:`Error al conectar con Camalen IA: ${$.message}. Verifica tu conexin a internet e intenta de nuevo.`,sender:"bot"};c(H=>{const G=yn(H);if(!G)return H;const re={...G,messages:[...G.messages,{...U,id:`msg-${Date.now()}`,createdAt:new Date().toISOString()}]};return Ua(H,re)})}p(!1)};return n.jsxs("div",{className:`chatbot-container ${b?"open":""}`,children:[n.jsxs("div",{className:"chatbot-bubble-wrapper",children:[n.jsx("div",{className:"chatbot-bubble",onClick:()=>_(!b),children:n.jsx("img",{src:"/images/camaleonicono.jpg",alt:"Camalen IA",className:"camaleon-icon"})}),n.jsx("p",{className:"chatbot-label",children:"Camalen IA"})]}),b&&n.jsxs("div",{className:"chatbot-window",children:[n.jsxs("div",{className:"chatbot-header",children:[n.jsx("h3",{children:"Camalen IA"}),n.jsx("button",{className:"open-full-btn",onClick:()=>s("/chatbot"),title:"Abrir en pantalla completa",type:"button",children:""}),n.jsx("button",{className:"close-btn",onClick:()=>_(!1),children:""})]}),n.jsxs("div",{className:"chatbot-messages",children:[(P=yn(o))==null?void 0:P.messages.map(E=>n.jsx("div",{className:`message ${E.sender}`,children:n.jsx("div",{dangerouslySetInnerHTML:{__html:j(E.text)}})},E.id)),u&&n.jsx("div",{className:"message bot",children:"Escribiendo..."})]}),n.jsxs("form",{onSubmit:I,className:"chatbot-input",children:[n.jsx("input",{type:"text",value:t,onChange:E=>a(E.target.value),placeholder:"Escribe tu mensaje...",disabled:u}),n.jsx("button",{type:"submit",disabled:u,children:u?"Enviando...":"Enviar"})]})]})]})},Nr=({onClick:s,onBack:t,text:a="Volver al inicio"})=>{const o={position:"fixed",top:"80px",left:"20px",padding:"12px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"25px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",boxShadow:"0 4px 15px rgba(40, 167, 69, 0.3)",transition:"all 0.3s ease",zIndex:999,display:"flex",alignItems:"center",gap:"8px",maxWidth:"200px"},c=g=>{const x=g.currentTarget;x.style.backgroundColor="#218838",x.style.transform="translateY(-2px)",x.style.boxShadow="0 6px 20px rgba(33, 136, 56, 0.4)"},u=g=>{const x=g.currentTarget;x.style.backgroundColor="#28a745",x.style.transform="translateY(0)",x.style.boxShadow="0 4px 15px rgba(40, 167, 69, 0.3)"},p=g=>{if(typeof t=="function")return t(g);if(typeof s=="function")return s(g)};return n.jsxs("button",{style:o,onClick:p,onMouseEnter:c,onMouseLeave:u,"aria-label":a,children:[n.jsx("span",{children:""}),a]})},Yb="_container_p3oqj_2",Xb="_title_p3oqj_20",Zb="_text_p3oqj_29",ey="_mision_p3oqj_42",ty="_vision_p3oqj_43",ry="_slogan_p3oqj_44",ny="_backButton_p3oqj_64",zs={container:Yb,title:Xb,text:Zb,mision:ey,vision:ty,slogan:ry,backButton:ny},sy=({onBack:s})=>n.jsxs("div",{className:zs.container,children:[n.jsx("h2",{className:zs.title,children:"Valores Institucionales"}),n.jsx("p",{className:zs.mision,children:n.jsx("strong",{children:"Misin:"})}),n.jsx("p",{className:zs.text,children:"Contribuir activamente a la formacin integral de nuestros estudiantes del Bachillerato Tecnolgico con un enfoque de desarrollo sostenible y emprendedor que los integre plenamente a la sociedad."}),n.jsx("p",{className:zs.vision,children:n.jsx("strong",{children:"Visin:"})}),n.jsx("p",{className:zs.text,children:"Ser una institucin de calidad, formadora de lderes del maana."}),n.jsx("p",{className:zs.slogan,children:n.jsx("strong",{children:"Lema:"})}),n.jsx("p",{className:zs.text,children:"Formar e innovar para transformar."}),n.jsx(Nr,{onClick:s,text:"Regresar al Men Principal"})]}),ay=({onBack:s})=>{const[t,a]=v.useState(null),[o,c]=v.useState([]);v.useEffect(()=>{(async()=>{const{data:B}=await A.from("about_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:$}=await A.from("about_values").select("*").order("order_index",{ascending:!0});a(B||null),c($||[])})()},[]);const u={minHeight:"100vh",paddingTop:"80px",padding:"80px 20px 40px",backgroundColor:"#ffffff"},p={background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",padding:"30px",maxWidth:"1000px",width:"100%",margin:"0 auto",boxShadow:"0 15px 35px rgba(0, 0, 0, 0.1)",overflow:"hidden"},g={fontSize:"2.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"40px",color:"#28a745"},x={marginBottom:"40px",padding:"20px",borderRadius:"15px",backgroundColor:"#f8f9fa",border:"1px solid #28a745"},b={fontSize:"1.8rem",fontWeight:"bold",color:"#28a745",marginBottom:"20px",textAlign:"center"},_={backgroundColor:"#ffffff",borderRadius:"10px",padding:"20px",marginBottom:"20px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.05)"},f={fontSize:"1.3rem",fontWeight:"bold",color:"#28a745",marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},j={fontSize:"1rem",color:"#555",lineHeight:"1.8",textAlign:"justify",marginBottom:"0"},S={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginTop:"20px"},N={backgroundColor:"#ffffff",borderRadius:"10px",padding:"20px",textAlign:"center",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.05)",transition:"transform 0.3s ease"},k={textAlign:"center",marginBottom:"30px"},T={textAlign:"center",marginBottom:"30px"},I={width:"100%",maxWidth:"900px",borderRadius:"15px",border:"2px solid #28a745",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.12)"},P={width:"120px",height:"120px",borderRadius:"50%",border:"4px solid #28a745",marginBottom:"15px"};return n.jsxs("div",{style:u,children:[n.jsx(Nr,{onBack:s}),n.jsxs("div",{style:p,children:[(t==null?void 0:t.croquis_image_url)&&n.jsx("div",{style:T,children:n.jsx("img",{src:t.croquis_image_url,alt:"Croquis CBTa 134",style:I})}),n.jsxs("div",{style:k,children:[n.jsx("img",{src:(t==null?void 0:t.logo_url)||"/images/cbta134.png",alt:"Logo CBTa 134",style:P}),n.jsx("h1",{style:g,children:(t==null?void 0:t.title)||"Acerca de CBTa 134"})]}),n.jsxs("div",{style:x,children:[n.jsx("h2",{style:b,children:" Historia e Identidad Institucional"}),n.jsxs("div",{style:_,children:[n.jsx("h3",{style:f,children:" Nuestra Historia"}),n.jsx("p",{style:j,children:(t==null?void 0:t.history_text)||"El Centro de Bachillerato Tecnolgico Agropecuario No. 134 es una institucin educativa que ha forjado su prestigio a travs de dcadas de excelencia acadmica. Fundado con el propsito de brindar educacin tcnica de calidad en el rea agropecuaria, hemos evolucionado para convertirnos en un referente educativo que forma profesionales competentes y ciudadanos comprometidos con el desarrollo de nuestra comunidad."})]}),n.jsxs("div",{style:_,children:[n.jsx("h3",{style:f,children:" Misin"}),n.jsx("p",{style:j,children:(t==null?void 0:t.mission_text)||"Contribuir activamente a la formacin integral de nuestros estudiantes del Bachillerato Tecnolgico, con un enfoque de desarrollo sostenible y emprendedor que los integre plenamente a la sociedad, proporcionando herramientas acadmicas y tcnicas que les permitan enfrentar los retos del mundo moderno con competencia y valores slidos."})]}),n.jsxs("div",{style:_,children:[n.jsx("h3",{style:f,children:" Visin"}),n.jsx("p",{style:j,children:(t==null?void 0:t.vision_text)||"Ser una institucin de calidad, formadora de lderes del maana, reconocida por su excelencia educativa, innovacin tecnolgica y compromiso con el desarrollo sustentable, que contribuya al progreso social y econmico de la regin."})]}),n.jsxs("div",{style:_,children:[n.jsx("h3",{style:f,children:" Lema Institucional"}),n.jsx("p",{style:{...j,fontSize:"1.2rem",fontWeight:"bold",color:"#28a745",textAlign:"center"},children:(t==null?void 0:t.lema_text)||'"Formar e innovar para transformar"'})]})]}),n.jsxs("div",{style:x,children:[n.jsx("h2",{style:b,children:" Nuestros Valores"}),n.jsx("div",{style:S,children:o.map(E=>n.jsxs("div",{style:N,children:[n.jsxs("h3",{style:{...f,justifyContent:"center"},children:[E.icon," ",E.title]}),n.jsx("p",{style:{...j,textAlign:"center",fontSize:"0.95rem"},children:E.description})]},E.id))})]}),n.jsxs("div",{style:x,children:[n.jsx("h2",{style:b,children:" Nuestro Compromiso"}),n.jsxs("div",{style:_,children:[n.jsx("p",{style:j,children:(t==null?void 0:t.commitment_text_1)||"El CBTa 134 se compromete a formar ciudadanos integrales que contribuyan al desarrollo sustentable de su comunidad. Nuestro enfoque educativo combina la excelencia acadmica con la formacin en valores, preparando a nuestros estudiantes para ser agentes de cambio positivo en la sociedad."}),n.jsx("p",{style:j,children:(t==null?void 0:t.commitment_text_2)||"A travs de nuestros programas tcnicos especializados, fomentamos el emprendimiento, la innovacin tecnolgica y el cuidado del medio ambiente, formando profesionales competentes que respondan a las necesidades del mercado laboral actual."})]})]})]})]})},iy="_admissionProcess_1e940_9",oy="_header_1e940_20",ly="_welcomeText_1e940_32",cy="_bounce_1e940_1",dy="_container_1e940_47",uy="_countdownContainer_1e940_56",hy="_countdown_1e940_56",py="_countdownItem_1e940_73",fy="_card_1e940_91",my="_emojiTitle_1e940_106",gy="_fechasGrid_1e940_118",xy="_fechaCard_1e940_125",by="_requisitosList_1e940_141",yy="_especialidadesGrid_1e940_171",vy="_especialidadCard_1e940_177",wy="_emojiIcon_1e940_191",_y="_contactoInfo_1e940_200",jy="_backButton_1e940_220",Sy="_hero_1e940_248",Ge={admissionProcess:iy,header:oy,welcomeText:ly,bounce:cy,container:dy,countdownContainer:uy,countdown:hy,countdownItem:py,card:fy,emojiTitle:my,fechasGrid:gy,fechaCard:xy,requisitosList:by,especialidadesGrid:yy,especialidadCard:vy,emojiIcon:wy,contactoInfo:_y,backButton:jy,hero:Sy},ky=({onBack:s})=>{const[t,a]=v.useState(!1),[o,c]=v.useState(!0),[u,p]=v.useState(null),[g,x]=v.useState([]),[b,_]=v.useState([]),[f,j]=v.useState([]),[S,N]=v.useState(null),[k,T]=v.useState({days:0,hours:0,minutes:0,seconds:0});v.useEffect(()=>{const U=()=>{const G=document.body.classList.contains("dark-mode");a(G)};U();const H=new MutationObserver(U);return H.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>H.disconnect()},[]),v.useEffect(()=>{const U=()=>{const G=(u==null?void 0:u.target_date)||"2026-04-01T00:00:00",we=new Date(G)-new Date;we>0?T({days:Math.floor(we/864e5),hours:Math.floor(we/36e5%24),minutes:Math.floor(we/1e3/60%60),seconds:Math.floor(we/1e3%60)}):T({days:0,hours:0,minutes:0,seconds:0})};U();const H=setInterval(U,1e3);return()=>clearInterval(H)},[u]),v.useEffect(()=>{(async()=>{c(!0);const{data:H}=await A.from("admission_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:G}=await A.from("admission_dates").select("*").order("order_index",{ascending:!0}),{data:re}=await A.from("admission_requirements").select("*").order("order_index",{ascending:!0}),{data:be}=await A.from("admission_specialties").select("*").order("order_index",{ascending:!0}),{data:we}=await A.from("admission_contact").select("*").order("created_at",{ascending:!1}).limit(1).single();p(H||null),x(G||[]),_(re||[]),j(be||[]),N(we||null),c(!1)})()},[]);const I={backgroundColor:t?"#07111a":"#f0f2f5",color:t?"#d6dbe3":"#333"},P={background:t?"rgba(255,255,255,0.03)":"white",color:t?"#d0d7de":"#333",boxShadow:t?"0 10px 30px rgba(2,6,23,0.6)":"0 4px 15px rgba(0, 0, 0, 0.1)"},E={background:t?"rgba(255,255,255,0.03)":"#f8f9fa",color:t?"#d0d7de":"#333"},B={background:t?"rgba(255,255,255,0.03)":"white",color:t?"#d0d7de":"#333",boxShadow:t?"0 10px 30px rgba(2,6,23,0.6)":"0 4px 15px rgba(0, 0, 0, 0.1)"},$={background:t?"rgba(255,255,255,0.02)":"#f8f9fa",color:t?"#d0d7de":"#333"};return de.createElement("div",{className:`${Ge.admissionProcess} ${t?"dark-mode-content":""}`,style:I},de.createElement("header",{className:Ge.header},de.createElement("h1",null,(u==null?void 0:u.header_title)||"Bienvenido al CBTA 134! "),de.createElement("p",{className:Ge.welcomeText},(u==null?void 0:u.header_subtitle)||"Tu futuro comienza aqu en San Francisco Tetlanohcan")),de.createElement("div",{className:Ge.container},de.createElement("div",{className:Ge.countdownContainer},de.createElement("h2",null," Prximos Procesos de Admisin 2026!"),de.createElement("div",{className:Ge.countdown},de.createElement("div",{className:Ge.countdownItem},de.createElement("span",null,k.days),de.createElement("p",null,"Das")),de.createElement("div",{className:Ge.countdownItem},de.createElement("span",null,k.hours.toString().padStart(2,"0")),de.createElement("p",null,"Horas")),de.createElement("div",{className:Ge.countdownItem},de.createElement("span",null,k.minutes.toString().padStart(2,"0")),de.createElement("p",null,"Minutos")),de.createElement("div",{className:Ge.countdownItem},de.createElement("span",null,k.seconds.toString().padStart(2,"0")),de.createElement("p",null,"Segundos"))),de.createElement("div",{className:Ge.countdownMessage},(u==null?void 0:u.countdown_message)||"Procesos de admisin inician el 1 de abril de 2026!")),de.createElement("div",{className:Ge.card,style:P},de.createElement("h2",{className:Ge.emojiTitle}," Fechas Importantes!"),de.createElement("div",{className:Ge.fechasGrid},(g.length>0?g:[]).map(U=>de.createElement("div",{key:U.id,className:Ge.fechaCard,style:E},de.createElement("h3",null,U.title),de.createElement("p",null,U.date_range),de.createElement("p",null,U.subtitle))))),de.createElement("div",{className:Ge.card,style:P},de.createElement("h2",{className:Ge.emojiTitle}," Qu necesitas traer?"),de.createElement("ul",{className:Ge.requisitosList},(b.length>0?b:[]).map(U=>de.createElement("li",{key:U.id,style:$},U.requirement)))),de.createElement("div",{className:Ge.card,style:P},de.createElement("h2",{className:Ge.emojiTitle}," Elige tu camino!"),de.createElement("div",{className:Ge.especialidadesGrid},(f.length>0?f:[]).map(U=>de.createElement("div",{key:U.id,className:Ge.especialidadCard,style:B},de.createElement("div",{className:Ge.emojiIcon},U.emoji),de.createElement("h3",null,U.name),de.createElement("p",null,U.description))))),de.createElement("div",{className:Ge.card,style:P},de.createElement("h2",{className:Ge.emojiTitle}," Contctanos!"),de.createElement("div",{className:Ge.contactoInfo},de.createElement("p",null,` Direccin: ${(S==null?void 0:S.address)||"CARRETERA TETLANOHCAN A MALINTZIN KILMETRO NUM. 3, San Francisco, Mxico, 90800"}`),de.createElement("p",null,`${(S==null?void 0:S.phone_label)||" Telfono"}: `,de.createElement("a",{href:S!=null&&S.phone_value?`tel:${S.phone_value.replace(/\s/g,"")}`:"tel:+522464623456",style:{color:t?"#93c5fd":"#3498db",textDecoration:"none"}},(S==null?void 0:S.phone_value)||"01 (246) 46 2 34 56")),de.createElement("p",null,`${(S==null?void 0:S.email_label)||" Correo"}: `,de.createElement("a",{href:S!=null&&S.email_value?`mailto:${S.email_value}`:"mailto:cbta134@yahoo.com.mx",target:"_blank",rel:"noopener noreferrer",style:{color:t?"#93c5fd":"#3498db",textDecoration:"none"}},(S==null?void 0:S.email_value)||"cbta134@yahoo.com.mx")),de.createElement("p",null,`${(S==null?void 0:S.website_label)||" Sitio Web"}: `,de.createElement("a",{href:(S==null?void 0:S.website_value)||"http://www.cbta134.edu.mx/",target:"_blank",rel:"noopener noreferrer",style:{color:t?"#93c5fd":"#3498db",textDecoration:"none"}},(S==null?void 0:S.website_value)||"www.cbta134.edu.mx")),de.createElement("p",null,(S==null?void 0:S.schedule)||" Horario: Lunes a Viernes 7:00 AM - 4:00 PM, Sbados 8:00 AM - 12:00 PM")))),de.createElement(Nr,{onBack:s,text:"Regresar al Men Principal"}))},Ny=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},Cy=({onBack:s})=>{const t=Ny(),a={...pr.container,backgroundColor:t?"#07111a":pr.container.backgroundColor,color:t?"#d6dbe3":void 0},o={...pr.content,background:t?"rgba(255,255,255,0.03)":pr.content.background,boxShadow:t?"0 10px 30px rgba(2,6,23,0.7)":pr.content.boxShadow,color:t?"#c8cdd3":void 0};({...pr.header,backgroundColor:t||pr.header.backgroundColor});const c={...pr.contactInfo,backgroundColor:t?"rgba(76,175,80,0.08)":pr.contactInfo.backgroundColor};return n.jsxs("div",{style:a,children:[n.jsxs("header",{style:pr.header,children:[n.jsx("h1",{children:"Centro de Bachillerato Tecnolgico Agropecuario No. 134"}),n.jsx("h2",{children:'"Efram Hernndez Xolocotzi"'})]}),n.jsxs("div",{style:o,children:[n.jsx("h2",{children:"Prepa Abierta"}),n.jsx("p",{children:"Estudia tu bachillerato y una carrera tcnica en el rea agropecuaria, los das sbado."}),n.jsx("h3",{children:"Requisitos:"}),n.jsxs("ul",{style:pr.list,children:[n.jsx("li",{children:"Ser mayor de 18 aos"}),n.jsx("li",{children:"Certificado de secundaria (original y 1 copia)"}),n.jsx("li",{children:"Acta de nacimiento reciente (original y 1 copia)"}),n.jsx("li",{children:"6 fotografas tamao infantil, blanco y negro (en papel mate, no instantneas)"}),n.jsx("li",{children:"Credencial de elector (original para cotejar y 1 copia)"}),n.jsx("li",{children:"CURP (reciente)"}),n.jsx("li",{children:"Comprobante de domicilio (original para cotejar y 1 copia)"}),n.jsx("li",{children:"Nmero de seguridad social (IMSS)"})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Nota:"})," La apertura de esta modalidad depender del nmero de interesados en inscribirse."]}),n.jsxs("div",{style:c,children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Direccin:"})," Calle Josefa Ortiz de Domnguez s/n, Barrio de Jess Xolalpan, San Francisco Tetlanohcan, Tlax."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Telfono:"})," 246 467 42 37"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Ms informacin:"})," ",n.jsx("a",{href:"http://www.cbta134.edu.mx",style:pr.link,children:"www.cbta134.edu.mx"})]}),n.jsxs("p",{children:["Sguenos en redes sociales:"," ",n.jsx("a",{href:"https://www.facebook.com/micbta134",style:pr.link,children:"Facebook"})]})]})]}),n.jsx("footer",{style:pr.footer,children:n.jsx("p",{children:" 2025 CBTa 134 - Secretara de Educacin Pblica"})}),n.jsx(Nr,{onBack:s,text:"Regresar al Men Principal"})]})},pr={container:{fontFamily:"Arial, sans-serif",margin:0,padding:0,paddingTop:"80px",backgroundColor:"#f9f9f9",minHeight:"100vh"},header:{backgroundColor:"#4caf50",color:"white",textAlign:"center",padding:"10px 0"},content:{maxWidth:"800px",margin:"20px auto",background:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.2)"},list:{listStyleType:"disc",marginLeft:"20px"},contactInfo:{backgroundColor:"#4caf50",color:"white",padding:"10px",borderRadius:"5px",textAlign:"center"},link:{color:"white",textDecoration:"underline"},footer:{textAlign:"center",marginTop:"20px",fontSize:"0.9em",color:"#666"}},Ey=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},Ty=()=>{const s=so(),t=()=>s("/"),a=[{nombre:"Cuadernillos",descripcion:"Planeacin didctica y recursos educativos",icono:"",url:"http://www.planeaciondidactica.sems.gob.mx/login",color:"#007bff"},{nombre:"SISEEMS",descripcion:"Sistema de Evaluacin y Seguimiento",icono:"",url:"http://168.255.121.25/develop/index.php?",color:"#28a745"},{nombre:"Taln de Pago",descripcion:"Portal de autoservicios SEMS",icono:"",url:"https://portalautoservicios-sems.sep.gob.mx/login.jsp",color:"#ffc107"},{nombre:"DGETAYCM Mxico",descripcin:"Direccin General de Educacin Tecnolgica Agropecuaria y Ciencias del Mar",icono:"",url:"https://dgetaycm.sep.gob.mx/",color:"#dc3545"},{nombre:"SEP Tlaxcala",descripcion:"Secretara de Educacin Pblica Tlaxcala",icono:"",url:"https://www.septlaxcala.gob.mx",color:"#6f42c1"},{nombre:"Oficina Virtual ISSSTE",descripcion:"Instituto de Seguridad y Servicios Sociales",icono:"",url:"https://oficinavirtual.issste.gob.mx/",color:"#20c997"}],o=Ey(),c={padding:0,minHeight:"100vh",backgroundColor:o?"#0f1720":"#f8f9fa",fontFamily:"'Inter', sans-serif"},u={height:"400px",backgroundImage:'url("/images/maestros-hero.png")',backgroundSize:"cover",backgroundPosition:"center",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"40px"},p={position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(30, 60, 114, 0.7)",zIndex:1},g={fontSize:"32px",fontWeight:"bold",color:o?"#e6eef8":"#1e3c72",textAlign:"center",marginBottom:"20px"},x={fontSize:"18px",color:o?"#bfc7cf":"#666",textAlign:"center",marginBottom:"40px"},b={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"25px",maxWidth:"1200px",margin:"0 auto"},_={backgroundColor:o?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",overflow:"hidden",boxShadow:o?"0 12px 40px rgba(2,6,23,0.7)":"0 8px 25px rgba(0,0,0,0.1)",transition:"transform 0.3s ease, box-shadow 0.3s ease",cursor:"pointer",textDecoration:"none",color:"inherit"},f={padding:"25px"},j={fontSize:"20px",fontWeight:"bold",marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},S={fontSize:"16px",color:o?"#c8cdd3":"#666",lineHeight:"1.6",marginBottom:"20px"},N={color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",width:"100%",textDecoration:"none",display:"block",textAlign:"center"},k=T=>{window.open(T,"_blank","noopener,noreferrer")};return n.jsxs("div",{style:c,children:[n.jsxs("div",{style:u,children:[n.jsx("div",{style:p}),n.jsxs("div",{style:{position:"relative",zIndex:2,textAlign:"center",padding:"0 20px"},children:[n.jsx("h1",{style:{...g,color:"white",marginBottom:"10px"},children:" Portal Docente"}),n.jsx("p",{style:{...x,color:"rgba(255,255,255,0.9)",marginBottom:"20px"},children:"Gestiona los recursos educativos y el control de alumnos de la institucin."}),n.jsx("button",{onClick:()=>s("/maestros/admin"),style:{padding:"12px 24px",backgroundColor:"#e67e22",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",fontSize:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},children:" Panel Administrativo (Ingresar)"})]})]}),n.jsxs("div",{style:{padding:"0 20px"},children:[n.jsx("div",{style:b,children:a.map((T,I)=>n.jsx("div",{style:_,onMouseEnter:P=>{P.currentTarget.style.transform="translateY(-5px)",P.currentTarget.style.boxShadow="0 12px 35px rgba(0,0,0,0.15)"},onMouseLeave:P=>{P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.1)"},onClick:()=>k(T.url),children:n.jsxs("div",{style:f,children:[n.jsxs("h3",{style:{...j,color:T.color},children:[n.jsx("span",{style:{fontSize:"24px"},children:T.icono}),T.nombre]}),n.jsx("p",{style:S,children:T.descripcion}),n.jsx("button",{style:{...N,backgroundColor:"var(--primary-color)"},onMouseEnter:P=>{P.target.style.transform="scale(1.05)",P.target.style.boxShadow="0 4px 15px rgba(0,0,0,0.2)"},onMouseLeave:P=>{P.target.style.transform="scale(1)",P.target.style.boxShadow="none"},children:"Acceder al Portal "})]})},I))}),n.jsxs("div",{style:{background:o?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",padding:"25px",marginTop:"40px",boxShadow:o?"0 12px 35px rgba(2,6,23,0.7)":"0 8px 25px rgba(0,0,0,0.1)",maxWidth:"800px",margin:"40px auto 0 auto"},children:[n.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#1e3c72",marginBottom:"15px",textAlign:"center"},children:" Informacin Importante"}),n.jsxs("div",{style:{background:o?"rgba(30,60,114,0.12)":"#e3f2fd",padding:"20px",borderRadius:"10px",borderLeft:"4px solid #1e3c72"},children:[n.jsxs("p",{style:{fontSize:"16px",color:"#555",lineHeight:"1.6",marginBottom:"10px"},children:[n.jsx("strong",{children:" Nota:"})," Todos los enlaces externos se abrirn en una nueva ventana para tu comodidad."]}),n.jsxs("p",{style:{fontSize:"16px",color:"#555",lineHeight:"1.6",marginBottom:"10px"},children:[n.jsx("strong",{children:" Acceso:"})," Algunos portales requieren credenciales especficas proporcionadas por la institucin."]}),n.jsxs("p",{style:{fontSize:"16px",color:"#555",lineHeight:"1.6",marginBottom:"0"},children:[n.jsx("strong",{children:" Soporte:"})," Para problemas tcnicos, contacta al departamento de TI del CBTa 134."]})]})]}),n.jsx(Nr,{onBack:t,text:"Regresar al Men Principal"})]})]})},Ay=({onBack:s})=>{const t={minHeight:"100vh",paddingTop:"80px",padding:"80px 20px 40px",backgroundColor:"#f8f9fa"},a={backgroundColor:"white",borderRadius:"20px",padding:"20px",maxWidth:"100%",width:"100%",margin:"0 auto",boxShadow:"0 15px 35px rgba(0, 0, 0, 0.1)",overflow:"hidden"},o={fontSize:"2.5rem",fontWeight:"bold",color:"#28a745",textAlign:"center",marginBottom:"30px"};return n.jsx("div",{className:"noticias-container",style:t,children:n.jsxs("div",{className:"noticias-card",style:a,children:[n.jsx(Nr,{onClick:s}),n.jsx("h1",{style:o,children:" Noticias CBTA 134"}),n.jsxs("div",{style:{backgroundColor:"#e9f7ef",padding:"15px",borderRadius:"10px",marginBottom:"20px",borderLeft:"4px solid #28a745",color:"#155724"},children:[n.jsx("strong",{children:" Mantente al da:"})," Aqu puedes ver todas las publicaciones y noticias importantes de nuestra escuela directamente desde nuestra pgina oficial de Facebook."]}),n.jsxs("div",{className:"facebook-container",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px",backgroundColor:"white",borderRadius:"10px",padding:"10px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",position:"relative",overflow:"hidden"},children:[n.jsx("iframe",{src:"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fmicbta134&tabs=timeline&width=500&height=700&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId",style:{border:"none",borderRadius:"8px",width:"100%",maxWidth:"600px",height:"70vh",minHeight:"500px",maxHeight:"800px",margin:"0 auto",display:"block"},scrolling:"no",frameBorder:"0",allowFullScreen:!0,title:"Noticias CBTA 134 Facebook",onError:c=>{console.log("Error cargando Facebook iframe"),c.target.style.display="none",c.target.nextElementSibling.style.display="block"}}),n.jsxs("div",{style:{display:"none",padding:"40px",textAlign:"center",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"2px dashed #28a745",width:"100%",maxWidth:"600px",margin:"0 auto"},children:[n.jsx("h3",{style:{color:"#28a745",marginBottom:"15px"},children:" Sguenos en Facebook"}),n.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Visita nuestra pgina oficial para ver las ltimas noticias y actualizaciones."}),n.jsx("a",{href:"https://www.facebook.com/micbta134",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"12px 24px",backgroundColor:"#28a745",color:"white",textDecoration:"none",borderRadius:"8px",fontWeight:"bold",transition:"all 0.3s ease"},onMouseEnter:c=>{c.target.style.transform="translateY(-2px)",c.target.style.boxShadow="0 4px 12px rgba(40, 167, 69, 0.4)"},onMouseLeave:c=>{c.target.style.transform="translateY(0)",c.target.style.boxShadow="none"},children:" Visitar Pgina de Facebook"})]})]}),n.jsx("div",{style:{textAlign:"center",marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:"Las publicaciones se actualizan automticamente desde nuestra pgina oficial de Facebook."}),n.jsxs("div",{style:{backgroundColor:"#28a745",borderRadius:"15px",padding:"20px",textAlign:"center",color:"white"},children:[n.jsx("h3",{style:{margin:"0 0 10px 0"},children:" Sguenos en Redes Sociales"}),n.jsx("p",{style:{margin:0,fontSize:"0.95rem"},children:"No te pierdas ninguna novedad, evento o actividad del CBTA 134. nete a nuestra comunidad!"})]})]})})},Ry=()=>{var Ce;const s=so(),[t,a]=v.useState(null),[o,c]=v.useState(null),[u,p]=v.useState({nombre:"",apellidos:"",curp:"",grado:"",grupo:"",numero_control:"",carrera_id:""}),[g,x]=v.useState(!0),[b,_]=v.useState(!1),[f,j]=v.useState(!1),[S,N]=v.useState(""),[k,T]=v.useState([]),[I,P]=v.useState([]),[E,B]=v.useState([]),[$,U]=v.useState(null);v.useEffect(()=>{be(),re(),H();const{data:{subscription:D}}=A.auth.onAuthStateChange(async(X,K)=>{K?await G(K.user.email)?(a(K.user),we(K.user.id),j(!1)):(j(!0),a(K.user)):(a(null),c(null),j(!1))});return()=>D.unsubscribe()},[]);const H=async()=>{const{data:D}=await A.from("access_config").select("*").eq("config_key","alumno_domain").single();D&&N(D.config_value)},G=async D=>{if(!D)return!1;const{data:X}=await A.from("access_config").select("config_value").eq("config_key","alumno_domain").single();if(!X||!X.config_value)return!0;const K=X.config_value.toLowerCase();return D.toLowerCase().endsWith(K)},re=async()=>{const{data:D}=await A.from("carreras_tecnicas").select("*").order("nombre",{ascending:!0});T(D||[])},be=async()=>{const{data:{session:D}}=await A.auth.getSession();D&&(await G(D.user.email)?(a(D.user),await we(D.user.id,D.user.email),j(!1)):(j(!0),a(D.user))),x(!1)},we=async(D,X)=>{let{data:K,error:L}=await A.from("profiles").select("*").eq("id",D).maybeSingle();if(!K||!K.rol){const{data:V,error:ue}=await A.from("profiles").upsert({id:D,rol:"alumno",email:X||null}).select().maybeSingle();ue&&console.error("Error creando perfil:",ue),K=V}K&&!K.email&&X&&(await A.from("profiles").update({email:X}).eq("id",D),K={...K,email:X}),c(K),K&&K.rol==="alumno"&&(U(K.grado||1),Be(D,K.grado||1))},Be=async(D,X)=>{const{data:K}=await A.from("calificaciones").select("*").eq("alumno_id",D).eq("semestre",X);P(K||[]);const{data:L}=await A.from("publicaciones_globales").select("*").order("created_at",{ascending:!1});B(L||[])},Te=async D=>{if(D.preventDefault(),u.numero_control.length!==14){alert("El nmero de control debe tener exactamente 14 dgitos.");return}const{error:X}=await A.from("profiles").update({nombre:u.nombre,apellidos:u.apellidos,curp:u.curp,numero_control:u.numero_control,grado:parseInt(u.grado),grupo:u.grupo.toUpperCase(),carrera_id:u.carrera_id?parseInt(u.carrera_id):null,updated_at:new Date().toISOString()}).eq("id",t.id);X?(console.error(X),alert("Error al guardar datos. Verifica tu conexin.")):(be(),_(!1))},Xe=()=>{_(!0),p({nombre:o.nombre||"",apellidos:o.apellidos||"",curp:o.curp||"",numero_control:o.numero_control||"",grado:o.grado||"",grupo:o.grupo||"",carrera_id:o.carrera_id||""})},ye=async()=>{const{error:D}=await A.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/alumnos"}});D&&(console.error("Error en login:",D.message),alert("No se pudo iniciar sesin: "+D.message))},Ie=async()=>{await A.auth.signOut()};return n.jsxs("div",{className:"alumnos-container",children:[n.jsxs("div",{className:"alumnos-header",children:[n.jsxs("button",{className:"back-button-alumnos",onClick:()=>s("/"),children:[n.jsx("span",{className:"back-icon",children:""})," Volver al Inicio"]}),n.jsx("h1",{className:"alumnos-title",children:"Portal Estudiantil"})]}),n.jsx("div",{className:"alumnos-content",children:n.jsxs("div",{className:"login-card-premium",children:[n.jsx("div",{className:"login-visual-new",style:{backgroundImage:'url("/images/alumnos-hero.png")',backgroundSize:"cover",backgroundPosition:"center",flex:"1",minHeight:"300px",position:"relative"},children:n.jsx("div",{className:"overlay-green",style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, rgba(46, 204, 113, 0.2), rgba(39, 174, 96, 0.4))"}})}),n.jsxs("div",{className:"login-details",children:[f?n.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[n.jsx("div",{style:{fontSize:"60px",marginBottom:"20px"},children:""}),n.jsx("h2",{style:{color:"#e74c3c",marginBottom:"15px"},children:"Acceso Denegado"}),n.jsx("p",{style:{color:"#666",marginBottom:"10px"},children:"Solo se permiten cuentas con el dominio:"}),n.jsx("p",{style:{fontWeight:"bold",color:"#2ecc71",fontSize:"18px",background:"#f0fff4",padding:"10px 20px",borderRadius:"8px",display:"inline-block",marginBottom:"15px"},children:S||"@cbta134.edu.mx"}),n.jsxs("p",{style:{color:"#888",fontSize:"14px",marginBottom:"20px"},children:["Tu correo: ",n.jsx("strong",{children:t==null?void 0:t.email})]}),n.jsx("button",{onClick:Ie,style:{background:"#e74c3c",color:"white",border:"none",padding:"12px 30px",borderRadius:"25px",cursor:"pointer",fontSize:"16px"},children:"Cerrar Sesin"})]}):t?!(o!=null&&o.curp)||b?n.jsxs("div",{className:"registration-form",children:[n.jsx("h2",{children:b?"Actualizar Datos":"Completa tu Perfil"}),n.jsx("p",{children:"Asegrate de que tus datos sean correctos."}),n.jsxs("form",{onSubmit:Te,children:[n.jsx("input",{type:"text",placeholder:"Nombre(s)",value:u.nombre,onChange:D=>p({...u,nombre:D.target.value}),required:!0}),n.jsx("input",{type:"text",placeholder:"Apellidos Completos",value:u.apellidos,onChange:D=>p({...u,apellidos:D.target.value}),required:!0}),n.jsx("input",{type:"text",placeholder:"No. Control (14 dgitos)",value:u.numero_control,maxLength:14,onChange:D=>{const X=D.target.value.replace(/[^0-9]/g,"");p({...u,numero_control:X})},required:!0,title:"Debes ingresar exactamente 14 nmeros"}),n.jsx("input",{type:"text",placeholder:"CURP (18 caracteres)",maxLength:"18",value:u.curp,onChange:D=>p({...u,curp:D.target.value.toUpperCase()}),required:!0}),n.jsxs("div",{className:"form-row",children:[n.jsxs("select",{value:u.grado,onChange:D=>p({...u,grado:D.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Grado"}),n.jsx("option",{value:"1",children:"1 Semestre"}),n.jsx("option",{value:"2",children:"2 Semestre"}),n.jsx("option",{value:"3",children:"3 Semestre"}),n.jsx("option",{value:"4",children:"4 Semestre"}),n.jsx("option",{value:"5",children:"5 Semestre"}),n.jsx("option",{value:"6",children:"6 Semestre"})]}),n.jsxs("select",{value:u.grupo,onChange:D=>p({...u,grupo:D.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Grupo"}),n.jsx("option",{value:"A",children:"A"}),n.jsx("option",{value:"B",children:"B"}),n.jsx("option",{value:"C",children:"C"}),n.jsx("option",{value:"D",children:"D"}),n.jsx("option",{value:"E",children:"E"}),n.jsx("option",{value:"F",children:"F"}),n.jsx("option",{value:"G",children:"G"})]})]}),n.jsx("div",{className:"form-row",style:{marginTop:"10px"},children:n.jsxs("select",{value:u.carrera_id||"",onChange:D=>p({...u,carrera_id:D.target.value}),required:!0,style:{width:"100%"},children:[n.jsx("option",{value:"",children:"Selecciona tu Carrera Tcnica"}),k.map(D=>n.jsx("option",{value:D.id,children:D.nombre},D.id))]})}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsx("button",{type:"submit",className:"google-login-btn",children:"Guardar Datos"}),b&&n.jsx("button",{type:"button",className:"google-login-btn cancel-btn",onClick:()=>_(!1),style:{background:"#f1f1f1",border:"1px solid #ccc"},children:"Cancelar"})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("h2",{children:["Hola, ",o.nombre,"!"]}),n.jsxs("div",{className:"profile-info-mini",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Correo:"})," ",(t==null?void 0:t.email)||(o==null?void 0:o.email)||"No disponible"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Matrcula/CURP:"})," ",o.curp]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Grado y Grupo:"})," ",o.grado,"",o.grupo]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Carrera:"})," ",((Ce=k.find(D=>D.id===o.carrera_id))==null?void 0:Ce.nombre)||"Sin Asignar"]}),n.jsx("button",{onClick:Xe,style:{background:"none",border:"none",color:"#27ae60",textDecoration:"underline",cursor:"pointer",fontSize:"0.9rem",marginTop:"5px",padding:0},children:"Editar mis datos"})]}),n.jsx("p",{children:"Ya puedes consultar tu informacin acadmica. El administrador subir tus calificaciones pronto."}),n.jsxs("div",{className:"student-dashboard",children:[n.jsxs("section",{className:"dashboard-section",children:[n.jsx("h3",{children:" Tablero de Avisos"}),E.length===0?n.jsx("p",{style:{fontStyle:"italic",color:"#999"},children:"No hay avisos recientes."}):n.jsx("div",{className:"announcements-list",children:E.map(D=>n.jsxs("div",{className:"announcement-card",children:[n.jsx("h4",{children:D.titulo}),n.jsx("p",{children:D.contenido}),D.media_url&&n.jsx("div",{className:"announcement-media",style:{marginTop:"1rem"},children:D.media_type==="video"?n.jsx("video",{src:D.media_url,controls:!0,style:{width:"100%",borderRadius:"8px"}}):n.jsx("img",{src:D.media_url,alt:"Aviso",style:{width:"100%",borderRadius:"8px"}})}),n.jsx("small",{children:new Date(D.created_at).toLocaleDateString()})]},D.id))})]}),n.jsxs("section",{className:"dashboard-section",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[n.jsx("h3",{children:" Boleta de Calificaciones"}),n.jsx("select",{value:$,onChange:D=>{const X=parseInt(D.target.value);U(X),Be(t.id,X)},className:"semester-selector",style:{padding:"5px",borderRadius:"5px",border:"1px solid #ddd"},children:[1,2,3,4,5,6].map(D=>n.jsxs("option",{value:D,children:[D," Semestre"]},D))})]}),I.length===0?n.jsx("p",{style:{textAlign:"center",padding:"2rem",background:"#f8f9fa",borderRadius:"8px"},children:"No hay calificaciones registradas para este semestre."}):n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{color:"#2c3e50",borderBottom:"2px solid #3498db",paddingBottom:"0.5rem",marginBottom:"1rem",display:"inline-block"},children:" Formacin Bsica"}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"student-grades-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Materia"}),n.jsx("th",{style:{textAlign:"center"},children:"P1"}),n.jsx("th",{style:{textAlign:"center"},children:"P2"}),n.jsx("th",{style:{textAlign:"center"},children:"P3"}),n.jsx("th",{style:{textAlign:"center"},children:"Promedio"})]})}),n.jsxs("tbody",{children:[I.filter(D=>D.tipo_materia!=="especialidad").map(D=>n.jsxs("tr",{children:[n.jsx("td",{children:D.materia}),n.jsx("td",{style:{textAlign:"center"},children:D.parcial1||"-"}),n.jsx("td",{style:{textAlign:"center"},children:D.parcial2||"-"}),n.jsx("td",{style:{textAlign:"center"},children:D.parcial3||"-"}),n.jsx("td",{style:{textAlign:"center"},children:D.promedio_final?n.jsx("span",{className:`grade-badge ${D.promedio_final>=9?"excellent":D.promedio_final>=7?"good":"bad"}`,children:D.promedio_final}):"-"})]},D.id)),I.filter(D=>D.tipo_materia!=="especialidad").length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"5",style:{textAlign:"center",color:"#999"},children:"No hay materias bsicas registradas."})})]})]})})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{color:"#8e44ad",borderBottom:"2px solid #9b59b6",paddingBottom:"0.5rem",marginBottom:"1rem",display:"inline-block"},children:" Formacin Profesional"}),I.filter(D=>D.tipo_materia==="especialidad").length>0?n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"student-grades-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Materia"}),n.jsx("th",{style:{textAlign:"center"},children:"P1"}),n.jsx("th",{style:{textAlign:"center"},children:"P2"}),n.jsx("th",{style:{textAlign:"center"},children:"P3"}),n.jsx("th",{style:{textAlign:"center"},children:"Promedio"})]})}),n.jsx("tbody",{children:I.filter(D=>D.tipo_materia==="especialidad").map(D=>n.jsxs("tr",{children:[n.jsxs("td",{children:[D.materia,n.jsx("span",{style:{display:"block",fontSize:"0.75rem",color:"#8e44ad"},children:"Especialidad"})]}),n.jsx("td",{style:{textAlign:"center"},children:D.parcial1||"-"}),n.jsx("td",{style:{textAlign:"center"},children:D.parcial2||"-"}),n.jsx("td",{style:{textAlign:"center"},children:D.parcial3||"-"}),n.jsx("td",{style:{textAlign:"center"},children:D.promedio_final?n.jsx("span",{className:`grade-badge ${D.promedio_final>=9?"excellent":D.promedio_final>=7?"good":"bad"}`,children:D.promedio_final}):"-"})]},D.id))})]})}):n.jsx("div",{style:{padding:"1rem",background:"#fdf2fa",border:"1px dashed #e5b0ea",borderRadius:"8px",color:"#8e44ad"},children:"No tienes materias de especialidad registradas en este semestre."})]})]})]})]}),n.jsx("div",{className:"auth-methods",style:{marginTop:"2rem"},children:n.jsx("button",{className:"google-login-btn logout-btn",onClick:Ie,children:n.jsx("span",{children:"Cerrar Sesin"})})})]}):n.jsxs(n.Fragment,{children:[n.jsx("h2",{children:"Bienvenido, Alumno!"}),n.jsx("p",{children:"Accede a tus calificaciones, horarios y recursos acadmicos de manera segura."}),n.jsx("div",{className:"auth-methods",children:n.jsxs("button",{className:"google-login-btn",onClick:ye,children:[n.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg",alt:"Google"}),n.jsx("span",{children:"Iniciar sesin con Google"})]})})]}),n.jsx("div",{className:"login-footer",children:n.jsxs("p",{children:["Tienes problemas para entrar? ",n.jsx("a",{href:"#contacto",children:"Contacta a soporte"})]})})]})]})})]})},$y=({isOpen:s,onClose:t,onClubAdded:a,clubToEdit:o=null})=>{const[c,u]=v.useState({nombre:"",categoria:"Deportivo",descripcion:"",beneficios:"",tipoVisual:"emoji",icono:"",color:"#4a90e2",foto:null,link:""}),[p,g]=v.useState(!1),[x,b]=v.useState(null);if(v.useEffect(()=>{u(o?{nombre:o.nombre||"",categoria:o.categoria||"Deportivo",descripcion:o.descripcion||"",beneficios:o.beneficios||"",tipoVisual:o.foto_url?"foto":"emoji",icono:o.icono||"",color:o.color||"#4a90e2",foto:null,link:o.link||"",existingFotoUrl:o.foto_url}:{nombre:"",categoria:"Deportivo",descripcion:"",beneficios:"",tipoVisual:"emoji",icono:"",color:"#4a90e2",foto:null,link:""})},[o,s]),!s)return null;const _=B=>{const{name:$,value:U}=B.target;u(H=>({...H,[$]:U}))},f=B=>{B.target.files&&B.target.files[0]&&u($=>({...$,foto:B.target.files[0]}))},j=async B=>{B.preventDefault(),g(!0),b(null);try{let $=c.existingFotoUrl;if(c.tipoVisual==="foto"&&c.foto){const re=c.foto.name.split(".").pop(),we=`${`${Math.random()}.${re}`}`,{error:Be}=await A.storage.from("clubs_media").upload(we,c.foto);if(Be)throw Be;const{data:Te}=A.storage.from("clubs_media").getPublicUrl(we);$=Te.publicUrl}else c.tipoVisual==="emoji"&&($=null);const U={nombre:c.nombre,categoria:c.categoria,descripcion:c.descripcion,beneficios:c.beneficios,foto_url:$,icono:c.tipoVisual==="emoji"?c.icono:null,color:c.tipoVisual==="emoji"?c.color:null,link:c.link||null};let H;o?H=A.from("clubs").update(U).eq("id",o.id):H=A.from("clubs").insert([U]);const{error:G}=await H;if(G)throw G;a(),t()}catch($){console.error("Error saving club:",$),b($.message||"Error al guardar el club")}finally{g(!1)}},S={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},N={backgroundColor:"#fff",padding:"30px",borderRadius:"15px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",color:"#333"},k={marginBottom:"15px"},T={display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px",color:"#555"},I={width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd",fontSize:"14px"},P={padding:"10px 20px",borderRadius:"5px",border:"none",cursor:"pointer",fontWeight:"bold",marginTop:"10px"},E=["#4a90e2","#e74c3c","#2ecc71","#f1c40f","#9b59b6","#e67e22","#1abc9c","#34495e"];return n.jsx("div",{style:S,children:n.jsxs("div",{style:N,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:0,color:"#2c3e50"},children:o?"Editar Club":"Agregar Nuevo Club"}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#999"},children:""})]}),x&&n.jsx("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"5px",marginBottom:"15px",fontSize:"14px"},children:x}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{style:k,children:[n.jsx("label",{style:T,children:"Nombre del Club"}),n.jsx("input",{required:!0,type:"text",name:"nombre",value:c.nombre,onChange:_,style:I,placeholder:"Ej. Ftbol Varonil"})]}),n.jsxs("div",{style:k,children:[n.jsx("label",{style:T,children:"Categora"}),n.jsxs("select",{name:"categoria",value:c.categoria,onChange:_,style:I,children:[n.jsx("option",{value:"Deportivo",children:"Deportivo"}),n.jsx("option",{value:"Cultural",children:"Cultural"}),n.jsx("option",{value:"Academico",children:"Acadmico"})]})]}),n.jsxs("div",{style:k,children:[n.jsx("label",{style:T,children:"Descripcin"}),n.jsx("textarea",{required:!0,name:"descripcion",value:c.descripcion,onChange:_,style:{...I,minHeight:"80px",fontFamily:"inherit"},placeholder:"Breve descripcin de las actividades..."})]}),n.jsxs("div",{style:k,children:[n.jsx("label",{style:T,children:"Beneficios (separados por )"}),n.jsx("input",{type:"text",name:"beneficios",value:c.beneficios,onChange:_,style:I,placeholder:"Ej. Salud  Disciplina  Diversin"})]}),n.jsxs("div",{style:k,children:[n.jsx("label",{style:T,children:"Link de Redireccin (Opcional)"}),n.jsx("input",{type:"url",name:"link",value:c.link,onChange:_,style:I,placeholder:"https://pagina-externa.com"})]}),n.jsxs("div",{style:k,children:[n.jsx("label",{style:T,children:"Apariencia"}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[n.jsx("button",{type:"button",onClick:()=>u(B=>({...B,tipoVisual:"emoji"})),style:{...P,backgroundColor:c.tipoVisual==="emoji"?"#3498db":"#f0f2f5",color:c.tipoVisual==="emoji"?"white":"#7f8c8d",marginTop:0,flex:1},children:"Emoji + Color"}),n.jsx("button",{type:"button",onClick:()=>u(B=>({...B,tipoVisual:"foto"})),style:{...P,backgroundColor:c.tipoVisual==="foto"?"#3498db":"#f0f2f5",color:c.tipoVisual==="foto"?"white":"#7f8c8d",marginTop:0,flex:1},children:"Foto Personalizada"})]}),c.tipoVisual==="emoji"?n.jsxs("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px"},children:[n.jsxs("div",{style:{marginBottom:"10px"},children:[n.jsx("label",{style:{...T,fontSize:"13px"},children:"Emoji:"}),n.jsx("input",{type:"text",name:"icono",value:c.icono,onChange:_,style:{...I,fontSize:"24px",textAlign:"center",width:"60px"},placeholder:""})]}),n.jsxs("div",{children:[n.jsx("label",{style:{...T,fontSize:"13px"},children:"Color de Fondo:"}),n.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"10px"},children:[E.map(B=>n.jsx("button",{type:"button",onClick:()=>u($=>({...$,color:B})),style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:B,border:c.color===B?"2px solid #333":"2px solid transparent",cursor:"pointer",padding:0}},B)),n.jsx("input",{type:"color",name:"color",value:c.color,onChange:_,style:{width:"32px",height:"32px",padding:0,border:"none",background:"none",cursor:"pointer"}})]})]}),n.jsxs("div",{style:{marginTop:"10px",textAlign:"center"},children:[n.jsx("label",{style:{...T,fontSize:"12px",marginBottom:"5px"},children:"Vista Previa:"}),n.jsx("div",{style:{width:"100%",height:"80px",backgroundColor:c.color,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",color:"white",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:c.icono})]})]}):n.jsxs("div",{style:{textAlign:"center",padding:"20px",border:"2px dashed #ddd",borderRadius:"8px"},children:[c.existingFotoUrl&&n.jsxs("div",{style:{marginBottom:"10px"},children:[n.jsx("img",{src:c.existingFotoUrl,alt:"Preview",style:{height:"60px",borderRadius:"5px"}}),n.jsx("p",{style:{fontSize:"11px",margin:"2px 0 10px 0"},children:"Imagen actual (subir otra para cambiar)"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:f,style:{...I,border:"none"}}),n.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Formatos: JPG, PNG, WEBP"})]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[n.jsx("button",{type:"button",onClick:t,style:{...P,backgroundColor:"#eceff1",color:"#546e7a"},disabled:p,children:"Cancelar"}),n.jsx("button",{type:"submit",style:{...P,backgroundColor:"#28a745",color:"white"},disabled:p,children:p?"Guardando...":o?"Actualizar Club":"Crear Club"})]})]})]})})},Py=({isOpen:s,onClose:t,onCareerAdded:a,careerToEdit:o=null})=>{const[c,u]=v.useState({nombre:"",descripcion:"",programa_competencia:"",justificacion:"",perfil_egreso:"",area_especializacion:"",habilidades_socioemocionales:"",oportunidades_profesionales:"",imagenFile:null,pdfFile:null,pdf_start_page:1}),[p,g]=v.useState(!1),[x,b]=v.useState(null);if(v.useEffect(()=>{u(o?{nombre:o.nombre||"",descripcion:o.descripcion||"",programa_competencia:o.programa_competencia||"",justificacion:o.justificacion||"",perfil_egreso:o.perfil_egreso||"",area_especializacion:o.area_especializacion||"",habilidades_socioemocionales:o.habilidades_socioemocionales||"",oportunidades_profesionales:o.oportunidades_profesionales||"",imagenFile:null,pdfFile:null,pdf_start_page:o.pdf_start_page||1,existingImagenUrl:o.imagen_url,existingPdfUrl:o.plan_estudios_url}:{nombre:"",descripcion:"",programa_competencia:"",justificacion:"",perfil_egreso:"",area_especializacion:"",habilidades_socioemocionales:"",oportunidades_profesionales:"",imagenFile:null,pdfFile:null,pdf_start_page:1})},[o,s]),!s)return null;const _=B=>{const{name:$,value:U}=B.target;u(H=>({...H,[$]:U}))},f=(B,$)=>{B.target.files&&B.target.files[0]&&u(U=>({...U,[$]:B.target.files[0]}))},j=async(B,$)=>{const U=B.name.split(".").pop(),H=`${$}/${Math.random()}.${U}`,{error:G}=await A.storage.from("carreras_media").upload(H,B);if(G)throw G;const{data:re}=A.storage.from("carreras_media").getPublicUrl(H);return re.publicUrl},S=async B=>{B.preventDefault(),g(!0),b(null);try{let $=c.existingImagenUrl,U=c.existingPdfUrl;if(c.imagenFile&&($=await j(c.imagenFile,"images")),c.pdfFile&&(U=await j(c.pdfFile,"pdfs")),!$)throw new Error("La imagen es obligatoria");const H={nombre:c.nombre,descripcion:c.descripcion,imagen_url:$,programa_competencia:c.programa_competencia,justificacion:c.justificacion,perfil_egreso:c.perfil_egreso,area_especializacion:c.area_especializacion,habilidades_socioemocionales:c.habilidades_socioemocionales,oportunidades_profesionales:c.oportunidades_profesionales,plan_estudios_url:U||null,pdf_start_page:parseInt(c.pdf_start_page)||1};let G;o?G=A.from("carreras_tecnicas").update(H).eq("id",o.id):G=A.from("carreras_tecnicas").insert([H]);const{error:re}=await G;if(re)throw re;a(),t()}catch($){console.error("Error saving career:",$),b($.message||"Error al guardar la carrera tcnica")}finally{g(!1)}},N={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},k={backgroundColor:"#fff",padding:"30px",borderRadius:"15px",width:"90%",maxWidth:"700px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",color:"#333"},T={marginBottom:"15px"},I={display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px",color:"#555"},P={width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd",fontSize:"14px"},E={padding:"10px 20px",borderRadius:"5px",border:"none",cursor:"pointer",fontWeight:"bold",marginTop:"10px"};return n.jsx("div",{style:N,children:n.jsxs("div",{style:k,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:0,color:"#2c3e50"},children:o?"Editar Carrera Tcnica":"Agregar Nueva Carrera Tcnica"}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#999"},children:""})]}),x&&n.jsx("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"5px",marginBottom:"15px",fontSize:"14px"},children:x}),n.jsxs("form",{onSubmit:S,children:[n.jsxs("div",{style:T,children:[n.jsx("label",{style:I,children:"Nombre de la Carrera*"}),n.jsx("input",{required:!0,type:"text",name:"nombre",value:c.nombre,onChange:_,style:P,placeholder:"Ej. Tcnico en Programacin"})]}),n.jsxs("div",{style:T,children:[n.jsx("label",{style:I,children:"Descripcin"}),n.jsx("textarea",{name:"descripcion",value:c.descripcion,onChange:_,style:{...P,minHeight:"80px",fontFamily:"inherit"},placeholder:"Descripcin general de la carrera..."})]}),n.jsxs("div",{style:T,children:[n.jsx("label",{style:I,children:"Imagen de la Carrera*"}),c.existingImagenUrl&&n.jsxs("div",{style:{marginBottom:"10px"},children:[n.jsx("img",{src:c.existingImagenUrl,alt:"Preview",style:{height:"60px",borderRadius:"5px"}}),n.jsx("p",{style:{fontSize:"11px",margin:"2px 0 10px 0"},children:"Imagen actual (subir otra para cambiar)"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:B=>f(B,"imagenFile"),style:{...P,border:"none"},required:!c.existingImagenUrl}),n.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Formatos: JPG, PNG, WEBP"})]}),n.jsxs("div",{style:T,children:[n.jsx("label",{style:I,children:"Programa de Competencias"}),n.jsx("textarea",{name:"programa_competencia",value:c.programa_competencia,onChange:_,style:{...P,minHeight:"100px",fontFamily:"inherit"},placeholder:"Descripcin del programa de competencias..."})]}),n.jsxs("div",{style:T,children:[n.jsx("label",{style:I,children:"Justificacin"}),n.jsx("textarea",{name:"justificacion",value:c.justificacion,onChange:_,style:{...P,minHeight:"100px",fontFamily:"inherit"},placeholder:"Justificacin de la carrera..."})]}),n.jsxs("div",{style:T,children:[n.jsx("label",{style:I,children:"Perfil de Egreso"}),n.jsx("textarea",{name:"perfil_egreso",value:c.perfil_egreso,onChange:_,style:{...P,minHeight:"100px",fontFamily:"inherit"},placeholder:"Perfil del egresado..."})]}),n.jsxs("div",{style:T,children:[n.jsx("label",{style:I,children:"rea de Especializacin"}),n.jsx("input",{type:"text",name:"area_especializacion",value:c.area_especializacion,onChange:_,style:P,placeholder:"Ej. Tecnologas de la Informacin"})]}),n.jsxs("div",{style:T,children:[n.jsx("label",{style:I,children:"Habilidades Socioemocionales"}),n.jsx("textarea",{name:"habilidades_socioemocionales",value:c.habilidades_socioemocionales,onChange:_,style:{...P,minHeight:"80px",fontFamily:"inherit"},placeholder:"Habilidades socioemocionales desarrolladas..."})]}),n.jsxs("div",{style:T,children:[n.jsx("label",{style:I,children:"Oportunidades Profesionales"}),n.jsx("textarea",{name:"oportunidades_profesionales",value:c.oportunidades_profesionales,onChange:_,style:{...P,minHeight:"80px",fontFamily:"inherit"},placeholder:"Campo laboral y oportunidades..."})]}),n.jsxs("div",{style:T,children:[n.jsx("label",{style:I,children:"Plan de Estudios (PDF)"}),c.existingPdfUrl&&n.jsxs("div",{style:{marginBottom:"10px"},children:[n.jsx("a",{href:c.existingPdfUrl,target:"_blank",rel:"noopener noreferrer",style:{color:"#3498db",fontSize:"12px"},children:" Ver PDF actual"}),n.jsx("p",{style:{fontSize:"11px",margin:"2px 0 10px 0"},children:"Subir otro para reemplazar"})]}),n.jsx("input",{type:"file",accept:"application/pdf",onChange:B=>f(B,"pdfFile"),style:{...P,border:"none"}}),n.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Formato: PDF"})]}),n.jsxs("div",{style:T,children:[n.jsx("label",{style:I,children:"Pgina Inicial del PDF (opcional)"}),n.jsx("input",{type:"number",name:"pdf_start_page",min:"1",value:c.pdf_start_page,onChange:_,style:{...P,maxWidth:"150px"},placeholder:"1"}),n.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Especifica qu pgina se mostrar primero en la vista pblica (ej: 2, 8, 12)"})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[n.jsx("button",{type:"button",onClick:t,style:{...E,backgroundColor:"#eceff1",color:"#546e7a"},disabled:p,children:"Cancelar"}),n.jsx("button",{type:"submit",style:{...E,backgroundColor:"#28a745",color:"white"},disabled:p,children:p?"Guardando...":o?"Actualizar Carrera":"Crear Carrera"})]})]})]})})},Iy=()=>{var $s;const s=so(),[t,a]=v.useState(null),[o,c]=v.useState(null),[u,p]=v.useState([]),[g,x]=v.useState(!0),[b,_]=v.useState({titulo:"",contenido:""}),[f,j]=v.useState(!1),[S,N]=v.useState(!1),[k,T]=v.useState("dashboard"),[I,P]=v.useState([]),[E,B]=v.useState(!1),[$,U]=v.useState(null),[H,G]=v.useState([]),[re,be]=v.useState(!1),[we,Be]=v.useState(null),[Te,Xe]=v.useState(null),[ye,Ie]=v.useState({target_date:"",countdown_message:"",header_title:"",header_subtitle:""}),[Ce,D]=v.useState([]),[X,K]=v.useState({title:"",date_range:"",subtitle:""}),[L,V]=v.useState(null),[ue,fe]=v.useState([]),[je,Se]=v.useState({requirement:""}),[$e,Ee]=v.useState(null),[Oe,zt]=v.useState([]),[Zt,_n]=v.useState({emoji:"",name:"",description:""}),[ss,za]=v.useState(null),[Gs,El]=v.useState(null),[nt,Cr]=v.useState({address:"",phone_label:"",phone_value:"",email_label:"",email_value:"",website_label:"",website_value:"",schedule:""}),[as,Ks]=v.useState(null),[me,bt]=v.useState({hero_image_url:"",title:"",subtitle:"",target_date:"",countdown_label:"",countdown_date_text:"",inscriptions_title:"",inscriptions_period_title:"",inscriptions_period_description:"",requirements_title:"",advantages_title:"",contact_title:"",contact_description:""}),[ao,Tl]=v.useState([]),[Mr,is]=v.useState({title:"",description:""}),[Js,Qs]=v.useState(null),[io,Ys]=v.useState([]),[fr,Xs]=v.useState({icon:"",text:""}),[Ma,oo]=v.useState(null),[Al,lo]=v.useState([]),[Er,jn]=v.useState({title:"",description:""}),[Zs,qa]=v.useState(null),[Sn,os]=v.useState([]),[ea,ta]=v.useState({line_text:""}),[Ha,co]=v.useState(null),[ra,uo]=v.useState(null),[Je,St]=v.useState({address_line1:"",address_line2:"",address_line3:"",phone:"",email:"",website:"",rating_text:"",status_text:"",hours_line1:"",hours_line2:""}),[Va,na]=v.useState([]),[Tr,Ar]=v.useState({icon:"",title:"",detail:""}),[ls,sa]=v.useState(null),[Wa,md]=v.useState([]),[er,kn]=v.useState({icon:"",name:"",url:"",description:""}),[qr,ho]=v.useState(null),[aa,gd]=v.useState(null),[Nn,Ga]=v.useState({address_text:"",map_embed_url:""}),[po,Rl]=v.useState([]),[on,ia]=v.useState({question:"",answer:""}),[Qe,$l]=v.useState(null),[cs,Pl]=v.useState(null),[mr,Ka]=v.useState({title:"",description:"",highlight_text:""}),[Rr,oa]=v.useState(null),[Ae,gr]=v.useState({title:"",logo_url:"",croquis_image_url:"",history_text:"",mission_text:"",vision_text:"",lema_text:"",commitment_text_1:"",commitment_text_2:""}),[Rt,Il]=v.useState(null),[Ol,Ja]=v.useState(!1),[la,Qa]=v.useState([]),[$t,Hr]=v.useState({icon:"",title:"",description:""}),[fo,Dl]=v.useState(null),[Ya,Ll]=v.useState([]),[Fe,Mt]=v.useState({section:"instalaciones",title:"",description:"",image_url:"",is_locked:!1}),[mo,Xa]=v.useState(null),[Re,go]=v.useState(null),[xo,ca]=v.useState(!1),[da,Bl]=v.useState(null),[Cn,ua]=v.useState({logo_url:"",title_text:""}),[ha,ln]=v.useState([]),[pt,qt]=v.useState({label:"",href:"",path:""}),[En,ds]=v.useState(null),[xr,xd]=v.useState(null),[lt,Ht]=v.useState({school_name:"",location_text:"",tagline_text:"",copyright_text:"",rights_text:"",legal_text_1:"",legal_text_2:"",legal_text_3:""}),[Ul,Fl]=v.useState([]),[kt,cn]=v.useState({label:"",href:"",icon_url:"",style_class:""}),[bo,us]=v.useState(null),[hs,ps]=v.useState([]),[Pt,fs]=v.useState({image_url:"",is_locked:!1}),[yo,Za]=v.useState(null),[Tn,ei]=v.useState(null),[vo,$r]=v.useState(!1),[ti,ri]=v.useState([]),[Ze,tr]=v.useState({image_url:"",title:"",description:"",path:"",is_locked:!1}),[ms,wo]=v.useState(null),[yt,An]=v.useState(null),[ni,Rn]=v.useState(!1),[si,_o]=v.useState(null),[rr,Vr]=v.useState({title:"",subtitle:"",license_title:"",license_text:""}),[pa,zl]=v.useState([]),[Nt,dn]=v.useState({full_name:"",career:"",description:"",photo_url:""}),[jo,ai]=v.useState(null),[ii,Ml]=v.useState(null),[ql,So]=v.useState(!1),[un,Hl]=v.useState(null),[ge,Pr]=v.useState({provider:"groq",base_url:"",api_key:"",groq_api_key:"",gemini_api_key:"",model:"",system_prompt:"",enable_db_context:!0,enabled:!0,fallback_enabled:!1,primary_provider:"groq"}),[Vl,Wl]=v.useState(!1),[oi,bd]=v.useState([]),[hn,ko]=v.useState({provider:"groq",name:""}),[fa,yd]=v.useState(""),[Gl,No]=v.useState(""),[Kl,Jl]=v.useState(!1),[Co,vd]=v.useState(!1),[li,ma]=v.useState([]),[Eo,Ql]=v.useState(!1),[Yl,To]=v.useState(!1),[Ir,Ao]=v.useState(null),[gs,Xl]=v.useState(!1),[et,$n]=v.useState({subject:"",messageHtml:"",messageText:"",sendToAll:!1,grados:[],grupos:[]}),[ci,Ro]=v.useState(!1),[Pn,It]=v.useState(null),[In,Vt]=v.useState(!1),[$o,Po]=v.useState(!1),[di,nr]=v.useState(null),[Io,Wr]=v.useState(null),[Zl,ui]=v.useState(!1),[Or,ec]=v.useState({user:"",password:""}),[tc,ga]=v.useState(""),[sr,xs]=v.useState(!1),[xa,rc]=v.useState([]),[nc,hi]=v.useState(!1),[Oo,ba]=v.useState(!1),[pi,On]=v.useState(""),[fi,bs]=v.useState(!1),[br,ya]=v.useState({alumno_domain:"",maestro_user:"",maestro_password:""}),[va,Dn]=v.useState(!1),[Do,mi]=v.useState(!1),[Ln,gi]=v.useState(null),[xi,bi]=v.useState([]),[yi,Lo]=v.useState(1),[dt,Wt]=v.useState({materia:"",parcial1:"",parcial2:"",parcial3:"",tipo:"basica"}),[vi,ys]=v.useState("semesters"),[Bn,sc]=v.useState(null),[Un,ac]=v.useState(null),Bo=d=>u.filter(q=>q.grado===d&&q.grupo).map(q=>q.grupo).filter((q,W,ee)=>ee.indexOf(q)===W).sort(),Uo=()=>u.filter(d=>d.grado===Bn&&d.grupo===Un);v.useEffect(()=>{const{data:{subscription:d}}=A.auth.onAuthStateChange((w,q)=>{var ee,ve,ke;console.log("Auth event:",w,"Provider token:",q!=null&&q.provider_token?"presente":"ausente"),(w==="SIGNED_IN"||w==="INITIAL_SESSION"||w==="TOKEN_REFRESHED")&&(q!=null&&q.provider_token)&&(localStorage.setItem("gmail_provider_token",q.provider_token),localStorage.setItem("gmail_user_email",((ee=q.user)==null?void 0:ee.email)||""),console.log(" Token de Gmail guardado para:",(ve=q.user)==null?void 0:ve.email),nr(q.provider_token),Wr(((ke=q.user)==null?void 0:ke.email)||null),Vt(!0)),w==="SIGNED_OUT"&&(localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),nr(null),Wr(null),Vt(!1))});return()=>d.unsubscribe()},[]),v.useEffect(()=>{Me(),ka(),Go(),Hn(),vt(),at(),ft(),Lt(),Ns(),Ue(),Kn(),Ts(),Jn();const d=localStorage.getItem("gmail_provider_token"),w=localStorage.getItem("gmail_user_email");d&&(nr(d),Wr(w),Vt(!0))},[]),v.useEffect(()=>{k==="gmail"&&Rs(),k==="access"&&(wa(),ja())},[k]);const Me=async()=>{const{data:{session:d}}=await A.auth.getSession();if(!d){x(!1);return}a(d.user);try{const{data:W,error:ee}=await A.from("edupanel_allowed_accounts").select("*").eq("email",d.user.email.toLowerCase()).maybeSingle();if(ee)console.warn("Tabla edupanel_allowed_accounts no existe o error:",ee.message),ba(!1),hi(!0);else if(W)hi(W.is_master===!0),ba(!1);else{ba(!0),x(!1);return}}catch(W){console.warn("Error verificando cuentas permitidas:",W),ba(!1),hi(!0)}const w=sessionStorage.getItem("maestro_security_verified");w==="true"&&ui(!0);let{data:q}=await A.from("profiles").select("*").eq("id",d.user.id).single();if(!q||q.rol!=="maestro"){const{data:W}=await A.from("profiles").upsert({id:d.user.id,rol:"maestro",nombre:d.user.user_metadata.full_name,avatar_url:d.user.user_metadata.avatar_url}).select().single();q=W}c(q),w==="true"&&zn(),x(!1)},Fo=async d=>{var w,q;d.preventDefault(),ga(""),xs(!0);try{const{data:W,error:ee}=await A.from("access_config").select("config_key, config_value").in("config_key",["maestro_user","maestro_password"]);if(ee){console.warn("Tabla access_config no existe, usando credenciales por defecto"),Or.user==="cbta"&&Or.password==="cbta134#pagina"?(ui(!0),sessionStorage.setItem("maestro_security_verified","true"),zn()):ga("Usuario o contrasea incorrectos.");return}if(!W||W.length<2){Or.user==="cbta"&&Or.password==="cbta134#pagina"?(ui(!0),sessionStorage.setItem("maestro_security_verified","true"),zn()):ga("Usuario o contrasea incorrectos.");return}const ve=(w=W.find(_e=>_e.config_key==="maestro_user"))==null?void 0:w.config_value,ke=(q=W.find(_e=>_e.config_key==="maestro_password"))==null?void 0:q.config_value;Or.user===ve&&Or.password===ke?(ui(!0),sessionStorage.setItem("maestro_security_verified","true"),zn()):ga("Usuario o contrasea incorrectos.")}catch{ga("Error al verificar. Intenta de nuevo.")}finally{xs(!1)}},wa=async()=>{const{data:d}=await A.from("access_config").select("*");if(d){const w={};d.forEach(q=>{w[q.config_key]=q.config_value}),ya({alumno_domain:w.alumno_domain||"",maestro_user:w.maestro_user||"",maestro_password:w.maestro_password||""})}},_a=async()=>{Dn(!0),mi(!1);try{const d=[{config_key:"alumno_domain",config_value:br.alumno_domain,description:"Dominio de correo permitido para alumnos"},{config_key:"maestro_user",config_value:br.maestro_user,description:"Usuario de seguridad para maestros"},{config_key:"maestro_password",config_value:br.maestro_password,description:"Contrasea de seguridad para maestros"}];for(const w of d)await A.from("access_config").update({config_value:w.config_value,updated_at:new Date().toISOString()}).eq("config_key",w.config_key);mi(!0),setTimeout(()=>mi(!1),3e3)}catch(d){console.error("Error saving access config:",d)}finally{Dn(!1)}},ja=async()=>{const{data:d}=await A.from("edupanel_allowed_accounts").select("*").order("created_at",{ascending:!0});rc(d||[])},zo=async()=>{if(pi.trim()){bs(!0);try{const{error:d}=await A.from("edupanel_allowed_accounts").insert({email:pi.toLowerCase().trim(),is_master:!1,added_by:(t==null?void 0:t.email)||"desconocido"});d?d.code==="23505"?alert("Este correo ya est en la lista."):(console.error("Error adding account:",d),alert("Error al agregar cuenta.")):(On(""),ja())}finally{bs(!1)}}},Sa=async(d,w,q)=>{const W=xa.filter(ve=>ve.is_master).length;if(q){if(W<=1){alert("No puedes eliminar la nica cuenta maestra. Primero asigna otra cuenta como maestra.");return}if(!window.confirm(` ATENCIN: "${w}" es una cuenta maestra.

Ests seguro de que deseas eliminarla?`))return}else if(!window.confirm(`Eliminar acceso para ${w}?`))return;const{error:ee}=await A.from("edupanel_allowed_accounts").delete().eq("id",d);ee?(console.error("Error eliminando cuenta:",ee),alert(ee.message||"Error al eliminar la cuenta.")):ja()},wi=async(d,w,q)=>{const W=xa.filter(ve=>ve.is_master).length;if(q){if(W<=1){alert("No puedes quitar el rol de maestra a la nica cuenta maestra.");return}if(!window.confirm(`Quitar rol de cuenta maestra a "${w}"?`))return}else{if(W>=10){alert("Ya hay 10 cuentas maestras (mximo permitido).");return}if(!window.confirm(`Hacer "${w}" cuenta maestra?

Las cuentas maestras pueden gestionar el acceso de otras cuentas.`))return}const{error:ee}=await A.from("edupanel_allowed_accounts").update({is_master:!q}).eq("id",d);ee?(console.error("Error actualizando estado:",ee),alert(ee.message||"Error al actualizar el estado de la cuenta.")):ja()},Fn=async()=>{await A.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/maestros/admin",scopes:"https://www.googleapis.com/auth/gmail.send",queryParams:{access_type:"offline",prompt:"consent"}}})},zn=async()=>{x(!0);const{data:d,error:w}=await A.from("profiles").select("*").eq("rol","alumno").order("grado",{ascending:!0}).order("grupo",{ascending:!0});w||p(d),x(!1)},wd=async d=>{if(window.confirm("Ests seguro de eliminar este alumno?")){const{error:w}=await A.from("profiles").delete().eq("id",d);w||zn()}},[ic,oc]=v.useState([]),[st,yr]=v.useState(null),ka=async()=>{const{data:d}=await A.from("publicaciones_globales").select("*").order("created_at",{ascending:!1});oc(d||[])},Mo=async d=>{if(window.confirm("Eliminar este aviso?")){const{error:w}=await A.from("publicaciones_globales").delete().eq("id",d);w||ka()}},qo=d=>{yr({...d})},Ho=async d=>{d.preventDefault();const{error:w}=await A.from("profiles").update({nombre:st.nombre,apellidos:st.apellidos,email:st.email,curp:st.curp,numero_control:st.numero_control}).eq("id",st.id);w||(yr(null),zn())},[_i,Vo]=v.useState(null),_d=d=>{Vo(d),_({titulo:d.titulo,contenido:d.contenido})},[Mn,ji]=v.useState(null),[Gr,Si]=v.useState(!1),vs=async d=>{d.preventDefault(),Si(!0);let w=null,q=null;if(Mn){const ve=Mn.name.split(".").pop(),_e=`${`${Math.random()}.${ve}`}`,{error:He}=await A.storage.from("posts_media").upload(_e,Mn);if(He){alert("Error subiendo archivo: "+He.message),Si(!1);return}const{data:{publicUrl:Bt}}=A.storage.from("posts_media").getPublicUrl(_e);w=Bt,q=Mn.type.startsWith("video/")?"video":"image"}const W={titulo:b.titulo,contenido:b.contenido,media_url:w,media_type:q};let ee;if(_i){const{error:ve}=await A.from("publicaciones_globales").update(Mn?W:{titulo:b.titulo,contenido:b.contenido}).eq("id",_i.id);ee=ve}else{const{error:ve}=await A.from("publicaciones_globales").insert([{...W,autor_id:t.id}]);ee=ve}ee?alert("Error al guardar publicacin: "+ee.message):(alert(_i?"Aviso actualizado":"Aviso publicado"),_({titulo:"",contenido:""}),ji(null),Vo(null),ka()),Si(!1)},Dr=async d=>{gi(d),Lo(d.grado||1),await ws(d.id,d.grado||1)},ws=async(d,w)=>{const{data:q,error:W}=await A.from("calificaciones").select("*").eq("alumno_id",d).eq("semestre",w);W||bi(q||[])},vr=async(d,w,q)=>{const W=q===""?null:parseFloat(q),{error:ee}=await A.from("calificaciones").update({[w]:W}).eq("id",d);ee||bi(xi.map(ve=>ve.id===d?{...ve,[w]:W}:ve))},Wo=async()=>{if(!dt.materia)return;if(dt.tipo==="especialidad"&&yi<2){alert("Las materias de especialidad solo pueden asignarse a partir del 2do semestre.");return}const{data:d,error:w}=await A.from("calificaciones").insert([{alumno_id:Ln.id,semestre:yi,materia:dt.materia,tipo_materia:dt.tipo,parcial1:dt.parcial1||null,parcial2:dt.parcial2||null,parcial3:dt.parcial3||null}]).select();!w&&d?(bi([...xi,d[0]]),Wt({materia:"",parcial1:"",parcial2:"",parcial3:"",tipo:"basica"})):alert("Error al agregar materia: "+((w==null?void 0:w.message)||"Error desconocido"))},Go=async()=>{const{data:d}=await A.from("carreras_tecnicas").select("*").order("created_at",{ascending:!1});P(d||[])},jd=d=>{U(d),B(!0)},qn=async d=>{if(window.confirm("Eliminar esta carrera tcnica? Esto podra afectar a los alumnos inscritos.")){const{error:w}=await A.from("carreras_tecnicas").delete().eq("id",d);w||Go()}},Hn=async()=>{const{data:d}=await A.from("clubs").select("*").order("created_at",{ascending:!1});G(d||[])},_s=d=>{Be(d),be(!0)},ki=async d=>{if(window.confirm("Eliminar este club?")){const{error:w}=await A.from("clubs").delete().eq("id",d);w||Hn()}},vt=async()=>{const{data:d}=await A.from("admission_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:w}=await A.from("admission_dates").select("*").order("order_index",{ascending:!0}),{data:q}=await A.from("admission_requirements").select("*").order("order_index",{ascending:!0}),{data:W}=await A.from("admission_specialties").select("*").order("order_index",{ascending:!0}),{data:ee}=await A.from("admission_contact").select("*").order("created_at",{ascending:!1}).limit(1).single();Xe(d||null),D(w||[]),fe(q||[]),zt(W||[]),El(ee||null),d&&Ie({target_date:d.target_date?d.target_date.split("T")[0]:"",countdown_message:d.countdown_message||"",header_title:d.header_title||"",header_subtitle:d.header_subtitle||""}),ee&&Cr({address:ee.address||"",phone_label:ee.phone_label||"",phone_value:ee.phone_value||"",email_label:ee.email_label||"",email_value:ee.email_value||"",website_label:ee.website_label||"",website_value:ee.website_value||"",schedule:ee.schedule||""})},js=async d=>{d.preventDefault();const w={target_date:ye.target_date?new Date(ye.target_date).toISOString():null,countdown_message:ye.countdown_message,header_title:ye.header_title,header_subtitle:ye.header_subtitle};if(Te!=null&&Te.id){const{error:q}=await A.from("admission_config").update(w).eq("id",Te.id);q||vt()}else{const{error:q}=await A.from("admission_config").insert([w]);q||vt()}},pn=async d=>{if(d.preventDefault(),!(!X.title||!X.date_range))if(L){const{error:w}=await A.from("admission_dates").update(X).eq("id",L.id);w||(V(null),K({title:"",date_range:"",subtitle:""}),vt())}else{const{error:w}=await A.from("admission_dates").insert([{...X,order_index:Ce.length+1}]);w||(K({title:"",date_range:"",subtitle:""}),vt())}},qe=async d=>{if(window.confirm("Eliminar esta fecha?")){const{error:w}=await A.from("admission_dates").delete().eq("id",d);w||vt()}},ze=async d=>{if(d.preventDefault(),!!je.requirement)if($e){const{error:w}=await A.from("admission_requirements").update(je).eq("id",$e.id);w||(Ee(null),Se({requirement:""}),vt())}else{const{error:w}=await A.from("admission_requirements").insert([{...je,order_index:ue.length+1}]);w||(Se({requirement:""}),vt())}},fn=async d=>{if(window.confirm("Eliminar este requisito?")){const{error:w}=await A.from("admission_requirements").delete().eq("id",d);w||vt()}},wt=async d=>{if(d.preventDefault(),!!Zt.name)if(ss){const{error:w}=await A.from("admission_specialties").update(Zt).eq("id",ss.id);w||(za(null),_n({emoji:"",name:"",description:""}),vt())}else{const{error:w}=await A.from("admission_specialties").insert([{...Zt,order_index:Oe.length+1}]);w||(_n({emoji:"",name:"",description:""}),vt())}},Ot=async d=>{if(window.confirm("Eliminar esta especialidad?")){const{error:w}=await A.from("admission_specialties").delete().eq("id",d);w||vt()}},Vn=async d=>{if(d.preventDefault(),Gs!=null&&Gs.id){const{error:w}=await A.from("admission_contact").update(nt).eq("id",Gs.id);w||vt()}else{const{error:w}=await A.from("admission_contact").insert([nt]);w||vt()}},at=async()=>{const{data:d}=await A.from("baetam_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:w}=await A.from("baetam_info_cards").select("*").order("order_index",{ascending:!0}),{data:q}=await A.from("baetam_requirements").select("*").order("order_index",{ascending:!0}),{data:W}=await A.from("baetam_advantages").select("*").order("order_index",{ascending:!0}),{data:ee}=await A.from("baetam_contact_lines").select("*").order("order_index",{ascending:!0});Ks(d||null),Tl(w||[]),Ys(q||[]),lo(W||[]),os(ee||[]),d&&bt({hero_image_url:d.hero_image_url||"",title:d.title||"",subtitle:d.subtitle||"",target_date:d.target_date?d.target_date.split("T")[0]:"",countdown_label:d.countdown_label||"",countdown_date_text:d.countdown_date_text||"",inscriptions_title:d.inscriptions_title||"",inscriptions_period_title:d.inscriptions_period_title||"",inscriptions_period_description:d.inscriptions_period_description||"",requirements_title:d.requirements_title||"",advantages_title:d.advantages_title||"",contact_title:d.contact_title||"",contact_description:d.contact_description||""})},Dt=async d=>{d.preventDefault();const w={hero_image_url:me.hero_image_url,title:me.title,subtitle:me.subtitle,target_date:me.target_date?new Date(me.target_date).toISOString():null,countdown_label:me.countdown_label,countdown_date_text:me.countdown_date_text,inscriptions_title:me.inscriptions_title,inscriptions_period_title:me.inscriptions_period_title,inscriptions_period_description:me.inscriptions_period_description,requirements_title:me.requirements_title,advantages_title:me.advantages_title,contact_title:me.contact_title,contact_description:me.contact_description};if(as!=null&&as.id){const{error:q}=await A.from("baetam_config").update(w).eq("id",as.id);q||at()}else{const{error:q}=await A.from("baetam_config").insert([w]);q||at()}},Ni=async d=>{if(d.preventDefault(),!(!Mr.title||!Mr.description))if(Js){const{error:w}=await A.from("baetam_info_cards").update(Mr).eq("id",Js.id);w||(Qs(null),is({title:"",description:""}),at())}else{const{error:w}=await A.from("baetam_info_cards").insert([{...Mr,order_index:ao.length+1}]);w||(is({title:"",description:""}),at())}},lc=async d=>{if(window.confirm("Eliminar esta tarjeta?")){const{error:w}=await A.from("baetam_info_cards").delete().eq("id",d);w||at()}},cc=async d=>{if(d.preventDefault(),!!fr.text)if(Ma){const{error:w}=await A.from("baetam_requirements").update(fr).eq("id",Ma.id);w||(oo(null),Xs({icon:"",text:""}),at())}else{const{error:w}=await A.from("baetam_requirements").insert([{...fr,order_index:io.length+1}]);w||(Xs({icon:"",text:""}),at())}},Ci=async d=>{if(window.confirm("Eliminar este requisito?")){const{error:w}=await A.from("baetam_requirements").delete().eq("id",d);w||at()}},dc=async d=>{if(d.preventDefault(),!(!Er.title||!Er.description))if(Zs){const{error:w}=await A.from("baetam_advantages").update(Er).eq("id",Zs.id);w||(qa(null),jn({title:"",description:""}),at())}else{const{error:w}=await A.from("baetam_advantages").insert([{...Er,order_index:Al.length+1}]);w||(jn({title:"",description:""}),at())}},Kr=async d=>{if(window.confirm("Eliminar esta ventaja?")){const{error:w}=await A.from("baetam_advantages").delete().eq("id",d);w||at()}},Ei=async d=>{if(d.preventDefault(),!!ea.line_text)if(Ha){const{error:w}=await A.from("baetam_contact_lines").update(ea).eq("id",Ha.id);w||(co(null),ta({line_text:""}),at())}else{const{error:w}=await A.from("baetam_contact_lines").insert([{...ea,order_index:Sn.length+1}]);w||(ta({line_text:""}),at())}},Ko=async d=>{if(window.confirm("Eliminar esta lnea?")){const{error:w}=await A.from("baetam_contact_lines").delete().eq("id",d);w||at()}},ft=async()=>{const{data:d}=await A.from("contact_main").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:w}=await A.from("contact_directory").select("*").order("order_index",{ascending:!0}),{data:q}=await A.from("contact_social").select("*").order("order_index",{ascending:!0}),{data:W}=await A.from("contact_location").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:ee}=await A.from("contact_faq").select("*").order("order_index",{ascending:!0}),{data:ve}=await A.from("contact_cta").select("*").order("created_at",{ascending:!1}).limit(1).single();uo(d||null),na(w||[]),md(q||[]),gd(W||null),Rl(ee||[]),Pl(ve||null),d&&St({address_line1:d.address_line1||"",address_line2:d.address_line2||"",address_line3:d.address_line3||"",phone:d.phone||"",email:d.email||"",website:d.website||"",rating_text:d.rating_text||"",status_text:d.status_text||"",hours_line1:d.hours_line1||"",hours_line2:d.hours_line2||""}),W&&Ga({address_text:W.address_text||"",map_embed_url:W.map_embed_url||""}),ve&&Ka({title:ve.title||"",description:ve.description||"",highlight_text:ve.highlight_text||""})},Sd=async d=>{if(d.preventDefault(),ra!=null&&ra.id){const{error:w}=await A.from("contact_main").update(Je).eq("id",ra.id);w||ft()}else{const{error:w}=await A.from("contact_main").insert([Je]);w||ft()}},mn=async d=>{if(d.preventDefault(),!(!Tr.title||!Tr.detail))if(ls){const{error:w}=await A.from("contact_directory").update(Tr).eq("id",ls.id);w||(sa(null),Ar({icon:"",title:"",detail:""}),ft())}else{const{error:w}=await A.from("contact_directory").insert([{...Tr,order_index:Va.length+1}]);w||(Ar({icon:"",title:"",detail:""}),ft())}},Ss=async d=>{if(window.confirm("Eliminar este elemento del directorio?")){const{error:w}=await A.from("contact_directory").delete().eq("id",d);w||ft()}},ks=async d=>{if(d.preventDefault(),!(!er.name||!er.url))if(qr){const{error:w}=await A.from("contact_social").update(er).eq("id",qr.id);w||(ho(null),kn({icon:"",name:"",url:"",description:""}),ft())}else{const{error:w}=await A.from("contact_social").insert([{...er,order_index:Wa.length+1}]);w||(kn({icon:"",name:"",url:"",description:""}),ft())}},Ti=async d=>{if(window.confirm("Eliminar esta red social?")){const{error:w}=await A.from("contact_social").delete().eq("id",d);w||ft()}},Ai=async d=>{if(d.preventDefault(),aa!=null&&aa.id){const{error:w}=await A.from("contact_location").update(Nn).eq("id",aa.id);w||ft()}else{const{error:w}=await A.from("contact_location").insert([Nn]);w||ft()}},ar=async d=>{if(d.preventDefault(),!(!on.question||!on.answer))if(Qe){const{error:w}=await A.from("contact_faq").update(on).eq("id",Qe.id);w||($l(null),ia({question:"",answer:""}),ft())}else{const{error:w}=await A.from("contact_faq").insert([{...on,order_index:po.length+1}]);w||(ia({question:"",answer:""}),ft())}},ir=async d=>{if(window.confirm("Eliminar esta pregunta?")){const{error:w}=await A.from("contact_faq").delete().eq("id",d);w||ft()}},Wn=async d=>{if(d.preventDefault(),cs!=null&&cs.id){const{error:w}=await A.from("contact_cta").update(mr).eq("id",cs.id);w||ft()}else{const{error:w}=await A.from("contact_cta").insert([mr]);w||ft()}},Lt=async()=>{const{data:d}=await A.from("about_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:w}=await A.from("about_values").select("*").order("order_index",{ascending:!0});oa(d||null),Qa(w||[]),d&&gr({title:d.title||"",logo_url:d.logo_url||"",croquis_image_url:d.croquis_image_url||"",history_text:d.history_text||"",mission_text:d.mission_text||"",vision_text:d.vision_text||"",lema_text:d.lema_text||"",commitment_text_1:d.commitment_text_1||"",commitment_text_2:d.commitment_text_2||""})},Jr=async d=>{if(d.preventDefault(),Rr!=null&&Rr.id){const{error:w}=await A.from("about_config").update(Ae).eq("id",Rr.id);w||Lt()}else{const{error:w}=await A.from("about_config").insert([Ae]);w||Lt()}},Gn=async()=>{if(!Rt)return;if(!(Rr!=null&&Rr.id)){alert("Primero guarda la informacin de Acerca para poder asociar el croquis.");return}Ja(!0);const d=Rt.name.split(".").pop(),w=`croquis-${Date.now()}.${d}`,{error:q}=await A.storage.from("about_media").upload(w,Rt,{upsert:!0});if(q){alert("Error subiendo croquis: "+q.message),Ja(!1);return}const{data:{publicUrl:W}}=A.storage.from("about_media").getPublicUrl(w),{error:ee}=await A.from("about_config").update({croquis_image_url:W}).eq("id",Rr.id);if(ee){alert("Error guardando croquis: "+ee.message),Ja(!1);return}gr({...Ae,croquis_image_url:W}),oa({...Rr,croquis_image_url:W}),Il(null),Ja(!1)},uc=async d=>{if(d.preventDefault(),!(!$t.title||!$t.description))if(fo){const{error:w}=await A.from("about_values").update($t).eq("id",fo.id);w||(Dl(null),Hr({icon:"",title:"",description:""}),Lt())}else{const{error:w}=await A.from("about_values").insert([{...$t,order_index:la.length+1}]);w||(Hr({icon:"",title:"",description:""}),Lt())}},Jo=async d=>{if(window.confirm("Eliminar este valor?")){const{error:w}=await A.from("about_values").delete().eq("id",d);w||Lt()}},Ns=async()=>{const{data:d}=await A.from("gallery_items").select("*").order("order_index",{ascending:!0});Ll(d||[])},Gt=async()=>{if(!Re)return;ca(!0);const d=Re.name.split(".").pop(),w=`gallery-${Date.now()}.${d}`,{error:q}=await A.storage.from("gallery_media").upload(w,Re,{upsert:!0});if(q){alert("Error subiendo imagen: "+q.message),ca(!1);return}const{data:{publicUrl:W}}=A.storage.from("gallery_media").getPublicUrl(w);Mt({...Fe,image_url:W}),go(null),ca(!1)},Kt=async d=>{if(d.preventDefault(),!(!Fe.title||!Fe.image_url))if(mo){const{error:w}=await A.from("gallery_items").update({section:Fe.section,title:Fe.title,description:Fe.description,image_url:Fe.image_url}).eq("id",mo.id);w||(Xa(null),Mt({section:"instalaciones",title:"",description:"",image_url:"",is_locked:!1}),Ns())}else{const{error:w}=await A.from("gallery_items").insert([{section:Fe.section,title:Fe.title,description:Fe.description,image_url:Fe.image_url,is_locked:Fe.is_locked,order_index:Ya.length+1}]);w||(Mt({section:"instalaciones",title:"",description:"",image_url:"",is_locked:!1}),Ns())}},We=async d=>{if(d.is_locked){alert("Esta imagen est bloqueada y no se puede eliminar.");return}if(window.confirm("Eliminar esta imagen?")){const{error:w}=await A.from("gallery_items").delete().eq("id",d.id);w||Ns()}},Ue=async()=>{const{data:d}=await A.from("ui_header_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:w}=await A.from("ui_header_links").select("*").order("order_index",{ascending:!0}),{data:q}=await A.from("ui_footer_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:W}=await A.from("ui_footer_links").select("*").order("order_index",{ascending:!0}),{data:ee}=await A.from("hero_slides").select("*").order("order_index",{ascending:!0}),{data:ve}=await A.from("home_options").select("*").order("order_index",{ascending:!0});Bl(d||null),ln(w||[]),xd(q||null),Fl(W||[]),ps(ee||[]),ri(ve||[]),d&&ua({logo_url:d.logo_url||"",title_text:d.title_text||""}),q&&Ht({school_name:q.school_name||"",location_text:q.location_text||"",tagline_text:q.tagline_text||"",copyright_text:q.copyright_text||"",rights_text:q.rights_text||"",legal_text_1:q.legal_text_1||"",legal_text_2:q.legal_text_2||"",legal_text_3:q.legal_text_3||""})},hc=async d=>{if(d.preventDefault(),da!=null&&da.id){const{error:w}=await A.from("ui_header_config").update(Cn).eq("id",da.id);w||Ue()}else{const{error:w}=await A.from("ui_header_config").insert([Cn]);w||Ue()}},pc=async d=>{if(d.preventDefault(),!(!pt.label||!pt.path))if(En){const{error:w}=await A.from("ui_header_links").update(pt).eq("id",En.id);w||(ds(null),qt({label:"",href:"",path:""}),Ue())}else{const{error:w}=await A.from("ui_header_links").insert([{...pt,order_index:ha.length+1}]);w||(qt({label:"",href:"",path:""}),Ue())}},Qo=async d=>{if(window.confirm("Eliminar este link?")){const{error:w}=await A.from("ui_header_links").delete().eq("id",d);w||Ue()}},Yo=async d=>{if(d.preventDefault(),xr!=null&&xr.id){const{error:w}=await A.from("ui_footer_config").update(lt).eq("id",xr.id);w||Ue()}else{const{error:w}=await A.from("ui_footer_config").insert([lt]);w||Ue()}},fc=async d=>{if(d.preventDefault(),!(!kt.label||!kt.href))if(bo){const{error:w}=await A.from("ui_footer_links").update(kt).eq("id",bo.id);w||(us(null),cn({label:"",href:"",icon_url:"",style_class:""}),Ue())}else{const{error:w}=await A.from("ui_footer_links").insert([{...kt,order_index:Ul.length+1}]);w||(cn({label:"",href:"",icon_url:"",style_class:""}),Ue())}},Ri=async d=>{if(window.confirm("Eliminar este link?")){const{error:w}=await A.from("ui_footer_links").delete().eq("id",d);w||Ue()}},mc=async()=>{if(!Tn)return;$r(!0);const d=Tn.name.split(".").pop(),w=`hero-${Date.now()}.${d}`,{error:q}=await A.storage.from("ui_media").upload(w,Tn,{upsert:!0});if(q){alert("Error subiendo imagen: "+q.message),$r(!1);return}const{data:{publicUrl:W}}=A.storage.from("ui_media").getPublicUrl(w);fs({...Pt,image_url:W}),ei(null),$r(!1)},Cs=async d=>{if(d.preventDefault(),!!Pt.image_url)if(yo){const{error:w}=await A.from("hero_slides").update({image_url:Pt.image_url}).eq("id",yo.id);w||(Za(null),fs({image_url:"",is_locked:!1}),Ue())}else{const{error:w}=await A.from("hero_slides").insert([{image_url:Pt.image_url,is_locked:Pt.is_locked,order_index:hs.length+1}]);w||(fs({image_url:"",is_locked:!1}),Ue())}},Xo=async d=>{if(d.is_locked){alert("Este slide est bloqueado.");return}if(window.confirm("Eliminar esta imagen?")){const{error:w}=await A.from("hero_slides").delete().eq("id",d.id);w||Ue()}},kd=async()=>{if(!yt)return;Rn(!0);const d=yt.name.split(".").pop(),w=`option-${Date.now()}.${d}`,{error:q}=await A.storage.from("ui_media").upload(w,yt,{upsert:!0});if(q){alert("Error subiendo imagen: "+q.message),Rn(!1);return}const{data:{publicUrl:W}}=A.storage.from("ui_media").getPublicUrl(w);tr({...Ze,image_url:W}),An(null),Rn(!1)},Na=async d=>{if(d.preventDefault(),!(!Ze.title||!Ze.path||!Ze.image_url))if(ms){const{error:w}=await A.from("home_options").update({title:Ze.title,description:Ze.description,path:Ze.path,image_url:Ze.image_url}).eq("id",ms.id);w||(wo(null),tr({image_url:"",title:"",description:"",path:"",is_locked:!1}),Ue())}else{const{error:w}=await A.from("home_options").insert([{...Ze,order_index:ti.length+1}]);w||(tr({image_url:"",title:"",description:"",path:"",is_locked:!1}),Ue())}},$i=async d=>{if(d.is_locked){alert("Esta opcin est bloqueada.");return}if(window.confirm("Eliminar esta opcin?")){const{error:w}=await A.from("home_options").delete().eq("id",d.id);w||Ue()}},Kn=async()=>{const{data:d}=await A.from("credits_config").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:w}=await A.from("credits_authors").select("*").order("order_index",{ascending:!0});_o(d||null),zl(w||[]),d&&Vr({title:d.title||"",subtitle:d.subtitle||"",license_title:d.license_title||"",license_text:d.license_text||""})},gc=async d=>{if(d.preventDefault(),si!=null&&si.id){const{error:w}=await A.from("credits_config").update(rr).eq("id",si.id);w||Kn()}else{const{error:w}=await A.from("credits_config").insert([rr]);w||Kn()}},Es=async()=>{if(!ii)return;So(!0);const d=ii.name.split(".").pop(),w=`credits-${Date.now()}.${d}`,{error:q}=await A.storage.from("credits_media").upload(w,ii,{upsert:!0});if(q){alert("Error subiendo imagen: "+q.message),So(!1);return}const{data:{publicUrl:W}}=A.storage.from("credits_media").getPublicUrl(w);dn({...Nt,photo_url:W}),Ml(null),So(!1)},xc=async d=>{if(d.preventDefault(),!(!Nt.full_name||!Nt.career))if(jo){const{error:w}=await A.from("credits_authors").update(Nt).eq("id",jo.id);w||(ai(null),dn({full_name:"",career:"",description:"",photo_url:""}),Kn())}else{const{error:w}=await A.from("credits_authors").insert([{...Nt,order_index:pa.length+1}]);w||(dn({full_name:"",career:"",description:"",photo_url:""}),Kn())}},Pi=async d=>{if(window.confirm("Eliminar este autor?")){const{error:w}=await A.from("credits_authors").delete().eq("id",d);w||Kn()}},Ts=async()=>{const{data:d,error:w}=await A.from("chatbot_config").select("*").order("updated_at",{ascending:!1}).limit(1).maybeSingle();w||(Hl(d||null),d&&Pr({provider:d.provider||"groq",base_url:d.base_url||"",api_key:d.api_key||"",groq_api_key:d.groq_api_key||"",gemini_api_key:d.gemini_api_key||"",model:d.model||"",system_prompt:d.system_prompt||"",enable_db_context:d.enable_db_context??!0,enabled:d.enabled??!0,fallback_enabled:d.fallback_enabled??!1,primary_provider:d.primary_provider||d.provider||"groq"}))},Jn=async()=>{const{data:d,error:w}=await A.from("ai_models").select("*").order("order_index",{ascending:!0});w||bd(d||[])},Zo=async d=>{if(d.preventDefault(),!hn.name.trim())return;const{error:w}=await A.from("ai_models").insert([{provider:hn.provider,name:hn.name.trim(),order_index:oi.length+1,is_active:!0}]);w||(ko({provider:hn.provider,name:""}),Jn())},Ca=async()=>{To(!0);const{data:d,error:w}=await A.from("chatbot_questions").select("*").order("created_at",{ascending:!1}).limit(200);w||ma(d||[]),To(!1)},el=async d=>{const{error:w}=await A.from("chatbot_questions").delete().eq("id",d);w||Ca()},tl=async()=>{if(!window.confirm("Eliminar todas las preguntas?"))return;const{error:d}=await A.from("chatbot_questions").delete().neq("id",0);d||Ca()},As=async()=>{Xl(!0);const{data:d,error:w}=await A.rpc("refresh_storage_usage");if(!w&&d)Ao(d);else{const{data:q,error:W}=await A.rpc("get_storage_usage_overview");W||Ao(q||null)}Xl(!1)},or=d=>{$n(w=>{const W=w.grados.includes(d)?w.grados.filter(ee=>ee!==d):[...w.grados,d];return{...w,grados:W}})},Qn=d=>{$n(w=>{const W=w.grupos.includes(d)?w.grupos.filter(ee=>ee!==d):[...w.grupos,d];return{...w,grupos:W}})},rl=d=>{const q=new TextEncoder().encode(d);let W="";return q.forEach(ee=>{W+=String.fromCharCode(ee)}),btoa(W).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")},bc=(d="")=>{if(!d)return"";try{const q=new TextEncoder().encode(d);let W="";return q.forEach(ee=>{W+=String.fromCharCode(ee)}),`=?UTF-8?B?${btoa(W)}?=`}catch{return d}},Qr=({from:d,recipients:w,subject:q,html:W,text:ee})=>{const ve=W?'text/html; charset="UTF-8"':'text/plain; charset="UTF-8"',ke=W||ee||"",_e=d?`"CBTa 134" <${d}>`:"me",He=w&&w.length>0?w[0]:"",Bt=w&&w.length>1?w.slice(1):[],Br=[`From: ${_e}`,`To: ${He}`,Bt.length>0?`Bcc: ${Bt.join(", ")}`:null,`Subject: ${bc(q||"")}`,"MIME-Version: 1.0",`Content-Type: ${ve}`].filter(Boolean).join(`\r
`)+`\r
\r
`+ke;return rl(Br)},gn=(d,w)=>{let q=u;if(!et.sendToAll&&(et.grados.length&&(q=q.filter(_e=>et.grados.includes(Number(_e.grado)))),et.grupos.length)){const _e=et.grupos.map(He=>String(He).toUpperCase());q=q.filter(He=>_e.includes(String(He.grupo||"").toUpperCase()))}d&&(q=q.filter(_e=>_e.id!==d));const W=q.map(_e=>_e.email||_e.correo||_e.email_address).map(_e=>_e?String(_e).trim():"").filter(_e=>!!_e),ee=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;let ve=W.filter(_e=>ee.test(_e));if(w){const _e=w.toLowerCase();ve=ve.filter(He=>He.toLowerCase()!==_e)}const ke=W.length-ve.length;return{emails:[...new Set(ve)],filteredCount:q.length,missingEmailsCount:q.length-W.length,invalidEmailsCount:ke}},nl=(d,w)=>{const q=[];for(let W=0;W<d.length;W+=w)q.push(d.slice(W,W+w));return q},yc=async()=>{var d,w,q;if(It(null),!di){It({type:"error",message:"Gmail no est conectado. Cierra sesin e inicia sesin nuevamente con Google para autorizar Gmail."});return}if(!et.subject||!et.messageHtml&&!et.messageText){It({type:"error",message:"Escribe un asunto y contenido."});return}Ro(!0);try{const{data:{session:W}}=await A.auth.getSession(),ee=(Io||((d=W==null?void 0:W.user)==null?void 0:d.email)||(t==null?void 0:t.email)||localStorage.getItem("gmail_user_email")||"").trim(),{emails:ve,filteredCount:ke,missingEmailsCount:_e,invalidEmailsCount:He}=gn(((w=W==null?void 0:W.user)==null?void 0:w.id)||(t==null?void 0:t.id),ee),Bt=ve;if(!Bt.length){const Br=ke?`Se encontraron ${ke} alumnos, ${_e} sin correo y ${He} con correo invlido.`:"No hay alumnos que coincidan con el filtro seleccionado.",Jt=ee?" El correo del maestro fue excluido.":"";throw new Error(`No hay correos disponibles. ${Br}${Jt}`)}const Yr=nl(Bt,40);for(const Br of Yr){const Jt=Qr({from:ee||void 0,subject:et.subject,html:et.messageHtml||void 0,text:et.messageText||void 0,recipients:Br}),De=await fetch("https://gmail.googleapis.com/gmail/v1/users/me/messages/send",{method:"POST",headers:{Authorization:`Bearer ${di}`,"Content-Type":"application/json"},body:JSON.stringify({raw:Jt})});if(!De.ok){const Ve=await De.text().catch(()=>"");if(console.error("Gmail API error:",De.status,Ve),De.status===401||De.status===403)throw Vt(!1),nr(null),localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),new Error("El token de Gmail no es vlido o no tiene permisos. Cierra sesin e inicia sesin nuevamente con Google.");let Ye="Error al enviar correos.";try{const Ur=JSON.parse(Ve||"{}");Ye=((q=Ur==null?void 0:Ur.error)==null?void 0:q.message)||Ye}catch{Ve&&(Ye=Ve)}throw new Error(Ye)}}It({type:"success",message:` Enviados ${Bt.length} correos en ${Yr.length} lote(s).`}),$n({...et,subject:"",messageHtml:"",messageText:""})}catch(W){It({type:"error",message:W.message||"Error al enviar correos."})}finally{Ro(!1)}},lr=(d=0)=>{if(!d)return"0 B";const w=["B","KB","MB","GB","TB"],q=Math.floor(Math.log(d)/Math.log(1024));return`${(d/Math.pow(1024,q)).toFixed(2)} ${w[q]}`},xn=(d,w)=>w?w.replace(/\/$/,""):d==="gemini"?"https://generativelanguage.googleapis.com/v1beta":"https://api.groq.com/openai/v1",Ii=async d=>{if(d.preventDefault(),!!fa.trim()){Jl(!0),No("");try{const w=(ge.provider||"groq").toLowerCase(),q=(ge.primary_provider||w).toLowerCase(),W=ge.fallback_enabled===!0,ee=q==="groq"?"gemini":"groq",ve=He=>He==="groq"?ge.groq_api_key||ge.api_key||"":He==="gemini"?ge.gemini_api_key||ge.api_key||"":ge.api_key||"",ke=async He=>{var Ps,_c,mt,Li,Bi,Ui,wr,Qt;const Bt=ve(He);if(!Bt)throw new Error(`Falta configurar la API key para ${He}.`);const Yr=xn(He,ge.base_url||""),Br=ge.model||(He==="gemini"?"gemini-3.0-flash":"llama-3.1-8b-instant");let Jt="";if(ge.enable_db_context){const{data:Xr,error:Yn}=await A.rpc("get_chatbot_context");Yn||(Jt=JSON.stringify(Xr||{},null,2))}const De=(ge.system_prompt||th).trim(),Ve=Jt?`${De}

Contexto de la base de datos (JSON):
${Jt}`:De;if(He==="gemini"){const Xr=`${Yr}/models/${Br}:generateContent?key=${Bt}`,Yn=await fetch(Xr,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`${Ve}

Usuario: ${fa}`}]}]})});if(!Yn.ok){const Sc=await Yn.text();throw new Error(Sc)}return((Bi=(Li=(mt=(_c=(Ps=(await Yn.json()).candidates)==null?void 0:Ps[0])==null?void 0:_c.content)==null?void 0:mt.parts)==null?void 0:Li[0])==null?void 0:Bi.text)||"Sin respuesta."}const Ye=`${Yr}/chat/completions`,Ur=await fetch(Ye,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Bt}`},body:JSON.stringify({model:Br,messages:[{role:"system",content:Ve},{role:"user",content:fa}],temperature:.3})});if(!Ur.ok){const Xr=await Ur.text();throw new Error(Xr)}return((Qt=(wr=(Ui=(await Ur.json()).choices)==null?void 0:Ui[0])==null?void 0:wr.message)==null?void 0:Qt.content)||"Sin respuesta."};let _e="";try{_e=await ke(W?q:w)}catch(He){if(W)_e=await ke(ee);else throw He}No(_e)}catch(w){No(`Error: ${w.message}`)}Jl(!1)}},vc=async d=>{d.preventDefault(),Wl(!0);const w={provider:ge.provider,base_url:ge.base_url||null,api_key:ge.api_key,groq_api_key:ge.groq_api_key,gemini_api_key:ge.gemini_api_key,model:ge.model,system_prompt:ge.system_prompt,enable_db_context:ge.enable_db_context,enabled:ge.enabled,fallback_enabled:ge.fallback_enabled,primary_provider:ge.primary_provider,updated_at:new Date().toISOString(),created_by:(un==null?void 0:un.created_by)||(t==null?void 0:t.id)||null};if(un!=null&&un.id){const{error:q}=await A.from("chatbot_config").update(w).eq("id",un.id);q||await Ts()}else{const{error:q}=await A.from("chatbot_config").insert([w]);q||await Ts()}Wl(!1)},Oi=()=>{j(!f)},wc=async()=>{localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),await A.auth.signOut(),s("/maestros")},Rs=async()=>{var d;Po(!0);try{let w=localStorage.getItem("gmail_provider_token"),q=localStorage.getItem("gmail_user_email");if(!w){const{data:{session:ee}}=await A.auth.getSession();ee!=null&&ee.provider_token&&(w=ee.provider_token,q=((d=ee.user)==null?void 0:d.email)||"",localStorage.setItem("gmail_provider_token",w),localStorage.setItem("gmail_user_email",q))}if(!w){Vt(!1),nr(null),Wr(null),It({type:"error",message:"No hay acceso a Gmail. Cierra sesin e inicia sesin nuevamente con Google para autorizar Gmail."});return}const W=await fetch(`https://www.googleapis.com/oauth2/v3/tokeninfo?access_token=${encodeURIComponent(w)}`);if(W.ok){const ee=await W.json();if(!((ee==null?void 0:ee.scope)||"").includes("https://www.googleapis.com/auth/gmail.send")){localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),Vt(!1),nr(null),Wr(null),It({type:"error",message:"Tu sesin de Google no tiene permisos de Gmail. Cierra sesin y vuelve a iniciar con Google para autorizar Gmail."});return}const _e=(ee==null?void 0:ee.email)||q;Vt(!0),nr(w),Wr(_e),It({type:"success",message:`Gmail conectado como ${_e||"tu cuenta"}`})}else{const ee="invalid_token";localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),Vt(!1),nr(null),Wr(null),It({type:"error",message:"El token de Gmail ha expirado. Cierra sesin e inicia sesin nuevamente."})}}catch(w){Vt(!1),nr(null),It({type:"error",message:"Error al verificar Gmail: "+(w.message||"desconocido")})}finally{Po(!1)}},Lr=async()=>{window.confirm("Para conectar/reconectar Gmail, necesitas cerrar sesin e iniciar sesin nuevamente con Google. Deseas continuar?")&&(localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),nr(null),Wr(null),Vt(!1),await A.auth.signOut(),Fn())};return g?n.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-slate-900":"bg-slate-100"}`,children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):t?t&&Oo?n.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-slate-900":"bg-slate-100"}`,children:n.jsxs("div",{className:`p-8 rounded-3xl shadow-xl max-w-md w-full mx-4 ${f?"bg-slate-800":"bg-white"}`,children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"bg-red-500 p-3 rounded-2xl inline-block mb-4",children:n.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"block"})}),n.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-900"}`,children:"Acceso Denegado"}),n.jsx("p",{className:`mt-2 ${f?"text-slate-400":"text-slate-500"}`,children:"Tu cuenta no tiene permiso para acceder al EduPanel."}),n.jsx("div",{className:`mt-4 p-3 rounded-xl ${f?"bg-slate-700":"bg-slate-100"}`,children:n.jsxs("p",{className:`text-sm ${f?"text-slate-300":"text-slate-600"}`,children:["Cuenta: ",n.jsx("strong",{children:t.email})]})}),n.jsx("p",{className:`mt-4 text-sm ${f?"text-slate-500":"text-slate-400"}`,children:"Contacta al administrador para solicitar acceso."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:async()=>{await A.auth.signOut(),ba(!1)},className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-medium hover:bg-red-600 transition-colors",children:"Cerrar Sesin"}),n.jsx("button",{onClick:()=>s("/maestros"),className:"flex-1 py-3 text-slate-500 hover:text-slate-700 transition-colors font-medium border rounded-xl",children:" Regresar"})]})]})}):t&&!Zl?n.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-slate-900":"bg-slate-100"}`,children:n.jsxs("div",{className:`p-8 rounded-3xl shadow-xl max-w-md w-full mx-4 ${f?"bg-slate-800":"bg-white"}`,children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"bg-orange-500 p-3 rounded-2xl inline-block mb-4",children:n.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"lock"})}),n.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-900"}`,children:"Verificacin de Seguridad"}),n.jsx("p",{className:`mt-2 ${f?"text-slate-400":"text-slate-500"}`,children:"Ingresa el cdigo de acceso para maestros."}),n.jsxs("p",{className:`mt-1 text-sm ${f?"text-slate-500":"text-slate-400"}`,children:["Sesin iniciada como: ",n.jsx("strong",{children:t.email})]})]}),n.jsxs("form",{onSubmit:Fo,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Usuario"}),n.jsx("input",{type:"text",value:Or.user,onChange:d=>ec({...Or,user:d.target.value}),className:`w-full px-4 py-3 rounded-xl border ${f?"bg-slate-700 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:"Usuario de seguridad",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Contrasea"}),n.jsx("input",{type:"password",value:Or.password,onChange:d=>ec({...Or,password:d.target.value}),className:`w-full px-4 py-3 rounded-xl border ${f?"bg-slate-700 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:"Contrasea de seguridad",required:!0})]}),tc&&n.jsx("div",{className:"bg-red-100 text-red-700 px-4 py-3 rounded-xl text-sm",children:tc}),n.jsx("button",{type:"submit",disabled:sr,className:"w-full py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50",children:sr?"Verificando...":"Verificar Acceso"})]}),n.jsxs("div",{className:"mt-4 flex gap-2",children:[n.jsx("button",{onClick:async()=>{sessionStorage.removeItem("maestro_security_verified"),await A.auth.signOut()},className:"flex-1 py-3 text-slate-500 hover:text-slate-700 transition-colors font-medium text-sm",children:"Cerrar Sesin"}),n.jsx("button",{onClick:()=>s("/maestros"),className:"flex-1 py-3 text-slate-500 hover:text-slate-700 transition-colors font-medium text-sm",children:" Regresar"})]})]})}):n.jsxs("div",{className:`min-h-screen transition-colors duration-200 ${f?"bg-slate-900 text-slate-100":"bg-slate-100 text-slate-900"}`,children:[n.jsxs("header",{className:`lg:hidden sticky top-0 z-30 flex items-center justify-between px-4 py-3 ${f?"bg-slate-900 border-slate-800":"bg-white border-slate-200"} border-b`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"bg-blue-800 p-1.5 rounded-lg",children:n.jsx("span",{className:"material-symbols-outlined text-white text-xl",children:"school"})}),n.jsx("h1",{className:`text-lg font-bold tracking-tight ${f?"text-blue-400":"text-blue-800"}`,children:"EduPanel"})]}),n.jsx("button",{className:`p-2 ${f?"text-slate-400":"text-slate-600"}`,onClick:()=>N(!S),children:n.jsx("span",{className:"material-symbols-outlined",children:"menu"})})]}),S&&n.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-30",onClick:()=>N(!1)}),n.jsxs("aside",{className:`fixed inset-y-0 left-0 w-64 ${f?"bg-slate-900 border-slate-800":"bg-white border-slate-200"} border-r transform ${S?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 flex flex-col overflow-hidden`,children:[n.jsx("div",{className:"p-6 hidden lg:block flex-shrink-0",children:n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx("div",{className:"bg-blue-800 p-2 rounded-lg",children:n.jsx("span",{className:"material-symbols-outlined text-white",children:"school"})}),n.jsx("h1",{className:`text-xl font-bold tracking-tight ${f?"text-blue-400":"text-blue-800"}`,children:"EduPanel"})]})}),n.jsxs("nav",{className:"flex-1 px-4 space-y-1 mt-4 lg:mt-0 overflow-y-auto overscroll-contain pb-4",style:{WebkitOverflowScrolling:"touch"},children:[n.jsxs("button",{onClick:()=>{T("dashboard"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-semibold transition-all ${k==="dashboard"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"dashboard"})," Panel Principal"]}),n.jsxs("button",{onClick:()=>{T("alumnos"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="alumnos"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"group"})," Alumnos"]}),n.jsxs("button",{onClick:()=>{T("avisos"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="avisos"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"campaign"})," Avisos"]}),n.jsxs("button",{onClick:()=>{T("clubes"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="clubes"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"sports_esports"})," Clubes"]}),n.jsxs("button",{onClick:()=>{T("carreras"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="carreras"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"engineering"})," Carreras"]}),n.jsxs("button",{onClick:()=>{T("admission"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="admission"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"assignment"})," Admisin"]}),n.jsxs("button",{onClick:()=>{T("baetam"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="baetam"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"school"})," BAETAM"]}),n.jsxs("button",{onClick:()=>{T("contacto"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="contacto"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"contact_mail"})," Contacto"]}),n.jsxs("button",{onClick:()=>{T("about"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="about"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"info"})," Acerca"]}),n.jsxs("button",{onClick:()=>{T("gallery"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="gallery"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"photo_library"})," Galera"]}),n.jsxs("button",{onClick:()=>{T("ui"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="ui"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"dashboard_customize"})," Interfaz"]}),n.jsxs("button",{onClick:()=>{T("creditos"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="creditos"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"badge"})," Crditos"]}),n.jsxs("button",{onClick:()=>{T("chatbot"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="chatbot"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"smart_toy"})," IA Chatbot"]}),n.jsxs("button",{onClick:()=>{T("gmail"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="gmail"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"mail"})," Notificaciones Gmail"]}),n.jsxs("button",{onClick:()=>{T("storage"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="storage"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"storage"})," Almacenamiento"]}),n.jsxs("button",{onClick:()=>{T("access"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="access"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"security"})," Acceso a la Pgina"]})]}),n.jsxs("div",{className:`p-4 border-t flex-shrink-0 ${f?"border-slate-800":"border-slate-100"}`,children:[n.jsxs("button",{onClick:Oi,className:`w-full flex items-center justify-between p-3 rounded-xl ${f?"bg-slate-800 text-slate-300":"bg-slate-100 text-slate-600"}`,children:[n.jsx("span",{className:"text-sm font-medium",children:"Modo Oscuro"}),n.jsx("span",{className:"material-symbols-outlined",children:"dark_mode"})]}),n.jsxs("button",{onClick:wc,className:`w-full mt-2 flex items-center justify-center gap-2 p-3 rounded-xl ${f?"bg-red-900/30 text-red-300 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"logout"}),n.jsx("span",{className:"text-sm font-medium",children:"Cerrar sesin"})]}),n.jsxs("button",{onClick:()=>s("/maestros"),className:`w-full mt-2 flex items-center justify-center gap-2 p-3 rounded-xl ${f?"bg-slate-800 text-slate-300 hover:bg-slate-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"} transition-colors`,children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back"}),n.jsx("span",{className:"text-sm font-medium",children:"Regresar"})]})]})]}),S&&n.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-30 lg:hidden",onClick:()=>N(!1)}),n.jsxs("main",{className:"lg:ml-64 p-4 md:p-8 lg:p-10 min-h-screen",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[n.jsxs("div",{children:[n.jsx("h2",{className:`text-2xl md:text-3xl font-extrabold ${f?"text-white":"text-slate-900"}`,children:"Panel Docente"}),n.jsxs("p",{className:f?"text-slate-400":"text-slate-500",children:["Bienvenido, ",n.jsx("span",{className:`font-bold ${f?"text-blue-400":"text-blue-800"}`,children:(o==null?void 0:o.nombre)||"Maestro"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative flex-1 md:flex-none",children:[n.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"search"}),n.jsx("input",{type:"text",placeholder:"Buscar...",className:`w-full md:w-64 pl-10 pr-4 py-2.5 border-none rounded-2xl shadow-sm ring-1 ${f?"bg-slate-800 ring-slate-700 text-white":"bg-white ring-slate-200"} focus:ring-2 focus:ring-blue-800 transition-all`})]}),n.jsx("button",{className:"bg-blue-800 text-white p-2.5 rounded-2xl shadow-lg shadow-blue-200 dark:shadow-none hover:opacity-90 transition-opacity",children:n.jsx("span",{className:"material-symbols-outlined",children:"notifications"})})]})]}),k==="admission"&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[n.jsx("section",{children:n.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"assignment"})," Configuracin de Admisin"]}),n.jsxs("form",{onSubmit:js,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"date",value:ye.target_date,onChange:d=>Ie({...ye,target_date:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Mensaje del contador",value:ye.countdown_message,onChange:d=>Ie({...ye,countdown_message:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo de cabecera",value:ye.header_title,onChange:d=>Ie({...ye,header_title:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Subttulo de cabecera",value:ye.header_subtitle,onChange:d=>Ie({...ye,header_subtitle:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Configuracin"})})]})]})}),n.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Fechas Importantes"}),n.jsxs("form",{onSubmit:pn,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Ttulo",value:X.title,onChange:d=>K({...X,title:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Rango de fecha",value:X.date_range,onChange:d=>K({...X,date_range:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Subttulo",value:X.subtitle,onChange:d=>K({...X,subtitle:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:L?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:Ce.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:d.title}),n.jsxs("div",{className:"text-xs text-slate-500",children:[d.date_range,"  ",d.subtitle]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{V(d),K({title:d.title,date_range:d.date_range,subtitle:d.subtitle})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>qe(d.id),className:"text-red-500",children:"Eliminar"})]})]},d.id))})]}),n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Requisitos"}),n.jsxs("form",{onSubmit:ze,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Requisito",value:je.requirement,onChange:d=>Se({requirement:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:$e?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:ue.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsx("div",{className:"font-semibold",children:d.requirement}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{Ee(d),Se({requirement:d.requirement})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>fn(d.id),className:"text-red-500",children:"Eliminar"})]})]},d.id))})]})]}),n.jsxs("section",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Especialidades"}),n.jsxs("form",{onSubmit:wt,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsx("input",{type:"text",placeholder:"Emoji",value:Zt.emoji,onChange:d=>_n({...Zt,emoji:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Nombre",value:Zt.name,onChange:d=>_n({...Zt,name:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:Zt.description,onChange:d=>_n({...Zt,description:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-3",children:n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:ss?"Actualizar":"Agregar"})})]}),n.jsx("div",{className:"mt-4 space-y-2",children:Oe.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold",children:[d.emoji," ",d.name]}),n.jsx("div",{className:"text-xs text-slate-500",children:d.description})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{za(d),_n({emoji:d.emoji,name:d.name,description:d.description})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Ot(d.id),className:"text-red-500",children:"Eliminar"})]})]},d.id))})]}),n.jsxs("section",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Contacto"}),n.jsxs("form",{onSubmit:Vn,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Direccin",value:nt.address,onChange:d=>Cr({...nt,address:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Etiqueta Telfono",value:nt.phone_label,onChange:d=>Cr({...nt,phone_label:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Telfono",value:nt.phone_value,onChange:d=>Cr({...nt,phone_value:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Etiqueta Correo",value:nt.email_label,onChange:d=>Cr({...nt,email_label:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Correo",value:nt.email_value,onChange:d=>Cr({...nt,email_value:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Etiqueta Sitio Web",value:nt.website_label,onChange:d=>Cr({...nt,website_label:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Sitio Web",value:nt.website_value,onChange:d=>Cr({...nt,website_value:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Horario",value:nt.schedule,onChange:d=>Cr({...nt,schedule:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Contacto"})})]})]})]}),k==="baetam"&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[n.jsx("section",{children:n.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"school"})," Configuracin BAETAM"]}),n.jsxs("form",{onSubmit:Dt,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"URL imagen principal",value:me.hero_image_url,onChange:d=>bt({...me,hero_image_url:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo",value:me.title,onChange:d=>bt({...me,title:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Subttulo",value:me.subtitle,onChange:d=>bt({...me,subtitle:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"date",value:me.target_date,onChange:d=>bt({...me,target_date:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Texto contador",value:me.countdown_label,onChange:d=>bt({...me,countdown_label:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Texto fecha contador",value:me.countdown_date_text,onChange:d=>bt({...me,countdown_date_text:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo inscripciones",value:me.inscriptions_title,onChange:d=>bt({...me,inscriptions_title:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo periodo inscripciones",value:me.inscriptions_period_title,onChange:d=>bt({...me,inscriptions_period_title:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin periodo inscripciones",value:me.inscriptions_period_description,onChange:d=>bt({...me,inscriptions_period_description:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo requisitos",value:me.requirements_title,onChange:d=>bt({...me,requirements_title:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo ventajas",value:me.advantages_title,onChange:d=>bt({...me,advantages_title:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo contacto",value:me.contact_title,onChange:d=>bt({...me,contact_title:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin contacto",value:me.contact_description,onChange:d=>bt({...me,contact_description:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar BAETAM"})})]})]})}),n.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Tarjetas Informativas"}),n.jsxs("form",{onSubmit:Ni,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Ttulo",value:Mr.title,onChange:d=>is({...Mr,title:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:Mr.description,onChange:d=>is({...Mr,description:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Js?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:ao.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:d.title}),n.jsx("div",{className:"text-xs text-slate-500",children:d.description})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{Qs(d),is({title:d.title,description:d.description})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>lc(d.id),className:"text-red-500",children:"Eliminar"})]})]},d.id))})]}),n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Requisitos"}),n.jsxs("form",{onSubmit:cc,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Icono (emoji)",value:fr.icon,onChange:d=>Xs({...fr,icon:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Texto",value:fr.text,onChange:d=>Xs({...fr,text:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Ma?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:io.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{className:"font-semibold",children:[d.icon," ",d.text]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{oo(d),Xs({icon:d.icon,text:d.text})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Ci(d.id),className:"text-red-500",children:"Eliminar"})]})]},d.id))})]})]}),n.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Ventajas"}),n.jsxs("form",{onSubmit:dc,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Ttulo",value:Er.title,onChange:d=>jn({...Er,title:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:Er.description,onChange:d=>jn({...Er,description:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Zs?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:Al.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:d.title}),n.jsx("div",{className:"text-xs text-slate-500",children:d.description})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{qa(d),jn({title:d.title,description:d.description})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Kr(d.id),className:"text-red-500",children:"Eliminar"})]})]},d.id))})]}),n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Contacto"}),n.jsxs("form",{onSubmit:Ei,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Lnea de contacto",value:ea.line_text,onChange:d=>ta({line_text:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Ha?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:Sn.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsx("div",{className:"font-semibold",children:d.line_text}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{co(d),ta({line_text:d.line_text})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Ko(d.id),className:"text-red-500",children:"Eliminar"})]})]},d.id))})]})]})]}),k==="contacto"&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[n.jsx("section",{children:n.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"contact_mail"})," Informacin Principal"]}),n.jsxs("form",{onSubmit:Sd,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Direccin lnea 1",value:Je.address_line1,onChange:d=>St({...Je,address_line1:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Direccin lnea 2",value:Je.address_line2,onChange:d=>St({...Je,address_line2:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Direccin lnea 3",value:Je.address_line3,onChange:d=>St({...Je,address_line3:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Telfono",value:Je.phone,onChange:d=>St({...Je,phone:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Correo",value:Je.email,onChange:d=>St({...Je,email:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Sitio web",value:Je.website,onChange:d=>St({...Je,website:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Texto calificacin",value:Je.rating_text,onChange:d=>St({...Je,rating_text:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Estado",value:Je.status_text,onChange:d=>St({...Je,status_text:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Horario lnea 1",value:Je.hours_line1,onChange:d=>St({...Je,hours_line1:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Horario lnea 2",value:Je.hours_line2,onChange:d=>St({...Je,hours_line2:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Informacin"})})]})]})}),n.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Directorio"}),n.jsxs("form",{onSubmit:mn,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Icono",value:Tr.icon,onChange:d=>Ar({...Tr,icon:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo",value:Tr.title,onChange:d=>Ar({...Tr,title:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Detalle",value:Tr.detail,onChange:d=>Ar({...Tr,detail:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:ls?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:Va.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold",children:[d.icon," ",d.title]}),n.jsx("div",{className:"text-xs text-slate-500",children:d.detail})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{sa(d),Ar({icon:d.icon||"",title:d.title,detail:d.detail})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Ss(d.id),className:"text-red-500",children:"Eliminar"})]})]},d.id))})]}),n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Redes Sociales"}),n.jsxs("form",{onSubmit:ks,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Icono",value:er.icon,onChange:d=>kn({...er,icon:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Nombre",value:er.name,onChange:d=>kn({...er,name:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL",value:er.url,onChange:d=>kn({...er,url:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:er.description,onChange:d=>kn({...er,description:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:qr?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:Wa.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold",children:[d.icon," ",d.name]}),n.jsx("div",{className:"text-xs text-slate-500",children:d.url})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{ho(d),kn({icon:d.icon||"",name:d.name,url:d.url,description:d.description})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Ti(d.id),className:"text-red-500",children:"Eliminar"})]})]},d.id))})]})]}),n.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Ubicacin"}),n.jsxs("form",{onSubmit:Ai,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Texto de direccin",value:Nn.address_text,onChange:d=>Ga({...Nn,address_text:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL iframe mapa",value:Nn.map_embed_url,onChange:d=>Ga({...Nn,map_embed_url:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:"Guardar Ubicacin"})]})]}),n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"CTA Final"}),n.jsxs("form",{onSubmit:Wn,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Ttulo",value:mr.title,onChange:d=>Ka({...mr,title:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:mr.description,onChange:d=>Ka({...mr,description:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Texto destacado",value:mr.highlight_text,onChange:d=>Ka({...mr,highlight_text:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:"Guardar CTA"})]})]})]}),n.jsxs("section",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Preguntas Frecuentes"}),n.jsxs("form",{onSubmit:ar,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Pregunta",value:on.question,onChange:d=>ia({...on,question:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Respuesta",value:on.answer,onChange:d=>ia({...on,answer:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Qe?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:po.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:d.question}),n.jsx("div",{className:"text-xs text-slate-500",children:d.answer})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{$l(d),ia({question:d.question,answer:d.answer})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>ir(d.id),className:"text-red-500",children:"Eliminar"})]})]},d.id))})]})]}),k==="about"&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[n.jsx("section",{children:n.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"info"})," Acerca de CBTa"]}),n.jsxs("form",{onSubmit:Jr,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Ttulo",value:Ae.title,onChange:d=>gr({...Ae,title:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL Logo",value:Ae.logo_url,onChange:d=>gr({...Ae,logo_url:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL Croquis",value:Ae.croquis_image_url,onChange:d=>gr({...Ae,croquis_image_url:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:d=>{var w;return Il(((w=d.target.files)==null?void 0:w[0])||null)},className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"button",onClick:Gn,disabled:Ol||!Rt,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:Ol?"Subiendo...":"Subir croquis"}),Ae.croquis_image_url&&n.jsx("a",{href:Ae.croquis_image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver imagen"})]}),n.jsx("textarea",{placeholder:"Historia",value:Ae.history_text,onChange:d=>gr({...Ae,history_text:d.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Misin",value:Ae.mission_text,onChange:d=>gr({...Ae,mission_text:d.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Visin",value:Ae.vision_text,onChange:d=>gr({...Ae,vision_text:d.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Lema",value:Ae.lema_text,onChange:d=>gr({...Ae,lema_text:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Compromiso texto 1",value:Ae.commitment_text_1,onChange:d=>gr({...Ae,commitment_text_1:d.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Compromiso texto 2",value:Ae.commitment_text_2,onChange:d=>gr({...Ae,commitment_text_2:d.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Acerca"})})]})]})}),n.jsxs("section",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Valores"}),n.jsxs("form",{onSubmit:uc,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsx("input",{type:"text",placeholder:"Icono",value:$t.icon,onChange:d=>Hr({...$t,icon:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo",value:$t.title,onChange:d=>Hr({...$t,title:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:$t.description,onChange:d=>Hr({...$t,description:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-3",children:n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:fo?"Actualizar":"Agregar"})})]}),n.jsx("div",{className:"mt-4 space-y-2",children:la.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold",children:[d.icon," ",d.title]}),n.jsx("div",{className:"text-xs text-slate-500",children:d.description})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{Dl(d),Hr({icon:d.icon||"",title:d.title,description:d.description})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Jo(d.id),className:"text-red-500",children:"Eliminar"})]})]},d.id))})]})]}),k==="gallery"&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[n.jsx("section",{children:n.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"photo_library"})," Galera"]}),n.jsxs("form",{onSubmit:Kt,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("select",{value:Fe.section,onChange:d=>Mt({...Fe,section:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[n.jsx("option",{value:"instalaciones",children:"Instalaciones"}),n.jsx("option",{value:"actividades",children:"Actividades"}),n.jsx("option",{value:"clubs",children:"Clubs"}),n.jsx("option",{value:"cbta",children:"CBTa 134"}),n.jsx("option",{value:"galeria",children:"Galera General"})]}),n.jsx("input",{type:"text",placeholder:"Ttulo",value:Fe.title,onChange:d=>Mt({...Fe,title:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:Fe.description,onChange:d=>Mt({...Fe,description:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL de imagen",value:Fe.image_url,onChange:d=>Mt({...Fe,image_url:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:d=>{var w;return go(((w=d.target.files)==null?void 0:w[0])||null)},className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"button",onClick:Gt,disabled:xo||!Re,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:xo?"Subiendo...":"Subir imagen"}),Fe.image_url&&n.jsx("a",{href:Fe.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver imagen"})]}),n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:Fe.is_locked,onChange:d=>Mt({...Fe,is_locked:d.target.checked})}),"Bloquear (no se puede eliminar)"]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:mo?"Actualizar":"Agregar"})})]})]})}),n.jsxs("section",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Imgenes"}),n.jsx("div",{className:"space-y-3",children:Ya.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:d.image_url,alt:d.title,className:"w-14 h-14 rounded-lg object-cover"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:d.title}),n.jsxs("div",{className:"text-xs text-slate-500",children:[d.section,"  ",d.description]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{Xa(d),Mt({section:d.section,title:d.title,description:d.description||"",image_url:d.image_url,is_locked:d.is_locked})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>We(d),className:`text-red-500 ${d.is_locked?"opacity-50 cursor-not-allowed":""}`,disabled:d.is_locked,children:"Eliminar"})]})]},d.id))})]})]}),k==="ui"&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-xl font-bold mb-6",children:"Header"}),n.jsxs("form",{onSubmit:hc,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"URL Logo",value:Cn.logo_url,onChange:d=>ua({...Cn,logo_url:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo",value:Cn.title_text,onChange:d=>ua({...Cn,title_text:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Header"})})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"font-bold mb-3",children:"Links Header"}),n.jsxs("form",{onSubmit:pc,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsx("input",{type:"text",placeholder:"Label",value:pt.label,onChange:d=>qt({...pt,label:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Path (ej: noticias)",value:pt.path,onChange:d=>qt({...pt,path:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Href (ej: /noticias)",value:pt.href,onChange:d=>qt({...pt,href:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-3",children:n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:En?"Actualizar":"Agregar"})})]}),n.jsx("div",{className:"mt-4 space-y-2",children:ha.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{className:"font-semibold",children:[d.label,"  ",d.path]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{ds(d),qt({label:d.label,path:d.path,href:d.href||""})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Qo(d.id),className:"text-red-500",children:"Eliminar"})]})]},d.id))})]})]}),n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-xl font-bold mb-6",children:"Carrusel (Hero)"}),n.jsxs("form",{onSubmit:Cs,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"URL de imagen",value:Pt.image_url,onChange:d=>fs({...Pt,image_url:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-center md:col-span-2",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:d=>{var w;return ei(((w=d.target.files)==null?void 0:w[0])||null)},className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"button",onClick:mc,disabled:vo||!Tn,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:vo?"Subiendo...":"Subir imagen"}),Pt.image_url&&n.jsx("a",{href:Pt.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver imagen"})]}),n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:Pt.is_locked,onChange:d=>fs({...Pt,is_locked:d.target.checked})}),"Bloquear"]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:yo?"Actualizar":"Agregar"})})]}),n.jsx("div",{className:"mt-4 space-y-2",children:hs.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:d.image_url,alt:"slide",className:"w-14 h-14 rounded-lg object-cover"}),n.jsx("span",{className:"text-xs",children:d.image_url})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{Za(d),fs({image_url:d.image_url,is_locked:d.is_locked})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Xo(d),className:`text-red-500 ${d.is_locked?"opacity-50 cursor-not-allowed":""}`,disabled:d.is_locked,children:"Eliminar"})]})]},d.id))})]}),n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-xl font-bold mb-6",children:"Opciones de Inicio"}),n.jsxs("form",{onSubmit:Na,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Ttulo",value:Ze.title,onChange:d=>tr({...Ze,title:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:Ze.description,onChange:d=>tr({...Ze,description:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Path (ej: noticias)",value:Ze.path,onChange:d=>tr({...Ze,path:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL de imagen",value:Ze.image_url,onChange:d=>tr({...Ze,image_url:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:d=>{var w;return An(((w=d.target.files)==null?void 0:w[0])||null)},className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"button",onClick:kd,disabled:ni||!yt,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:ni?"Subiendo...":"Subir imagen"}),Ze.image_url&&n.jsx("a",{href:Ze.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver imagen"})]}),n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:Ze.is_locked,onChange:d=>tr({...Ze,is_locked:d.target.checked})}),"Bloquear"]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:ms?"Actualizar":"Agregar"})})]}),n.jsx("div",{className:"mt-4 space-y-2",children:ti.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:d.image_url,alt:d.title,className:"w-14 h-14 rounded-lg object-cover"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:d.title}),n.jsx("div",{className:"text-xs text-slate-500",children:d.path})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{wo(d),tr({image_url:d.image_url,title:d.title,description:d.description||"",path:d.path,is_locked:d.is_locked})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>$i(d),className:`text-red-500 ${d.is_locked?"opacity-50 cursor-not-allowed":""}`,disabled:d.is_locked,children:"Eliminar"})]})]},d.id))})]}),n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-xl font-bold mb-6",children:"Footer"}),n.jsxs("form",{onSubmit:Yo,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Nombre",value:lt.school_name,onChange:d=>Ht({...lt,school_name:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ubicacin",value:lt.location_text,onChange:d=>Ht({...lt,location_text:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Tagline",value:lt.tagline_text,onChange:d=>Ht({...lt,tagline_text:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Copyright",value:lt.copyright_text,onChange:d=>Ht({...lt,copyright_text:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Derechos",value:lt.rights_text,onChange:d=>Ht({...lt,rights_text:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Legal 1",value:lt.legal_text_1,onChange:d=>Ht({...lt,legal_text_1:d.target.value}),className:`p-3 rounded-xl border min-h-[100px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Legal 2",value:lt.legal_text_2,onChange:d=>Ht({...lt,legal_text_2:d.target.value}),className:`p-3 rounded-xl border min-h-[100px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Legal 3",value:lt.legal_text_3,onChange:d=>Ht({...lt,legal_text_3:d.target.value}),className:`p-3 rounded-xl border min-h-[100px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Footer"})})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"font-bold mb-3",children:"Links Footer"}),n.jsxs("form",{onSubmit:fc,className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsx("input",{type:"text",placeholder:"Label",value:kt.label,onChange:d=>cn({...kt,label:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL",value:kt.href,onChange:d=>cn({...kt,href:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Icon URL",value:kt.icon_url,onChange:d=>cn({...kt,icon_url:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Clase (facebook/maps)",value:kt.style_class,onChange:d=>cn({...kt,style_class:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-4",children:n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:bo?"Actualizar":"Agregar"})})]}),n.jsx("div",{className:"mt-4 space-y-2",children:Ul.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{className:"font-semibold",children:[d.label,"  ",d.href]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{us(d),cn({label:d.label,href:d.href,icon_url:d.icon_url||"",style_class:d.style_class||""})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Ri(d.id),className:"text-red-500",children:"Eliminar"})]})]},d.id))})]})]})]}),k==="creditos"&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-xl font-bold mb-6",children:"Configuracin Crditos"}),n.jsxs("form",{onSubmit:gc,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Ttulo",value:rr.title,onChange:d=>Vr({...rr,title:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Subttulo",value:rr.subtitle,onChange:d=>Vr({...rr,subtitle:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo licencia (opcional)",value:rr.license_title,onChange:d=>Vr({...rr,license_title:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Texto licencia (opcional)",value:rr.license_text,onChange:d=>Vr({...rr,license_text:d.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Crditos"})})]})]}),n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-xl font-bold mb-6",children:"Autores"}),n.jsxs("form",{onSubmit:xc,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Nombre completo",value:Nt.full_name,onChange:d=>dn({...Nt,full_name:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Carrera",value:Nt.career,onChange:d=>dn({...Nt,career:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:Nt.description,onChange:d=>dn({...Nt,description:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL foto",value:Nt.photo_url,onChange:d=>dn({...Nt,photo_url:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:d=>{var w;return Ml(((w=d.target.files)==null?void 0:w[0])||null)},className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"button",onClick:Es,disabled:ql||!ii,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:ql?"Subiendo...":"Subir foto"}),Nt.photo_url&&n.jsx("a",{href:Nt.photo_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver foto"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:jo?"Actualizar":"Agregar"})})]}),n.jsx("div",{className:"mt-4 space-y-2",children:pa.map(d=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:d.photo_url,alt:d.full_name,className:"w-14 h-14 rounded-lg object-cover"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:d.full_name}),n.jsx("div",{className:"text-xs text-slate-500",children:d.career})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{ai(d),dn({full_name:d.full_name,career:d.career,description:d.description||"",photo_url:d.photo_url||""})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Pi(d.id),className:"text-red-500",children:"Eliminar"})]})]},d.id))})]})]}),(k==="dashboard"||k==="alumnos"||k==="avisos"||k==="clubes"||k==="carreras"||k==="chatbot"||k==="gmail"||k==="storage"||k==="access")&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[k==="dashboard"&&n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-xl font-bold mb-4",children:"Panel principal"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{key:"avisos",label:"Avisos",icon:"campaign"},{key:"clubes",label:"Clubes",icon:"sports_esports"},{key:"carreras",label:"Carreras",icon:"engineering"},{key:"alumnos",label:"Alumnos",icon:"group"},{key:"chatbot",label:"IA Chatbot",icon:"smart_toy"},{key:"gmail",label:"Notificaciones Gmail",icon:"mail"},{key:"storage",label:"Almacenamiento",icon:"storage"}].map(d=>n.jsxs("button",{onClick:()=>T(d.key),className:`p-6 rounded-3xl text-left border ${f?"bg-slate-900 border-slate-700 hover:border-blue-400":"bg-white border-slate-100 hover:border-blue-800"} transition-all`,children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800 text-2xl",children:d.icon}),n.jsx("div",{className:"mt-2 font-bold",children:d.label})]},d.key))})]}),k==="alumnos"&&n.jsxs(n.Fragment,{children:[n.jsxs("section",{children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"layers"})," Gestin por Semestre"]})}),n.jsx("div",{className:"flex overflow-x-auto lg:grid lg:grid-cols-6 gap-4 pb-4 lg:pb-0",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[1,2,3,4,5,6].map(d=>n.jsxs("div",{onClick:()=>{sc(d),ys("groups")},className:`flex-shrink-0 w-32 lg:w-full group p-6 rounded-3xl shadow-sm border cursor-pointer transition-all text-center ${f?"bg-slate-800 border-slate-700 hover:border-blue-400":"bg-white border-slate-100 hover:border-blue-800"} ${Bn===d?f?"border-blue-400":"border-blue-800":""}`,children:[n.jsxs("div",{className:`text-3xl font-black mb-1 ${f?"text-blue-400":"text-blue-800"}`,children:[d,""]}),n.jsx("div",{className:`text-[10px] uppercase font-bold tracking-wider ${f?"text-slate-400 group-hover:text-blue-400":"text-slate-400 group-hover:text-blue-800"}`,children:"Semestre"})]},d))})]}),vi==="students"&&Un&&n.jsxs("section",{children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-bold",children:["Alumnos - ",Bn," Semestre, Grupo ",Un]}),n.jsx("button",{onClick:()=>{ys("groups"),ac(null)},className:`text-sm ${f?"text-blue-400":"text-blue-800"} hover:underline`,children:" Volver a grupos"})]})}),n.jsx("div",{className:`rounded-3xl overflow-hidden ${f?"bg-slate-800":"bg-white"} shadow-sm`,children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:f?"bg-slate-900":"bg-slate-50",children:[n.jsx("th",{className:`p-4 text-left font-semibold ${f?"text-slate-300":"text-slate-600"}`,children:"Nombre Completo"}),n.jsx("th",{className:`p-4 text-left font-semibold ${f?"text-slate-300":"text-slate-600"}`,children:"No. Control"}),n.jsx("th",{className:`p-4 text-left font-semibold ${f?"text-slate-300":"text-slate-600"}`,children:"CURP"}),n.jsx("th",{className:`p-4 text-left font-semibold ${f?"text-slate-300":"text-slate-600"}`,children:"Acciones"})]})}),n.jsx("tbody",{children:Uo().length>0?Uo().map(d=>n.jsxs("tr",{className:`border-t ${f?"border-slate-700 hover:bg-slate-700/50":"border-slate-100 hover:bg-slate-50"}`,children:[n.jsxs("td",{className:"p-4",children:[n.jsx("strong",{children:d.apellidos}),", ",d.nombre||""]}),n.jsx("td",{className:`p-4 ${d.numero_control?"":"text-slate-400"}`,children:d.numero_control||"--"}),n.jsx("td",{className:"p-4",children:d.curp}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>Dr(d),className:"p-2 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",title:"Calificaciones",children:""}),n.jsx("button",{onClick:()=>qo(d),className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",title:"Editar Datos",children:""}),n.jsx("button",{onClick:()=>wd(d.id),className:"p-2 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",title:"Eliminar",children:""})]})})]},d.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",className:"p-8 text-center text-slate-500",children:"No hay alumnos en este grupo."})})})]})})]}),vi==="groups"&&Bn&&n.jsxs("section",{children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-bold",children:["Grupos - ",Bn," Semestre"]}),n.jsx("button",{onClick:()=>{ys("semesters"),sc(null)},className:`text-sm ${f?"text-blue-400":"text-blue-800"} hover:underline`,children:" Volver a semestres"})]})}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Bo(Bn).length>0?Bo(Bn).map(d=>n.jsxs("div",{onClick:()=>{ac(d),ys("students")},className:`p-6 rounded-3xl border-l-4 border-l-green-500 cursor-pointer transition-all text-center ${f?"bg-slate-800 border border-slate-700 hover:border-green-400":"bg-white border border-slate-100 hover:border-green-500 shadow-sm"}`,children:[n.jsx("div",{className:"text-4xl font-black text-green-500 mb-1",children:d}),n.jsx("div",{className:"text-xs uppercase font-bold tracking-wider text-slate-400",children:"Grupo"})]},d)):n.jsx("p",{className:"col-span-full text-center text-slate-500 py-8",children:"No hay grupos registrados en este semestre an."})})]})]}),k==="avisos"&&n.jsxs(n.Fragment,{children:[n.jsx("section",{children:n.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 shadow-xl border ${f?"bg-slate-800 border-slate-700 shadow-none":"bg-white border-white shadow-slate-200/50"}`,children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"add_circle"})," Nuevo Aviso Global"]}),n.jsxs("form",{onSubmit:vs,className:"space-y-4",children:[n.jsx("input",{type:"text",value:b.titulo,onChange:d=>_({...b,titulo:d.target.value}),placeholder:"Qu quieres anunciar hoy?",className:`w-full text-lg border-none rounded-2xl p-4 focus:ring-2 focus:ring-blue-800/20 transition-all ${f?"bg-slate-900 text-white placeholder-slate-500":"bg-slate-50"}`,required:!0}),n.jsx("textarea",{value:b.contenido,onChange:d=>_({...b,contenido:d.target.value}),placeholder:"Describe el aviso detalladamente...",rows:"3",className:`w-full border-none rounded-2xl p-4 focus:ring-2 focus:ring-blue-800/20 transition-all ${f?"bg-slate-900 text-white placeholder-slate-500":"bg-slate-50"}`,required:!0}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-2",children:[n.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:n.jsxs("label",{className:`flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl cursor-pointer transition-colors w-full sm:w-auto ${f?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[n.jsx("span",{className:"material-symbols-outlined text-xl",children:"image"}),n.jsx("span",{className:"text-sm font-semibold",children:"Imagen/Video"}),n.jsx("input",{type:"file",accept:"image/*,video/*",onChange:d=>ji(d.target.files[0]),className:"hidden"})]})}),n.jsx("button",{type:"submit",disabled:Gr,className:"w-full sm:w-auto px-8 py-3 bg-blue-800 text-white font-bold rounded-2xl shadow-lg shadow-blue-200 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50",children:Gr?"Subiendo...":_i?"Actualizar":"Publicar Ahora"})]}),Mn&&n.jsxs("p",{className:`text-sm ${f?"text-slate-400":"text-slate-500"}`,children:[" ",Mn.name]})]})]})}),n.jsxs("section",{children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsx("h3",{className:"text-lg font-bold",children:"Avisos Activos"})}),n.jsx("div",{className:"space-y-4",children:ic.length===0?n.jsxs("div",{className:`p-8 rounded-3xl text-center ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100"} border`,children:[n.jsx("span",{className:"material-symbols-outlined text-4xl text-slate-400 mb-2",children:"notifications_off"}),n.jsx("p",{className:"text-slate-500",children:"No hay avisos publicados."})]}):ic.map(d=>n.jsxs("div",{className:`p-5 rounded-3xl border shadow-sm flex flex-col md:flex-row gap-5 ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[d.media_url&&n.jsx("div",{className:`w-full md:w-48 h-32 flex-shrink-0 rounded-2xl overflow-hidden ${f?"bg-slate-900":"bg-slate-100"}`,children:d.media_type==="video"?n.jsx("video",{src:d.media_url,className:"w-full h-full object-cover"}):n.jsx("img",{src:d.media_url,alt:"Announcement",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("h4",{className:"font-bold text-lg leading-tight",children:d.titulo}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>_d(d),className:`p-1.5 transition-colors ${f?"text-slate-400 hover:text-blue-400":"text-slate-400 hover:text-blue-800"}`,children:n.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit"})}),n.jsx("button",{onClick:()=>Mo(d.id),className:"p-1.5 text-slate-400 hover:text-red-500 transition-colors",children:n.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete"})})]})]}),n.jsx("p",{className:`text-sm line-clamp-2 ${f?"text-slate-400":"text-slate-500"}`,children:d.contenido})]}),n.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs font-bold uppercase tracking-widest text-slate-400",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"schedule"}),new Date(d.created_at).toLocaleDateString()]}),n.jsx("span",{className:`px-2.5 py-1 rounded-lg ${f?"bg-blue-900/30 text-blue-400":"bg-blue-50 text-blue-800"}`,children:"Acadmico"})]})]})]},d.id))})]})]}),k==="clubes"&&n.jsxs("section",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-bold",children:"Clubes Escolares"}),n.jsx("button",{onClick:()=>{Be(null),be(!0)},className:`p-1.5 rounded-lg ${f?"bg-slate-700":"bg-slate-200"}`,children:n.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"})})]}),n.jsx("div",{className:"grid grid-cols-1 gap-3",children:H.length===0?n.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay clubes registrados."}):H.map(d=>n.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-2xl border shadow-sm ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("div",{className:`w-12 h-12 flex-shrink-0 text-2xl flex items-center justify-center rounded-xl ${f?"bg-purple-900/30":"bg-purple-100"}`,children:d.icono||""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold text-sm",children:d.nombre}),n.jsx("p",{className:"text-xs text-slate-500",children:d.categoria})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>_s(d),className:"p-1 text-slate-400 hover:text-blue-500",children:n.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),n.jsx("button",{onClick:()=>ki(d.id),className:"p-1 text-slate-400 hover:text-red-500",children:n.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})]},d.id))})]}),k==="carreras"&&n.jsxs("section",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-bold",children:"Carreras Tcnicas"}),n.jsx("button",{onClick:()=>{U(null),B(!0)},className:`p-1.5 rounded-lg ${f?"bg-slate-700":"bg-slate-200"}`,children:n.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"})})]}),n.jsx("div",{className:"space-y-3",children:I.length===0?n.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay carreras registradas."}):I.map(d=>{var w;return n.jsxs("div",{className:`p-5 rounded-3xl border shadow-sm group cursor-pointer transition-colors ${f?"bg-slate-800 border-slate-700 hover:border-blue-400":"bg-white border-slate-100 hover:border-blue-800"}`,children:[n.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-900 flex items-center justify-center overflow-hidden",children:d.imagen_url?n.jsx("img",{src:d.imagen_url,alt:d.nombre,className:"w-full h-full object-cover"}):n.jsx("span",{className:"text-white text-2xl",children:""})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold",children:d.nombre}),n.jsx("p",{className:`text-xs uppercase font-bold tracking-tighter ${f?"text-slate-500":"text-slate-400"}`,children:((w=d.descripcion)==null?void 0:w.substring(0,30))||"Sin descripcin"})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:q=>{q.stopPropagation(),jd(d)},className:"p-1 text-slate-400 hover:text-blue-500",children:n.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),n.jsx("button",{onClick:q=>{q.stopPropagation(),qn(d.id)},className:"p-1 text-slate-400 hover:text-red-500",children:n.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})]}),d.plan_estudios_url&&n.jsxs("div",{className:`flex items-center justify-between pt-4 border-t ${f?"border-slate-700":"border-slate-50"}`,children:[n.jsx("a",{href:d.plan_estudios_url,target:"_blank",rel:"noopener noreferrer",className:`text-xs font-bold ${f?"text-blue-400":"text-blue-800"}`,children:"Ver Plan de Estudios"}),n.jsx("span",{className:"material-symbols-outlined text-blue-800 text-lg",children:"arrow_forward"})]})]},d.id)})})]}),k==="chatbot"&&n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"smart_toy"})," IA Chatbot"]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${f?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:ge.enabled?"Activo":"Desactivado"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("p",{className:"text-sm font-semibold",children:"Estado"}),n.jsx("p",{className:`text-sm mt-1 ${f?"text-slate-400":"text-slate-500"}`,children:un?"Configurado":"Sin configurar"})]}),n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("p",{className:"text-sm font-semibold",children:"Proveedor"}),n.jsx("p",{className:`text-sm mt-1 ${f?"text-slate-400":"text-slate-500"}`,children:(ge.provider||"grok").toUpperCase()})]}),n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("p",{className:"text-sm font-semibold",children:"Modelo"}),n.jsx("p",{className:`text-sm mt-1 ${f?"text-slate-400":"text-slate-500"}`,children:ge.model||"No definido"})]})]}),n.jsxs("form",{onSubmit:vc,className:"mt-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Proveedor"}),n.jsxs("select",{value:ge.provider,onChange:d=>Pr({...ge,provider:d.target.value}),className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[n.jsx("option",{value:"groq",children:"Groq"}),n.jsx("option",{value:"gemini",children:"Gemini"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"API Key"}),n.jsx("input",{type:"password",value:ge.api_key,onChange:d=>Pr({...ge,api_key:d.target.value}),placeholder:"Ingresa tu API Key",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Modelo"}),n.jsxs("select",{value:ge.model,onChange:d=>Pr({...ge,model:d.target.value}),className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[n.jsx("option",{value:"",children:"Selecciona un modelo"}),oi.filter(d=>d.provider===ge.provider&&d.is_active!==!1).map(d=>n.jsx("option",{value:d.name,children:d.name},d.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Prompt de sistema"}),n.jsx("textarea",{value:ge.system_prompt,onChange:d=>Pr({...ge,system_prompt:d.target.value}),rows:"6",placeholder:"Instrucciones del sistema para el chatbot",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("label",{className:`flex items-center gap-2 text-sm ${f?"text-slate-300":"text-slate-600"}`,children:[n.jsx("input",{type:"checkbox",checked:ge.enable_db_context,onChange:d=>Pr({...ge,enable_db_context:d.target.checked})}),"Permitir contexto de la base de datos"]}),n.jsxs("label",{className:`flex items-center gap-2 text-sm ${f?"text-slate-300":"text-slate-600"}`,children:[n.jsx("input",{type:"checkbox",checked:ge.enabled,onChange:d=>Pr({...ge,enabled:d.target.checked})}),"Activar chatbot en el sitio"]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx("button",{type:"submit",disabled:Vl,className:"px-5 py-3 rounded-2xl bg-blue-800 text-white font-bold shadow hover:scale-[1.01] transition-all disabled:opacity-60",children:Vl?"Guardando...":"Guardar configuracin"}),n.jsx("button",{type:"button",onClick:()=>window.open("/","_blank"),className:`px-5 py-3 rounded-2xl font-semibold ${f?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:"Ver en sitio"})]}),n.jsx("p",{className:`text-xs ${f?"text-slate-500":"text-slate-400"}`,children:"La informacin de la base de datos se agrega como contexto al prompt. Evita incluir datos sensibles."})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h4",{className:"text-md font-bold mb-3",children:"Probar chatbot"}),n.jsxs("form",{onSubmit:Ii,className:"space-y-3",children:[n.jsx("textarea",{value:fa,onChange:d=>yd(d.target.value),rows:"3",placeholder:"Escribe un mensaje de prueba...",className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",disabled:Kl,className:"px-5 py-3 rounded-2xl bg-blue-800 text-white font-bold shadow disabled:opacity-60",children:Kl?"Probando...":"Probar ahora"})]}),Gl&&n.jsx("div",{className:`mt-4 p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700 text-slate-200":"bg-white border-slate-100 text-slate-600"}`,children:n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Gl})})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("button",{type:"button",onClick:()=>{const d=!Eo;Ql(d),d&&Ca()},className:`px-5 py-3 rounded-2xl text-sm font-semibold ${f?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:Eo?"Ocultar preguntas realizadas":"Preguntas realizadas por usuarios"}),Eo&&n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"text-md font-bold",children:"Preguntas recientes"}),n.jsx("button",{type:"button",onClick:tl,className:"text-sm text-red-500",children:"Eliminar todas"})]}),Yl?n.jsx("p",{className:"text-sm text-slate-500",children:"Cargando..."}):li.length===0?n.jsx("p",{className:"text-sm text-slate-500",children:"No hay preguntas registradas."}):n.jsx("div",{className:"space-y-2",children:li.map(d=>n.jsxs("div",{className:`p-4 rounded-2xl border flex items-start justify-between gap-3 ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${f?"text-slate-200":"text-slate-700"}`,children:d.question_text}),n.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[new Date(d.created_at).toLocaleString(),"  Ruta: ",d.source_page||"N/D"]})]}),n.jsx("button",{type:"button",onClick:()=>el(d.id),className:"text-sm text-red-500",children:"Eliminar"})]},d.id))})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("button",{type:"button",onClick:()=>vd(!Co),className:`px-5 py-3 rounded-2xl text-sm font-semibold ${f?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:Co?"Ocultar ms configuraciones":"Ms configuraciones"}),Co&&n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Base URL (opcional)"}),n.jsx("input",{type:"text",value:ge.base_url,onChange:d=>Pr({...ge,base_url:d.target.value}),placeholder:"https://api.groq.com/openai/v1",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]})}),n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[n.jsx("p",{className:"text-sm font-semibold mb-3",children:"Configuracin hbrida"}),n.jsxs("label",{className:`flex items-center gap-2 text-sm ${f?"text-slate-300":"text-slate-600"}`,children:[n.jsx("input",{type:"checkbox",checked:ge.fallback_enabled,onChange:d=>Pr({...ge,fallback_enabled:d.target.checked})}),"Usar segunda API si la principal falla"]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"text-sm font-semibold",children:"Proveedor principal"}),n.jsxs("select",{value:ge.primary_provider,onChange:d=>Pr({...ge,primary_provider:d.target.value}),className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-white border-slate-200"}`,children:[n.jsx("option",{value:"groq",children:"Groq"}),n.jsx("option",{value:"gemini",children:"Gemini"})]}),n.jsx("p",{className:`text-xs mt-2 ${f?"text-slate-500":"text-slate-400"}`,children:"La secundaria ser la otra API."})]})]}),n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[n.jsx("p",{className:"text-sm font-semibold mb-3",children:"Agregar modelo"}),n.jsxs("form",{onSubmit:Zo,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("select",{value:hn.provider,onChange:d=>ko({...hn,provider:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-white border-slate-200"}`,children:[n.jsx("option",{value:"groq",children:"Groq"}),n.jsx("option",{value:"gemini",children:"Gemini"})]}),n.jsx("input",{type:"text",value:hn.name,onChange:d=>ko({...hn,name:d.target.value}),placeholder:"llama-3.1-70b, gemini-3.0-flash",className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-white border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-4 py-3 rounded-xl bg-blue-800 text-white font-bold",children:"Agregar modelo"})]})]})]})]})]}),k==="gmail"&&n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"mail"})," Notificaciones Gmail"]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${In?f?"bg-emerald-900 text-emerald-300":"bg-emerald-100 text-emerald-700":f?"bg-red-900 text-red-300":"bg-red-100 text-red-700"}`,children:$o?"Verificando...":In?` ${Io||"Conectado"}`:"No conectado"})]}),n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-100"}`,children:[n.jsx("p",{className:"text-sm font-semibold mb-2",children:" Enva correos usando tu cuenta de Google"}),n.jsx("p",{className:`text-sm ${f?"text-slate-400":"text-slate-500"}`,children:In?"Gmail est conectado. Puedes enviar correos a los alumnos por grado/grupo.":"Para usar Gmail, cierra sesin e inicia sesin nuevamente con Google. El sistema pedir permiso para enviar correos en tu nombre."})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Asunto"}),n.jsx("input",{type:"text",value:et.subject,onChange:d=>$n({...et,subject:d.target.value}),placeholder:"Aviso importante",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Enviar a todos"}),n.jsxs("div",{className:`mt-2 p-3 rounded-xl border flex items-center gap-3 ${f?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[n.jsx("input",{type:"checkbox",checked:et.sendToAll,onChange:d=>$n({...et,sendToAll:d.target.checked})}),n.jsx("span",{className:"text-sm",children:"Ignorar filtros por grado/grupo"})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Contenido (HTML)"}),n.jsx("textarea",{value:et.messageHtml,onChange:d=>$n({...et,messageHtml:d.target.value}),rows:"6",placeholder:"<b>Hola</b> estudiantes...",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Contenido (texto plano)"}),n.jsx("textarea",{value:et.messageText,onChange:d=>$n({...et,messageText:d.target.value}),rows:"6",placeholder:"Hola estudiantes...",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("p",{className:"text-sm font-semibold mb-3",children:"Grados"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[1,2,3,4,5,6].map(d=>n.jsxs("button",{type:"button",onClick:()=>or(d),className:`px-3 py-2 rounded-xl text-sm font-semibold border ${et.grados.includes(d)?f?"bg-blue-600 text-white border-blue-600":"bg-blue-800 text-white border-blue-800":f?"bg-slate-800 text-slate-300 border-slate-700":"bg-slate-50 text-slate-600 border-slate-200"}`,children:[d,""]},d))})]}),n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("p",{className:"text-sm font-semibold mb-3",children:"Grupos"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const d=["A","B","C","D","F"],w=Array.from(new Set(u.map(W=>W.grupo).filter(Boolean))).sort();return(w.length?w:d).map(W=>n.jsx("button",{type:"button",onClick:()=>Qn(W),className:`px-3 py-2 rounded-xl text-sm font-semibold border ${et.grupos.includes(W)?"bg-green-600 text-white border-green-600":f?"bg-slate-800 text-slate-300 border-slate-700":"bg-slate-50 text-slate-600 border-slate-200"}`,children:W},W))})()})]})]}),Pn&&n.jsx("div",{className:`mt-4 p-4 rounded-2xl border ${Pn.type==="success"?f?"bg-emerald-900/30 border-emerald-700 text-emerald-200":"bg-emerald-50 border-emerald-200 text-emerald-800":f?"bg-red-900/30 border-red-700 text-red-200":"bg-red-50 border-red-200 text-red-700"}`,children:Pn.message}),n.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-3",children:[!In&&n.jsx("button",{type:"button",onClick:Lr,className:"px-5 py-3 rounded-2xl bg-blue-800 text-white font-bold shadow hover:scale-[1.01] transition-all",children:" Conectar Gmail"}),n.jsx("button",{type:"button",onClick:Rs,disabled:$o,className:`px-5 py-3 rounded-2xl font-semibold ${f?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:$o?"Verificando...":" Verificar conexin"}),n.jsx("button",{type:"button",onClick:yc,disabled:ci||!In,className:`px-5 py-3 rounded-2xl font-bold ${ci||!In?"opacity-50 cursor-not-allowed":"hover:scale-[1.01]"} ${In?"bg-green-600 text-white":f?"bg-slate-700 text-slate-400":"bg-slate-200 text-slate-500"}`,children:ci?" Enviando...":" Enviar correo"})]})]}),k==="storage"&&n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"storage"})," Almacenamiento"]}),n.jsx("button",{type:"button",onClick:As,className:`text-sm ${f?"text-blue-400":"text-blue-700"}`,children:"Actualizar"})]}),gs?n.jsx("p",{className:"text-sm text-slate-500",children:"Cargando..."}):Ir?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`w-full h-5 rounded-full overflow-hidden ${f?"bg-slate-800":"bg-slate-200"}`,children:(()=>{const d=Ir.total_bytes||0,w=Ir.db_bytes||0;Ir.storage_bytes;const q=d?Math.round(w/d*100):0,W=d?100-q:0;return n.jsxs("div",{className:"w-full h-full flex",children:[n.jsx("div",{style:{width:`${q}%`},className:"h-full bg-blue-600"}),n.jsx("div",{style:{width:`${W}%`},className:"h-full bg-green-500"})]})})()}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm mt-4",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-600"}),"BD: ",lr(Ir.db_bytes)]}),n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),"Storage: ",lr(Ir.storage_bytes)]}),n.jsxs("span",{className:"flex items-center gap-2",children:["Total: ",lr(Ir.total_bytes)]})]}),(($s=Ir.buckets)==null?void 0:$s.length)>0&&n.jsxs("div",{className:"space-y-2 mt-4",children:[n.jsx("h5",{className:"text-sm font-semibold",children:"Buckets"}),Ir.buckets.map(d=>n.jsx("div",{className:`p-3 rounded-xl border ${f?"border-slate-700 bg-slate-900":"border-slate-100 bg-white"}`,children:n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:d.bucket_id}),n.jsx("span",{children:lr(d.size_bytes)})]})},d.bucket_id))]})]}):n.jsx("p",{className:"text-sm text-slate-500",children:"Sin datos de almacenamiento."})]}),k==="access"&&n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"security"})," Acceso a la Pgina"]}),n.jsx("button",{type:"button",onClick:wa,className:`text-sm ${f?"text-blue-400":"text-blue-700"}`,children:"Actualizar"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900":"border-slate-200 bg-slate-50"}`,children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-4",children:[n.jsx("span",{className:"material-symbols-outlined text-green-500",children:"school"}),"Acceso de Alumnos"]}),n.jsx("p",{className:`text-sm mb-3 ${f?"text-slate-400":"text-slate-600"}`,children:"Solo los correos con este dominio podrn acceder al portal de alumnos."}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Dominio de correo permitido"}),n.jsx("input",{type:"text",value:br.alumno_domain,onChange:d=>ya({...br,alumno_domain:d.target.value}),className:`w-full px-4 py-3 rounded-xl border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"@cbta134.edu.mx"}),n.jsx("p",{className:`text-xs mt-2 ${f?"text-slate-500":"text-slate-400"}`,children:"Ejemplo: @cbta134.edu.mx (incluir el @)"})]})]}),n.jsxs("div",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900":"border-slate-200 bg-slate-50"}`,children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-4",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-500",children:"admin_panel_settings"}),"Acceso de Maestros"]}),n.jsx("p",{className:`text-sm mb-3 ${f?"text-slate-400":"text-slate-600"}`,children:"Cdigo de seguridad requerido despus de iniciar sesin con Google."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Usuario de seguridad"}),n.jsx("input",{type:"text",value:br.maestro_user,onChange:d=>ya({...br,maestro_user:d.target.value}),className:`w-full px-4 py-3 rounded-xl border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"cbta"})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Contrasea de seguridad"}),n.jsx("input",{type:"text",value:br.maestro_password,onChange:d=>ya({...br,maestro_password:d.target.value}),className:`w-full px-4 py-3 rounded-xl border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"cbta134#pagina"})]})]}),n.jsx("p",{className:`text-xs mt-2 ${f?"text-slate-500":"text-slate-400"}`,children:"Los maestros debern ingresar estas credenciales despus de iniciar sesin con Google."})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:_a,disabled:va,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50",children:va?"Guardando...":"Guardar Configuracin"}),Do&&n.jsxs("span",{className:"text-green-500 font-medium flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined",children:"check_circle"}),"Guardado correctamente"]})]}),nc&&n.jsxs("div",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900":"border-slate-200 bg-slate-50"}`,children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-4",children:[n.jsx("span",{className:"material-symbols-outlined text-purple-500",children:"group_add"}),"Cuentas Permitidas del EduPanel"]}),n.jsx("p",{className:`text-sm mb-4 ${f?"text-slate-400":"text-slate-600"}`,children:"Solo las cuentas en esta lista pueden acceder al panel administrativo."}),n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsx("input",{type:"email",value:pi,onChange:d=>On(d.target.value),className:`flex-1 px-4 py-3 rounded-xl border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"correo@ejemplo.com"}),n.jsx("button",{onClick:zo,disabled:fi||!pi.trim(),className:"px-4 py-3 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 transition-colors disabled:opacity-50",children:fi?"...":"Agregar"})]}),n.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[xa.map(d=>n.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl ${f?"bg-slate-800":"bg-white"} border ${f?"border-slate-700":"border-slate-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-slate-400",children:d.is_master?"verified_user":"person"}),n.jsxs("div",{children:[n.jsx("p",{className:`font-medium ${f?"text-white":"text-slate-900"}`,children:d.email}),d.is_master&&n.jsx("span",{className:"text-xs text-purple-500 font-medium",children:"Cuenta Maestra"})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>wi(d.id,d.email,d.is_master),className:`p-2 rounded-lg transition-colors ${d.is_master?"text-amber-500 hover:bg-amber-50":"text-purple-500 hover:bg-purple-50"}`,title:d.is_master?"Quitar rol de maestra":"Hacer cuenta maestra",children:n.jsx("span",{className:"material-symbols-outlined text-sm",children:d.is_master?"remove_moderator":"add_moderator"})}),n.jsx("button",{onClick:()=>Sa(d.id,d.email,d.is_master),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar cuenta",children:n.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"})})]})]},d.id)),xa.length===0&&n.jsx("p",{className:`text-sm text-center py-4 ${f?"text-slate-500":"text-slate-400"}`,children:"No hay cuentas configuradas."})]})]})]})]})]})]}),n.jsx("button",{onClick:()=>be(!0),className:"lg:hidden fixed bottom-6 right-6 w-14 h-14 bg-blue-800 text-white rounded-full shadow-2xl z-50 flex items-center justify-center active:scale-90 transition-transform",children:n.jsx("span",{className:"material-symbols-outlined",children:"add"})}),st&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:`w-full max-w-md rounded-3xl shadow-2xl ${f?"bg-slate-800":"bg-white"}`,children:[n.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${f?"border-slate-700":"border-slate-100"}`,children:[n.jsx("h2",{className:"text-xl font-bold",children:"Editar Alumno"}),n.jsx("button",{onClick:()=>yr(null),className:`p-2 rounded-xl ${f?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:n.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),n.jsxs("form",{onSubmit:Ho,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-semibold mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Nombre(s):"}),n.jsx("input",{value:st.nombre,onChange:d=>yr({...st,nombre:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-semibold mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Apellidos:"}),n.jsx("input",{value:st.apellidos,onChange:d=>yr({...st,apellidos:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-semibold mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Correo:"}),n.jsx("input",{type:"email",value:st.email||"",onChange:d=>yr({...st,email:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-semibold mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"No. Control (14 dgitos):"}),n.jsx("input",{value:st.numero_control||"",maxLength:14,onChange:d=>{const w=d.target.value.replace(/[^0-9]/g,"");yr({...st,numero_control:w})},className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-semibold mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"CURP:"}),n.jsx("input",{value:st.curp,onChange:d=>yr({...st,curp:d.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsx("button",{type:"submit",className:"w-full py-3 bg-blue-800 text-white font-bold rounded-xl hover:opacity-90 transition-opacity",children:" Guardar Cambios"})]})]})}),Ln&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:`w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-3xl shadow-2xl ${f?"bg-slate-800":"bg-white"}`,children:[n.jsxs("div",{className:`flex items-center justify-between p-6 border-b sticky top-0 ${f?"border-slate-700 bg-slate-800":"border-slate-100 bg-white"}`,children:[n.jsxs("h2",{className:"text-xl font-bold",children:["Calificaciones: ",Ln.nombre]}),n.jsx("button",{onClick:()=>gi(null),className:`p-2 rounded-xl ${f?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:n.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("label",{className:"font-semibold",children:"Semestre:"}),n.jsx("select",{value:yi,onChange:d=>{const w=parseInt(d.target.value);Lo(w),ws(Ln.id,w)},className:`px-4 py-2 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[1,2,3,4,5,6].map(d=>n.jsxs("option",{value:d,children:[d," Semestre"]},d))})]}),n.jsx("div",{className:`rounded-2xl overflow-hidden mb-6 ${f?"bg-slate-900":"bg-slate-50"}`,children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:f?"bg-slate-800":"bg-slate-100",children:[n.jsx("th",{className:"p-4 text-left font-semibold",children:"Materia"}),n.jsx("th",{className:"p-4 text-left font-semibold",children:"Tipo"}),n.jsx("th",{className:"p-4 text-center font-semibold",children:"P1"}),n.jsx("th",{className:"p-4 text-center font-semibold",children:"P2"}),n.jsx("th",{className:"p-4 text-center font-semibold",children:"P3"})]})}),n.jsx("tbody",{children:xi.map(d=>n.jsxs("tr",{className:`border-t ${f?"border-slate-700":"border-slate-200"}`,children:[n.jsx("td",{className:"p-4",children:d.materia}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-bold text-white ${d.tipo_materia==="especialidad"?"bg-purple-500":"bg-blue-500"}`,children:d.tipo_materia==="especialidad"?"Especialidad":"Bsica"})}),n.jsx("td",{className:"p-4 text-center",children:n.jsx("input",{type:"number",defaultValue:d.parcial1,onBlur:w=>vr(d.id,"parcial1",w.target.value),className:`w-16 p-2 text-center rounded-lg border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"}`})}),n.jsx("td",{className:"p-4 text-center",children:n.jsx("input",{type:"number",defaultValue:d.parcial2,onBlur:w=>vr(d.id,"parcial2",w.target.value),className:`w-16 p-2 text-center rounded-lg border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"}`})}),n.jsx("td",{className:"p-4 text-center",children:n.jsx("input",{type:"number",defaultValue:d.parcial3,onBlur:w=>vr(d.id,"parcial3",w.target.value),className:`w-16 p-2 text-center rounded-lg border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"}`})})]},d.id))})]})}),n.jsxs("div",{className:`p-6 rounded-2xl ${f?"bg-slate-900":"bg-green-50"}`,children:[n.jsx("h4",{className:`font-bold mb-4 ${f?"text-green-400":"text-green-700"}`,children:"Agregar Nueva Materia"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("input",{placeholder:"Nombre de la Materia",value:dt.materia,onChange:d=>Wt({...dt,materia:d.target.value}),className:`flex-1 p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),n.jsxs("select",{value:dt.tipo,onChange:d=>Wt({...dt,tipo:d.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,children:[n.jsx("option",{value:"basica",children:"Tronco Comn"}),n.jsx("option",{value:"especialidad",children:"Especialidad"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsx("input",{type:"number",placeholder:"P1",value:dt.parcial1,onChange:d=>Wt({...dt,parcial1:d.target.value}),className:`w-20 p-3 text-center rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),n.jsx("input",{type:"number",placeholder:"P2",value:dt.parcial2,onChange:d=>Wt({...dt,parcial2:d.target.value}),className:`w-20 p-3 text-center rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),n.jsx("input",{type:"number",placeholder:"P3",value:dt.parcial3,onChange:d=>Wt({...dt,parcial3:d.target.value}),className:`w-20 p-3 text-center rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),n.jsx("button",{onClick:Wo,className:"px-6 py-3 bg-green-500 text-white font-bold rounded-xl hover:bg-green-600 transition-colors",children:"+ Agregar Materia"})]})]})]}),n.jsx("div",{className:`flex justify-end pt-6 border-t mt-6 ${f?"border-slate-700":"border-slate-200"}`,children:n.jsx("button",{onClick:()=>gi(null),className:"px-8 py-3 bg-blue-800 text-white font-bold rounded-xl hover:opacity-90 transition-opacity",children:" Guardar y Cerrar"})})]})]})}),n.jsx($y,{isOpen:re,onClose:()=>{be(!1),Be(null)},onClubAdded:Hn,clubToEdit:we}),n.jsx(Py,{isOpen:E,onClose:()=>{B(!1),U(null)},onCareerAdded:Go,careerToEdit:$})]}):n.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-slate-900":"bg-slate-100"}`,children:n.jsxs("div",{className:`p-8 rounded-3xl shadow-xl max-w-md w-full mx-4 ${f?"bg-slate-800":"bg-white"}`,children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"bg-blue-800 p-3 rounded-2xl inline-block mb-4",children:n.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"school"})}),n.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-900"}`,children:"Acceso Administrativo"}),n.jsx("p",{className:`mt-2 ${f?"text-slate-400":"text-slate-500"}`,children:"Inicia sesin para gestionar alumnos y publicaciones."})]}),n.jsxs("button",{onClick:Fn,className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-white border border-slate-200 rounded-2xl hover:bg-slate-50 transition-all shadow-sm",children:[n.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg",alt:"Google",className:"w-6 h-6"}),n.jsx("span",{className:"font-semibold text-slate-700",children:"Entrar como Maestro"})]}),n.jsx("button",{onClick:()=>s("/maestros"),className:"w-full mt-4 py-3 text-slate-500 hover:text-slate-700 transition-colors font-medium",children:" Regresar"})]})})},Oy=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},Dy=({setCurrentView:s})=>{const t=Oy(),a={paddingTop:"80px",minHeight:"100vh",backgroundColor:t?"#07111a":"#f8f9fa"},o={padding:"40px 20px",maxWidth:"100%",margin:"0 auto"},c={fontSize:"28px",fontWeight:"bold",color:"#2c3e50",marginBottom:"25px",textAlign:"center"},u={fontSize:"16px",lineHeight:"1.6",color:t?"#c8cdd3":"#555",marginBottom:"30px",textAlign:"justify",background:t?"rgba(255,255,255,0.03)":"white",padding:"25px",borderRadius:"10px",boxShadow:t?"0 10px 30px rgba(2,6,23,0.7)":"0 4px 15px rgba(0,0,0,0.1)"},p={textAlign:"center",marginBottom:"40px"},g={maxWidth:"300px",width:"100%",height:"auto",borderRadius:"10px",boxShadow:t?"0 10px 30px rgba(2,6,23,0.7)":"0 4px 15px rgba(0,0,0,0.2)"},x={display:"flex",flexDirection:"column",gap:"20px",marginTop:"30px"},b={background:t?"rgba(255,255,255,0.03)":"white",padding:"25px",borderRadius:"10px",boxShadow:t?"0 12px 36px rgba(2,6,23,0.7)":"0 4px 15px rgba(0,0,0,0.1)",border:t?"1px solid rgba(255,255,255,0.03)":"2px solid #e9ecef"},_={fontSize:"20px",fontWeight:"bold",color:t?"#e6eef8":"#2c3e50",marginBottom:"15px",textAlign:"center"},f={fontSize:"16px",lineHeight:"1.6",color:t?"#c8cdd3":"#555",textAlign:"center"},j={...b,borderColor:"#28a745"},S={...b,borderColor:"#007bff"},N={...b,borderColor:"#ffc107"};return n.jsxs("div",{style:a,children:[n.jsx(Nr,{onBack:()=>s("home")}),n.jsxs("main",{children:[n.jsxs("section",{style:o,children:[n.jsx("h2",{style:c,children:"Nosotros"}),n.jsxs("div",{style:u,children:[n.jsx("p",{style:{marginBottom:"20px"},children:"El Centro de Bachillerato Tecnolgico Agropecuario (CBTA) no. 134 se ha convertido en una de las mejores oportunidades para que las y los jvenes realicen sus estudios de nivel medio superior, porque al trmino de estos, no solo reciben su certificado sino tambin un ttulo de carrera tcnica."}),n.jsx("p",{style:{marginBottom:"20px"},children:"La escuela se ubica en el municipio de San Francisco Tetlanohcan, cuenta con un rea total de 27 hectreas, de ellas, 5 ya tienen construccin con aulas, canchas y reas para el fomento agropecuario, que la hace nica en su estilo en todo el Estado de Tlaxcala."}),n.jsx("p",{children:"Los estudiantes pueden optar por las carreras: Tcnico Agropecuario, Tcnico en Sistemas de Produccin Pecuaria, Tcnico en Programacin, Tcnico en Contabilidad y Tcnico en Ofimtica."})]}),n.jsx("div",{style:p,children:n.jsx("img",{src:"/images/campus.png",alt:"Campus CBTA 134",style:g})})]}),n.jsxs("section",{style:o,children:[n.jsx("h2",{style:c,children:"Misin, Visin y Lema"}),n.jsxs("div",{style:x,children:[n.jsxs("div",{style:j,children:[n.jsx("h3",{style:_,children:" Misin"}),n.jsx("p",{style:f,children:"Contribuir activamente en la formacin integral de nuestros estudiantes del bachillerato tecnolgico con un enfoque de desarrollo sustentable y emprendedor que los integre plenamente a la sociedad."})]}),n.jsxs("div",{style:S,children:[n.jsx("h3",{style:_,children:" Visin"}),n.jsx("p",{style:f,children:"Ser una institucin de calidad formadora de lderes del maana, reconocida por su excelencia educativa y compromiso con el desarrollo sustentable."})]}),n.jsxs("div",{style:N,children:[n.jsx("h3",{style:_,children:" Lema"}),n.jsx("p",{style:{...f,fontSize:"18px",fontWeight:"bold",color:"#2c3e50"},children:'"Formar e innovar para transformar"'})]})]})]}),n.jsxs("section",{style:o,children:[n.jsx("h2",{style:c,children:"Nuestros Valores"}),n.jsxs("div",{style:x,children:[n.jsxs("div",{style:b,children:[n.jsx("h3",{style:_,children:" Excelencia Acadmica"}),n.jsx("p",{style:f,children:"Nos comprometemos a brindar una educacin de la ms alta calidad, fomentando el pensamiento crtico y la innovacin."})]}),n.jsxs("div",{style:b,children:[n.jsx("h3",{style:_,children:" Responsabilidad Social"}),n.jsx("p",{style:f,children:"Formamos ciudadanos comprometidos con su comunidad y el desarrollo sostenible de la regin."})]}),n.jsxs("div",{style:b,children:[n.jsx("h3",{style:_,children:" Desarrollo Sustentable"}),n.jsx("p",{style:f,children:"Promovemos prcticas respetuosas con el medio ambiente y el uso responsable de los recursos naturales."})]}),n.jsxs("div",{style:b,children:[n.jsx("h3",{style:_,children:" Innovacin"}),n.jsx("p",{style:f,children:"Fomentamos la creatividad y el uso de nuevas tecnologas para preparar a nuestros estudiantes para el futuro."})]})]})]})]})]})},Ly=()=>typeof document>"u"?!1:document.body.classList.contains("dark-mode"),By=({setCurrentView:s})=>{const t=Ly(),[a,o]=v.useState([]),c={paddingTop:"80px",minHeight:"100vh",backgroundColor:t?"transparent":"#f8f9fa"},u={padding:"20px",maxWidth:"100%",margin:"0 auto"},p={fontSize:"28px",fontWeight:"bold",color:"#2c3e50",marginBottom:"25px",textAlign:"center"},g={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"30px"},x={background:t?"rgba(255,255,255,0.02)":"white",borderRadius:"10px",overflow:"hidden",boxShadow:t?"0 8px 30px rgba(0,0,0,0.6)":"0 4px 15px rgba(0,0,0,0.1)",transition:"transform 0.3s ease"},b={width:"100%",height:"200px",objectFit:"cover"},_={padding:"15px"},f={fontSize:"16px",fontWeight:"bold",color:"#2c3e50",marginBottom:"8px"},j={fontSize:"14px",color:"#666",lineHeight:"1.4"},S={fontSize:"22px",fontWeight:"bold",color:"#2c3e50",marginBottom:"20px",marginTop:"40px",textAlign:"center",borderBottom:"2px solid #3498db",paddingBottom:"10px"},N=[{src:"/assets/instalaciones/uno.jpg",title:"Instalacin Principal",desc:"Vista general de nuestras instalaciones educativas"},{src:"/assets/instalaciones/laboratorio.jpg",title:"Laboratorio",desc:"Modernos laboratorios para el desarrollo acadmico"},{src:"/assets/instalaciones/cafeteria.jpg",title:"Cafetera",desc:"Espacio de alimentacin y convivencia estudiantil"},{src:"/assets/instalaciones/almacen.jpg",title:"Almacn",desc:"rea de almacenamiento y recursos institucionales"},{src:"/assets/instalaciones/bosque.jpg",title:"rea Verde",desc:"Espacios naturales dentro del campus"},{src:"/assets/instalaciones/invern.jpg",title:"Invernadero",desc:"Instalaciones para prcticas agropecuarias"},{src:"/assets/instalaciones/radio.jpg",title:"Estacin de Radio",desc:"Estudio de radio estudiantil"},{src:"/assets/instalaciones/tres.jpg",title:"Edificio Acadmico",desc:"Aulas y espacios de enseanza"},{src:"/assets/instalaciones/cuatro.jpg",title:"rea Deportiva",desc:"Instalaciones para actividades fsicas"},{src:"/assets/instalaciones/cinco.jpg",title:"Zona de Talleres",desc:"Espacios para prcticas tcnicas"},{src:"/assets/instalaciones/seis.jpg",title:"Biblioteca",desc:"Centro de recursos bibliogrficos"},{src:"/assets/instalaciones/siete.jpg",title:"Auditorio",desc:"Espacio para eventos y ceremonias"}],k=[{src:"/img/basquet.jpg",title:"Torneo de Bsquetbol",desc:"Competencias deportivas entre equipos estudiantiles"},{src:"/img/futbol.jpg",title:"Liga de Ftbol",desc:"Actividades deportivas que fomentan el trabajo en equipo"},{src:"/img/boleibol.jpg",title:"Voleibol Escolar",desc:"Deportes que promueven la disciplina y el compaerismo"},{src:"/img/banda de guerra.jpg",title:"Banda de Guerra",desc:"Grupo musical que representa a nuestra institucin"},{src:"/img/baile folclorico.jpg",title:"Ballet Folklrico",desc:"Preservacin de nuestras tradiciones culturales"}],T=[{src:"/assets/clubs/banda.jpeg",title:"Banda de Guerra",desc:"Grupo musical que representa a la institucin"},{src:"/assets/clubs/basquet.jpg",title:"Club de Bsquetbol",desc:"Desarrollo de habilidades deportivas y trabajo en equipo"},{src:"/assets/clubs/voli.jpg",title:"Club de Voleibol",desc:"Deporte que fomenta la comunicacin y el compaerismo"},{src:"/assets/clubs/robotica.jpg",title:"Club de Robtica",desc:"Tecnologa, programacin e innovacin estudiantil"},{src:"/assets/clubs/robot.jpg",title:"Taller de Robtica",desc:"Construccin y programacin de robots"},{src:"/assets/clubs/rondalla.jpg",title:"Rondalla y Canto",desc:"Expresin musical y vocal tradicional"}],I=[{src:"/assets/cbta/logo.jpg",title:"Logo Institucional",desc:"Smbolo que nos representa como institucin educativa"},{src:"/assets/cbta/cbta.png",title:"CBTa 134",desc:"Centro de Bachillerato Tecnolgico Agropecuario No. 134"},{src:"/assets/cbta/cbb.jpg",title:"Campus Educativo",desc:"Nuestras instalaciones educativas de calidad"},{src:"/assets/cbta/cbtaj.jpg",title:"Actividades Institucionales",desc:"Eventos y ceremonias de nuestra comunidad educativa"},{src:"/assets/cbta/SAE.jpg",title:"Sistema de Apoyo Educativo",desc:"Programas de apoyo para el desarrollo estudiantil"},{src:"/assets/cbta/cct.png",title:"Clave del Centro de Trabajo",desc:"Identificacin oficial de nuestra institucin"},{src:"/assets/cbta/guardian.jpg",title:"Seguridad Escolar",desc:"Medidas de proteccin y seguridad en el campus"}],P=[{src:"/assets/galeria/1.jpg",title:"Momentos Especiales",desc:"Recuerdos de la vida estudiantil"},{src:"/assets/galeria/2.jpg",title:"Actividades Estudiantiles",desc:"Participacin activa de nuestros alumnos"},{src:"/assets/galeria/3.jpg",title:"Eventos Acadmicos",desc:"Celebraciones del logro educativo"},{src:"/assets/galeria/4.jpg",title:"Convivencia Escolar",desc:"Momentos de unin y compaerismo"},{src:"/assets/galeria/5.jpg",title:"",desc:""},{src:"/assets/galeria/6.jpg",title:"Comunidad Educativa",desc:"Unidos por la educacin de calidad"}],E=({src:$,title:U,desc:H})=>n.jsxs("div",{style:x,onMouseEnter:G=>G.currentTarget.style.transform="translateY(-5px)",onMouseLeave:G=>G.currentTarget.style.transform="translateY(0)",children:[n.jsx("img",{src:$,alt:U,style:b}),n.jsxs("div",{style:_,children:[n.jsx("h3",{style:f,children:U}),n.jsx("p",{style:j,children:H})]})]});v.useEffect(()=>{(async()=>{const{data:U}=await A.from("gallery_items").select("*").order("order_index",{ascending:!0});o(U||[])})()},[]);const B=v.useMemo(()=>a.length===0?{instalaciones:N,actividades:k,clubs:T,cbta:I,galeria:P}:{instalaciones:a.filter($=>$.section==="instalaciones"),actividades:a.filter($=>$.section==="actividades"),clubs:a.filter($=>$.section==="clubs"),cbta:a.filter($=>$.section==="cbta"),galeria:a.filter($=>$.section==="galeria")},[a]);return n.jsxs("div",{style:c,children:[n.jsx(Nr,{onClick:()=>s("home")}),n.jsxs("div",{style:u,children:[n.jsx("h1",{style:p,children:" Galera CBTA 134"}),n.jsxs("section",{children:[n.jsx("h2",{style:S,children:" Nuestras Instalaciones"}),n.jsx("div",{style:g,children:B.instalaciones.map(($,U)=>n.jsx(E,{src:$.image_url||$.src,title:$.title,desc:$.desc||$.description},$.id||U))})]}),n.jsxs("section",{children:[n.jsx("h2",{style:S,children:" Actividades Deportivas"}),n.jsx("div",{style:g,children:B.actividades.map(($,U)=>n.jsx(E,{src:$.image_url||$.src,title:$.title,desc:$.desc||$.description},$.id||U))})]}),n.jsxs("section",{children:[n.jsx("h2",{style:S,children:"Participaciones de nuestros Clubes"}),n.jsx("div",{style:g,children:B.clubs.map(($,U)=>n.jsx(E,{src:$.image_url||$.src,title:$.title,desc:$.desc||$.description},$.id||U))})]}),n.jsxs("section",{children:[n.jsx("h2",{style:S,children:" CBTa 134"}),n.jsx("div",{style:g,children:B.cbta.map(($,U)=>n.jsx(E,{src:$.image_url||$.src,title:$.title,desc:$.desc||$.description},$.id||U))})]}),n.jsxs("section",{children:[n.jsx("h2",{style:S,children:" Galera General"}),n.jsx("div",{style:g,children:B.galeria.map(($,U)=>n.jsx(E,{src:$.image_url||$.src,title:$.title,desc:$.desc||$.description},$.id||U))})]}),n.jsxs("section",{style:{textAlign:"center",marginTop:"50px",padding:"30px",background:t?"rgba(255,255,255,0.02)":"white",borderRadius:"10px",boxShadow:t?"0 8px 30px rgba(0,0,0,0.6)":"0 4px 15px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{color:"#2c3e50",marginBottom:"15px"},children:"Quieres ver ms?"}),n.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Sguenos en nuestras redes sociales para ver ms fotos y videos de la vida estudiantil en el CBTA 134"}),n.jsx("a",{href:"https://www.facebook.com/share/15g75ZdJRg/",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",background:"#1877f2",color:"white",padding:"12px 25px",textDecoration:"none",borderRadius:"25px",fontSize:"16px",fontWeight:"bold",transition:"transform 0.3s"},onMouseEnter:$=>$.target.style.transform="translateY(-2px)",onMouseLeave:$=>$.target.style.transform="translateY(0)",children:" Visitar Facebook"})]})]})]})},Uy=()=>typeof document>"u"?!1:document.body.classList.contains("dark-mode"),Fy=({setCurrentView:s})=>{const t=Uy(),[a,o]=v.useState([]),[c,u]=v.useState(!0);v.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:$,error:U}=await A.from("clubs").select("*").order("created_at",{ascending:!1});if(U)throw U;o($||[])}catch($){console.error("Error fetching clubs:",$)}finally{u(!1)}},g={paddingTop:"80px",minHeight:"100vh",backgroundColor:t?"transparent":"#f8f9fa"},x={padding:"20px",maxWidth:"1200px",margin:"0 auto"},b={fontSize:"28px",fontWeight:"bold",color:t?"#e6eef8":"#2c3e50",marginBottom:"25px",textAlign:"center"},_={fontSize:"16px",color:t?"#bfc7cf":"#666",textAlign:"center",marginBottom:"40px",lineHeight:"1.6",maxWidth:"800px",margin:"0 auto 40px auto"},f={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"25px",marginBottom:"40px"},j={padding:"20px"},S={fontSize:"18px",fontWeight:"bold",color:t?"#e6eef8":"#2c3e50",marginBottom:"10px"},N={fontSize:"14px",color:t?"#c8cdd3":"#666",lineHeight:"1.5",marginBottom:"15px"},k={fontSize:"13px",color:"#28a745",fontWeight:"bold"},T={fontSize:"22px",fontWeight:"bold",color:t?"#e6eef8":"#2c3e50",marginBottom:"20px",marginTop:"50px",textAlign:"center",borderBottom:"3px solid #3498db",paddingBottom:"10px"},I=({club:$})=>{const U={background:t?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",overflow:"hidden",boxShadow:t?"0 12px 36px rgba(0,0,0,0.6)":"0 8px 25px rgba(0,0,0,0.1)",transition:"transform 0.3s ease, box-shadow 0.3s ease",border:t?"1px solid rgba(255,255,255,0.03)":"none",position:"relative",cursor:$.link?"pointer":"default",display:"flex",flexDirection:"column",height:"100%"},H=()=>{$.link&&window.open($.link,"_blank")};return n.jsxs("div",{style:U,onClick:H,onMouseEnter:G=>{G.currentTarget.style.transform="translateY(-8px)",G.currentTarget.style.boxShadow=t?"0 15px 35px rgba(0,0,0,0.8)":"0 15px 35px rgba(0,0,0,0.15)"},onMouseLeave:G=>{G.currentTarget.style.transform="translateY(0)",G.currentTarget.style.boxShadow=t?"0 12px 36px rgba(0,0,0,0.6)":"0 8px 25px rgba(0,0,0,0.1)"},children:[$.foto_url?n.jsx("div",{style:{width:"100%",height:"180px",overflow:"hidden",flexShrink:0},children:n.jsx("img",{src:$.foto_url,alt:$.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}):n.jsx("div",{style:{width:"100%",height:"150px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"56px",background:$.color||"linear-gradient(135deg, #6c5ce7, #a29bfe)",color:"white",flexShrink:0},children:n.jsx("span",{style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"},children:$.icono||""})}),n.jsxs("div",{style:j,children:[n.jsxs("h3",{style:S,children:[$.nombre,$.link&&n.jsx("span",{style:{fontSize:"12px",marginLeft:"5px"},children:""})]}),n.jsx("p",{style:N,children:$.descripcion}),n.jsx("div",{style:{marginTop:"auto"},children:n.jsx("p",{style:k,children:$.beneficios})})]})]})},P=a.filter($=>$.categoria==="Deportivo"),E=a.filter($=>$.categoria==="Cultural"),B=a.filter($=>$.categoria==="Academico");return n.jsxs("div",{style:g,children:[n.jsx(Nr,{onBack:()=>s("home")}),n.jsxs("div",{style:x,children:[n.jsx("h1",{style:b,children:" Clubes y Actividades Extracurriculares"}),n.jsx("p",{style:_,children:"En el CBTA 134 creemos en la formacin integral de nuestros estudiantes. Por eso ofrecemos una amplia variedad de clubes y actividades que complementan tu educacin acadmica, desarrollando habilidades sociales, fsicas y culturales."}),c?n.jsx("p",{style:{textAlign:"center",color:t?"white":"black"},children:"Cargando clubes..."}):n.jsxs(n.Fragment,{children:[P.length>0&&n.jsxs("section",{children:[n.jsx("h2",{style:T,children:" Clubes Deportivos"}),n.jsx("div",{style:f,children:P.map($=>n.jsx(I,{club:$},$.id))})]}),E.length>0&&n.jsxs("section",{children:[n.jsx("h2",{style:T,children:" Clubes Culturales"}),n.jsx("div",{style:f,children:E.map($=>n.jsx(I,{club:$},$.id))})]}),B.length>0&&n.jsxs("section",{children:[n.jsx("h2",{style:T,children:" Clubes Acadmicos"}),n.jsx("div",{style:f,children:B.map($=>n.jsx(I,{club:$},$.id))})]}),a.length===0&&n.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:n.jsx("p",{children:"No hay clubes registrados por el momento."})})]}),n.jsxs("section",{style:{background:"linear-gradient(135deg, var(--primary-color), var(--secondary-color))",borderRadius:"20px",padding:"40px 20px",textAlign:"center",color:"white",marginTop:"50px"},children:[n.jsx("h3",{style:{fontSize:"24px",marginBottom:"20px"},children:" Por qu unirte a un club?"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginTop:"30px"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Socializacin"}),n.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Conoce nuevos amigos con intereses similares"})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Habilidades"}),n.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Desarrolla talentos y competencias especiales"})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Logros"}),n.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Participa en competencias y eventos"})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Crecimiento"}),n.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Fortalece tu desarrollo personal"})]})]})]}),n.jsxs("section",{style:{background:t?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",padding:"30px",marginTop:"30px",boxShadow:t?"0 12px 35px rgba(0,0,0,0.6)":"0 8px 25px rgba(0,0,0,0.1)",textAlign:"center"},children:[n.jsx("h3",{style:{color:t?"#e6eef8":"#2c3e50",marginBottom:"15px"},children:" Cmo inscribirse?"}),n.jsx("p",{style:{color:t?"#c8cdd3":"#666",marginBottom:"20px",lineHeight:"1.6"},children:"Las inscripciones a clubes se realizan al inicio de cada semestre. Acrcate con el coordinador de actividades extracurriculares o pregunta a tu maestro tutor para ms informacin sobre horarios y requisitos."})]})]})]})},zy=({setCurrentView:s})=>{const[t,a]=v.useState([]),[o,c]=v.useState(!0),[u,p]=v.useState(null);v.useEffect(()=>{g()},[]);const g=async()=>{try{const{data:P,error:E}=await A.from("carreras_tecnicas").select("*").order("created_at",{ascending:!1});if(E)throw E;a(P||[])}catch(P){console.error("Error fetching careers:",P)}finally{c(!1)}};if(u)return n.jsx(My,{career:u,onBack:()=>p(null),setCurrentView:s});const x={paddingTop:"80px",minHeight:"100vh",backgroundColor:"#ffffff"},b={padding:"20px",maxWidth:"100%",margin:"0 auto"},_={fontSize:"28px",fontWeight:"bold",color:"#28a745",marginBottom:"25px",textAlign:"center"},f={background:"#e9f7ef",borderRadius:"15px",padding:"25px",marginBottom:"30px",boxShadow:"0 8px 25px rgba(0,0,0,0.1)",textAlign:"center"},j={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"25px",marginBottom:"40px"},S={background:"#f8fdf8",borderRadius:"15px",overflow:"hidden",boxShadow:"0 8px 25px rgba(0,0,0,0.1)",transition:"transform 0.3s ease, box-shadow 0.3s ease",border:"1px solid #28a745",cursor:"pointer"},N={padding:"25px"},k={fontSize:"20px",fontWeight:"bold",marginBottom:"15px",color:"#28a745"},T={fontSize:"14px",color:"#555",lineHeight:"1.6",marginBottom:"20px",minHeight:"60px"},I=({career:P})=>n.jsxs("div",{style:S,onClick:()=>p(P),onMouseEnter:E=>{E.currentTarget.style.transform="translateY(-8px)",E.currentTarget.style.boxShadow="0 15px 35px rgba(40, 167, 69, 0.3)"},onMouseLeave:E=>{E.currentTarget.style.transform="translateY(0)",E.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.1)"},children:[P.imagen_url&&n.jsx("div",{style:{width:"100%",height:"180px",overflow:"hidden"},children:n.jsx("img",{src:P.imagen_url,alt:P.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),n.jsxs("div",{style:N,children:[n.jsx("h3",{style:k,children:P.nombre}),n.jsx("p",{style:T,children:P.descripcion||"Formacin tcnica de excelencia"}),n.jsx("button",{style:{display:"inline-block",background:"#28a745",color:"white",padding:"10px 20px",borderRadius:"20px",border:"none",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.3s ease",width:"100%"},onMouseEnter:E=>E.target.style.backgroundColor="#218838",onMouseLeave:E=>E.target.style.backgroundColor="#28a745",children:"Ver ms informacin "})]})]});return n.jsxs("div",{style:x,children:[n.jsx(Nr,{onClick:()=>s("home")}),n.jsxs("div",{style:b,children:[n.jsx("h1",{style:_,children:" Programas Educativos"}),n.jsxs("section",{style:f,children:[n.jsx("h2",{style:{color:"#28a745",marginBottom:"20px"},children:"Formacin Tcnica de Excelencia"}),n.jsx("p",{style:{color:"#555",fontSize:"16px",lineHeight:"1.6",marginBottom:"20px"},children:"En el CBTA 134 ofrecemos programas educativos de nivel medio superior que combinan formacin acadmica slida con competencias tcnicas especializadas. Nuestros egresados estn preparados tanto para incorporarse al mercado laboral como para continuar estudios superiores."}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"20px",marginTop:"30px"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{color:"#28a745",fontSize:"24px",margin:"0 0 5px 0"},children:t.length}),n.jsx("p",{style:{color:"#555",fontSize:"14px",margin:0},children:"Carreras Tcnicas"})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{color:"#28a745",fontSize:"24px",margin:"0 0 5px 0"},children:"3"}),n.jsx("p",{style:{color:"#555",fontSize:"14px",margin:0},children:"Aos de Duracin"})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{color:"#28a745",fontSize:"24px",margin:"0 0 5px 0"},children:"100%"}),n.jsx("p",{style:{color:"#555",fontSize:"14px",margin:0},children:"Validez Oficial"})]})]})]}),n.jsx("section",{children:o?n.jsx("p",{style:{textAlign:"center",color:"#666"},children:"Cargando carreras tcnicas..."}):t.length>0?n.jsx("div",{style:j,children:t.map(P=>n.jsx(I,{career:P},P.id))}):n.jsx("p",{style:{textAlign:"center",color:"#999",padding:"40px"},children:"No hay carreras registradas por el momento."})})]})]})},My=({career:s,onBack:t,setCurrentView:a})=>{const o={paddingTop:"80px",minHeight:"100vh",backgroundColor:"#ffffff",padding:"80px 20px 40px 20px"},c={maxWidth:"900px",margin:"0 auto"},u={background:"#28a745",color:"white",padding:"40px",borderRadius:"15px",marginBottom:"30px",textAlign:"center"},p={background:"white",padding:"30px",borderRadius:"15px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",border:"1px solid #e0e0e0"},g={fontSize:"20px",fontWeight:"bold",color:"#28a745",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},x={fontSize:"16px",color:"#555",lineHeight:"1.8",whiteSpace:"pre-wrap"};return n.jsxs("div",{style:o,children:[n.jsx(Nr,{onClick:t,text:" Regresar a Carreras"}),n.jsxs("div",{style:c,children:[s.imagen_url&&n.jsx("div",{style:{width:"100%",height:"300px",borderRadius:"15px",overflow:"hidden",marginBottom:"20px"},children:n.jsx("img",{src:s.imagen_url,alt:s.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),n.jsxs("div",{style:u,children:[n.jsx("h1",{style:{margin:"0 0 10px 0",fontSize:"32px"},children:s.nombre}),s.descripcion&&n.jsx("p",{style:{margin:0,fontSize:"18px",opacity:.95},children:s.descripcion})]}),s.programa_competencia&&n.jsxs("div",{style:p,children:[n.jsx("h2",{style:g,children:" Programa de Competencias"}),n.jsx("p",{style:x,children:s.programa_competencia})]}),s.justificacion&&n.jsxs("div",{style:p,children:[n.jsx("h2",{style:g,children:" Justificacin"}),n.jsx("p",{style:x,children:s.justificacion})]}),s.perfil_egreso&&n.jsxs("div",{style:p,children:[n.jsx("h2",{style:g,children:" Perfil de Egreso"}),n.jsx("p",{style:x,children:s.perfil_egreso})]}),s.area_especializacion&&n.jsxs("div",{style:p,children:[n.jsx("h2",{style:g,children:" rea de Especializacin"}),n.jsx("p",{style:x,children:s.area_especializacion})]}),s.habilidades_socioemocionales&&n.jsxs("div",{style:p,children:[n.jsx("h2",{style:g,children:" Habilidades Socioemocionales"}),n.jsx("p",{style:x,children:s.habilidades_socioemocionales})]}),s.oportunidades_profesionales&&n.jsxs("div",{style:p,children:[n.jsx("h2",{style:g,children:" Oportunidades Profesionales"}),n.jsx("p",{style:x,children:s.oportunidades_profesionales})]}),s.plan_estudios_url&&n.jsxs("div",{style:{...p,padding:"30px"},children:[n.jsx("h2",{style:{...g,justifyContent:"center",textAlign:"center"},children:" Plan de Estudios"}),n.jsx("p",{style:{marginBottom:"20px",color:"#555",textAlign:"center"},children:"Vista previa del documento oficial del plan de estudios"}),n.jsx("div",{style:{marginBottom:"20px",borderRadius:"10px",overflow:"hidden",boxShadow:"0 4px 15px rgba(0,0,0,0.15)"},children:n.jsx("iframe",{src:`${s.plan_estudios_url}#page=${s.pdf_start_page||1}`,style:{width:"100%",height:"600px",border:"none"},title:"Plan de Estudios"})}),n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("a",{href:s.plan_estudios_url,download:!0,style:{display:"inline-block",background:"#28a745",color:"white",padding:"15px 30px",borderRadius:"25px",textDecoration:"none",fontSize:"16px",fontWeight:"bold",transition:"background-color 0.3s ease",boxShadow:"0 4px 10px rgba(40, 167, 69, 0.3)"},onMouseEnter:b=>b.target.style.backgroundColor="#218838",onMouseLeave:b=>b.target.style.backgroundColor="#28a745",children:" Descargar Plan de Estudios (PDF)"}),n.jsxs("p",{style:{marginTop:"10px",fontSize:"13px",color:"#777"},children:["Mostrando desde la pgina ",s.pdf_start_page||1]})]})]})]})]})},qy=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},Hy=({setCurrentView:s})=>{const t=qy(),[a,o]=v.useState(null),[c,u]=v.useState([]),[p,g]=v.useState([]),[x,b]=v.useState(null),[_,f]=v.useState([]),[j,S]=v.useState(null);v.useEffect(()=>{(async()=>{const{data:re}=await A.from("contact_main").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:be}=await A.from("contact_directory").select("*").order("order_index",{ascending:!0}),{data:we}=await A.from("contact_social").select("*").order("order_index",{ascending:!0}),{data:Be}=await A.from("contact_location").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:Te}=await A.from("contact_faq").select("*").order("order_index",{ascending:!0}),{data:Xe}=await A.from("contact_cta").select("*").order("created_at",{ascending:!1}).limit(1).single();o(re||null),u(be||[]),g(we||[]),b(Be||null),f(Te||[]),S(Xe||null)})()},[]);const N={paddingTop:"80px",minHeight:"100vh",backgroundColor:t?"#0f1720":"#f8f9fa"},k={padding:"20px",maxWidth:"100%",margin:"0 auto"},T={fontSize:"28px",fontWeight:"bold",color:t?"#e6eef8":"#2c3e50",marginBottom:"25px",textAlign:"center"},I={background:t?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",padding:"25px",marginBottom:"25px",boxShadow:t?"0 12px 35px rgba(2,6,23,0.7)":"0 8px 25px rgba(0,0,0,0.1)"},P={fontSize:"20px",fontWeight:"bold",color:t?"#93c5fd":"#3498db",marginBottom:"20px",textAlign:"center"},E={display:"flex",alignItems:"flex-start",marginBottom:"20px",padding:"15px",backgroundColor:t?"rgba(255,255,255,0.02)":"#f8f9fa",borderRadius:"10px",border:t?"1px solid rgba(255,255,255,0.05)":"1px solid #e9ecef"},B={fontSize:"24px",marginRight:"15px",marginTop:"2px",flexShrink:0},$={color:t?"#93c5fd":"#3498db",textDecoration:"none",transition:"color 0.3s ease"},U={borderRadius:"15px",overflow:"hidden",boxShadow:t?"0 8px 25px rgba(0,0,0,0.6)":"0 4px 15px rgba(0,0,0,0.2)"},H={display:"inline-block",background:"linear-gradient(135deg, #1877f2, #42a5f5)",color:"white",padding:"15px 30px",borderRadius:"25px",textDecoration:"none",fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(24, 119, 242, 0.3)"};return n.jsxs("div",{style:N,children:[n.jsx(Nr,{onClick:()=>s("home")}),n.jsxs("div",{style:k,children:[n.jsx("h1",{style:T,children:" Contacto"}),n.jsxs("section",{style:I,children:[n.jsx("h2",{style:P,children:" Informacin de Contacto"}),n.jsxs("div",{style:E,children:[n.jsx("span",{style:B,children:""}),n.jsxs("div",{children:[n.jsx("strong",{children:"Direccin:"}),n.jsx("br",{}),(a==null?void 0:a.address_line1)||"CARRETERA TETLANOHCAN A MALINTZIN KILMETRO NUM. 3",n.jsx("br",{}),(a==null?void 0:a.address_line2)||"San Francisco, Mxico, 90800",a!=null&&a.address_line3?n.jsxs(n.Fragment,{children:[n.jsx("br",{}),a.address_line3]}):null]})]}),n.jsxs("div",{style:E,children:[n.jsx("span",{style:B,children:""}),n.jsxs("div",{children:[n.jsx("strong",{children:"Telfono:"}),n.jsx("br",{}),n.jsx("a",{href:a!=null&&a.phone?`tel:${a.phone.replace(/\s/g,"")}`:"tel:+522464623456",style:$,children:(a==null?void 0:a.phone)||"01 (246) 46 2 34 56"})]})]}),n.jsxs("div",{style:E,children:[n.jsx("span",{style:B,children:""}),n.jsxs("div",{children:[n.jsx("strong",{children:"Correo Electrnico:"}),n.jsx("br",{}),n.jsx("a",{href:a!=null&&a.email?`mailto:${a.email}`:"mailto:cbta134@yahoo.com.mx",style:$,children:(a==null?void 0:a.email)||"cbta134@yahoo.com.mx"})]})]}),n.jsxs("div",{style:E,children:[n.jsx("span",{style:B,children:""}),n.jsxs("div",{children:[n.jsx("strong",{children:"Sitio Web:"}),n.jsx("br",{}),n.jsx("a",{href:(a==null?void 0:a.website)||"http://www.cbta134.edu.mx/",target:"_blank",rel:"noopener noreferrer",style:$,children:(a==null?void 0:a.website)||"www.cbta134.edu.mx"})]})]}),n.jsxs("div",{style:E,children:[n.jsx("span",{style:B,children:""}),n.jsxs("div",{children:[n.jsx("strong",{children:"Calificacin:"}),n.jsx("br",{}),(a==null?void 0:a.rating_text)||"Recomendado por el 92% (17 opiniones)"]})]}),n.jsxs("div",{style:E,children:[n.jsx("span",{style:B,children:""}),n.jsxs("div",{children:[n.jsx("strong",{children:"Horario de Atencin:"}),n.jsx("br",{}),n.jsx("span",{style:{color:"#28a745",fontWeight:"bold"},children:(a==null?void 0:a.status_text)||" Abierto ahora"}),n.jsx("br",{}),(a==null?void 0:a.hours_line1)||"Lunes a Viernes: 7:00 AM - 4:00 PM",n.jsx("br",{}),(a==null?void 0:a.hours_line2)||"Sbados: 8:00 AM - 12:00 PM"]})]})]}),n.jsxs("section",{style:I,children:[n.jsx("h2",{style:P,children:" Directorio"}),c.map(G=>n.jsxs("div",{style:E,children:[n.jsx("span",{style:B,children:G.icon||""}),n.jsxs("div",{children:[n.jsx("strong",{children:G.title}),n.jsx("br",{}),G.detail]})]},G.id))]}),n.jsxs("section",{style:I,children:[n.jsx("h2",{style:P,children:" Sguenos en Redes Sociales"}),n.jsx("div",{style:{textAlign:"center"},children:p.length===0?n.jsxs(n.Fragment,{children:[n.jsx("a",{href:"https://www.facebook.com/share/15g75ZdJRg/",target:"_blank",rel:"noopener noreferrer",style:H,onMouseEnter:G=>G.target.style.transform="translateY(-3px)",onMouseLeave:G=>G.target.style.transform="translateY(0)",children:" Facebook Oficial"}),n.jsx("p",{style:{color:t?"#bfc7cf":"#666",marginTop:"15px"},children:"Mantente informado sobre noticias, eventos y actividades de nuestra institucin"})]}):p.map(G=>n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("a",{href:G.url,target:"_blank",rel:"noopener noreferrer",style:H,onMouseEnter:re=>re.target.style.transform="translateY(-3px)",onMouseLeave:re=>re.target.style.transform="translateY(0)",children:[G.icon||""," ",G.name]}),n.jsx("p",{style:{color:t?"#bfc7cf":"#666",marginTop:"10px"},children:G.description})]},G.id))})]}),n.jsxs("section",{style:I,children:[n.jsx("h2",{style:P,children:" Ubicacin"}),n.jsx("p",{style:{textAlign:"center",marginBottom:"20px",color:"#666"},children:(x==null?void 0:x.address_text)||"CARRETERA TETLANOHCAN A MALINTZIN KILMETRO NUM. 3, San Francisco, Mxico"}),n.jsx("div",{style:U,children:n.jsx("iframe",{title:"Ubicacin CBTA 134",src:(x==null?void 0:x.map_embed_url)||"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3771.8962250553377!2d-98.14220228509102!3d19.261621686935783!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85cfdd8ebaaaaaab%3A0x27dafbca82bfb2a0!2sCarretera%20Tetlanohcan%20a%20Malintzin%2C%20San%20Francisco%2C%20Tlax.!5e0!3m2!1sen!2smx!4v1648000000000!5m2!1sen!2smx",width:"100%",height:"400",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),n.jsxs("section",{style:I,children:[n.jsx("h2",{style:P,children:" Preguntas Frecuentes"}),_.map(G=>n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{color:t?"#e6eef8":"#2c3e50",marginBottom:"8px"},children:G.question}),n.jsx("p",{style:{color:t?"#bfc7cf":"#666",marginBottom:"15px"},children:G.answer})]},G.id))]}),n.jsxs("section",{className:"contacto-info-section",style:{...I,background:t?"linear-gradient(135deg, #1e3c72, #2a5298)":"linear-gradient(135deg, #667eea, #764ba2)",color:"white",textAlign:"center"},children:[n.jsx("h2",{style:{...P,color:"white"},children:(j==null?void 0:j.title)||" Necesitas ms informacin?"}),n.jsx("p",{style:{marginBottom:"20px",fontSize:"16px",color:"white"},children:(j==null?void 0:j.description)||"Estamos aqu para ayudarte. No dudes en contactarnos para resolver todas tus dudas sobre nuestros programas educativos, proceso de admisin o cualquier otra consulta."}),n.jsx("div",{style:{background:"rgba(255,255,255,0.2)",borderRadius:"10px",padding:"20px",marginTop:"20px",backdropFilter:"blur(10px)"},children:n.jsx("p",{style:{margin:0,fontWeight:"bold",color:"white"},children:(j==null?void 0:j.highlight_text)||" Tu futuro comienza aqu en el CBTA 134! "})})]})]})]})},Vy=()=>{const[s,t]=v.useState(null),[a,o]=v.useState([]);return v.useEffect(()=>{(async()=>{const{data:u}=await A.from("credits_config").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:p}=await A.from("credits_authors").select("*").order("order_index",{ascending:!0});t(u||null),o(p||[])})()},[]),n.jsxs("div",{style:{minHeight:"100vh",padding:"80px 20px 40px",background:"#f8f9fa"},children:[n.jsx(Nr,{onClick:()=>window.history.back()}),n.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",background:"white",borderRadius:"20px",padding:"30px",boxShadow:"0 15px 35px rgba(0,0,0,0.1)"},children:[n.jsx("h1",{style:{textAlign:"center",color:"#2c3e50",marginBottom:"10px"},children:(s==null?void 0:s.title)||"Crditos"}),n.jsx("p",{style:{textAlign:"center",color:"#666",marginBottom:"30px"},children:(s==null?void 0:s.subtitle)||"Autores de la pgina"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:"20px"},children:a.map(c=>n.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"15px",padding:"20px",border:"1px solid #e9ecef"},children:[n.jsx("img",{src:c.photo_url||"/images/cbta134.png",alt:c.full_name,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"12px",marginBottom:"12px"}}),n.jsx("h3",{style:{color:"#2c3e50",marginBottom:"6px"},children:c.full_name}),n.jsx("p",{style:{color:"#28a745",fontWeight:"bold",marginBottom:"8px"},children:c.career}),n.jsx("p",{style:{color:"#666",fontSize:"0.95rem"},children:c.description})]},c.id))}),(s==null?void 0:s.license_text)&&n.jsxs("div",{style:{marginTop:"30px",background:"#eef2ff",borderRadius:"12px",padding:"20px"},children:[n.jsx("h3",{style:{color:"#1e3a8a",marginBottom:"10px"},children:(s==null?void 0:s.license_title)||"Licencia"}),n.jsx("p",{style:{color:"#374151"},children:s.license_text})]})]})]})},Wy=()=>{const[s,t]=v.useState({conversations:[],activeId:null}),[a,o]=v.useState(""),[c,u]=v.useState(!1),[p,g]=v.useState(null),x=v.useRef(null);v.useEffect(()=>{(async()=>{const B=await Mf();if(B.conversations.length)t(B);else{const $=Mu("Camalen IA");$.messages.push({id:`msg-${Date.now()}`,text:"Hola! Soy **Camalen IA**, tu asistente virtual del CBTA 134. En qu puedo ayudarte hoy?",sender:"bot",createdAt:new Date().toISOString()});const U={conversations:[$],activeId:$.id};t(U),await ld(U)}})()},[]),v.useEffect(()=>{s.conversations.length&&ld(s)},[s]),v.useEffect(()=>{(async()=>{const{data:B,error:$}=await A.from("chatbot_config").select("*").order("updated_at",{ascending:!1}).limit(1).maybeSingle();$||g(B||null)})()},[]),v.useEffect(()=>{var E;(E=x.current)==null||E.scrollIntoView({behavior:"smooth"})},[s,c]);const b=v.useMemo(()=>yn(s),[s]),_=E=>E?E.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br />"):"",f=E=>E.replace(/<[^>]*>/g,""),j=(E,B)=>B?B.replace(/\/$/,""):E==="groq"?"https://api.groq.com/openai/v1":E==="gemini"?"https://generativelanguage.googleapis.com/v1beta":"https://api.groq.com/openai/v1",S=E=>E==="groq"?(p==null?void 0:p.groq_api_key)||(p==null?void 0:p.api_key)||"":E==="gemini"?(p==null?void 0:p.gemini_api_key)||(p==null?void 0:p.api_key)||"":(p==null?void 0:p.api_key)||"",N=async()=>{if(!(p!=null&&p.enable_db_context))return"";const{data:E,error:B}=await A.rpc("get_chatbot_context");return B?"":JSON.stringify(E||{},null,2)},k=async({providerToUse:E,fullSystemPrompt:B,historyMessages:$})=>{var Be,Te,Xe,ye,Ie,Ce,D,X;const U=S(E);if(!U)throw new Error(`No hay API key configurada para ${E}.`);const H=j(E,(p==null?void 0:p.base_url)||""),G=(p==null?void 0:p.model)||(E==="gemini"?"gemini-3.0-flash":"llama-3.1-8b-instant"),re=E==="gemini"?`${H}/models/${G}:generateContent?key=${U}`:`${H}/chat/completions`,be=await fetch(re,{method:"POST",headers:{"Content-Type":"application/json",...E==="gemini"?{}:{Authorization:`Bearer ${U}`}},body:JSON.stringify(E==="gemini"?{contents:[{parts:[{text:`${B}

Historial de la conversacin:
${$.map(K=>`${K.role==="user"?"Usuario":"Chatbot"}: ${K.content}`).join(`
`)}

Usuario: ${a}`}]}]}:{model:G,messages:[{role:"system",content:B},...$,{role:"user",content:a}],temperature:.3})});if(!be.ok){const K=await be.text();throw new Error(`Error de la API (${E}): ${be.status} - ${K}`)}const we=await be.json();if(E==="gemini"&&((Ie=(ye=(Xe=(Te=(Be=we.candidates)==null?void 0:Be[0])==null?void 0:Te.content)==null?void 0:Xe.parts)==null?void 0:ye[0])!=null&&Ie.text))return we.candidates[0].content.parts[0].text;if((X=(D=(Ce=we.choices)==null?void 0:Ce[0])==null?void 0:D.message)!=null&&X.content)return we.choices[0].message.content;throw we.error?new Error(we.error.message):new Error("Respuesta no vlida del proveedor.")},T=async E=>{if(E.preventDefault(),!a.trim()||!b||p&&p.enabled===!1)return;const B={id:`msg-${Date.now()}`,text:a,sender:"user",createdAt:new Date().toISOString()};try{await A.from("chatbot_questions").insert([{question_text:a,source_page:window.location.pathname,conversation_id:b.id,user_agent:navigator.userAgent}])}catch{}t($=>{const U=yn($);if(!U)return $;const H={...U,messages:[...U.messages,B]};return Ua($,H)}),o(""),u(!0);try{const $=await N(),U=((p==null?void 0:p.system_prompt)||th).trim(),H=$?`${U}

Contexto de la base de datos (JSON):
${$}`:U,G=b.messages.slice(-10).map(ye=>({role:ye.sender==="user"?"user":"assistant",content:f(ye.text)})),re=((p==null?void 0:p.provider)||"groq").toLowerCase(),be=((p==null?void 0:p.primary_provider)||re||"groq").toLowerCase(),we=(p==null?void 0:p.fallback_enabled)===!0,Be=be==="groq"?"gemini":"groq";let Te=null;try{Te=await k({providerToUse:we?be:re,fullSystemPrompt:H,historyMessages:G})}catch(ye){if(we)Te=await k({providerToUse:Be,fullSystemPrompt:H,historyMessages:G});else throw ye}const Xe={id:`msg-${Date.now()}`,text:Te,sender:"bot",createdAt:new Date().toISOString()};t(ye=>{const Ie=yn(ye);if(!Ie)return ye;const Ce={...Ie,messages:[...Ie.messages,Xe]};return Ua(ye,Ce)})}catch($){const U={id:`msg-${Date.now()}`,text:`Error: ${$.message}`,sender:"bot",createdAt:new Date().toISOString()};t(H=>{const G=yn(H);if(!G)return H;const re={...G,messages:[...G.messages,U]};return Ua(H,re)})}u(!1)},I=()=>{const E=Mu("Nueva conversacin"),B={conversations:[E,...s.conversations],activeId:E.id};t(B)},P=E=>{t(B=>Jb(B,E))};return n.jsxs("div",{className:"chatbot-full",children:[n.jsxs("aside",{className:"chatbot-sidebar",children:[n.jsxs("div",{className:"sidebar-header",children:[n.jsx("h2",{children:"Camalen IA"}),n.jsx("button",{onClick:I,children:"Nueva"})]}),n.jsx("div",{className:"chat-list",children:s.conversations.map(E=>n.jsxs("button",{className:`chat-list-item ${E.id===s.activeId?"active":""}`,onClick:()=>P(E.id),children:[n.jsx("span",{children:E.title}),n.jsxs("small",{children:[E.messages.length," mensajes"]})]},E.id))})]}),n.jsxs("main",{className:"chatbot-main",children:[n.jsxs("header",{className:"chatbot-main-header",children:[n.jsxs("div",{children:[n.jsx("h3",{children:(b==null?void 0:b.title)||"Camalen IA"}),n.jsx("p",{children:"Asistente institucional CBTa 134"})]}),n.jsx("button",{onClick:()=>window.close(),className:"close-full",children:"Cerrar"})]}),n.jsxs("section",{className:"chatbot-main-messages",children:[b==null?void 0:b.messages.map(E=>n.jsx("div",{className:`full-message ${E.sender}`,children:n.jsx("div",{dangerouslySetInnerHTML:{__html:_(E.text)}})},E.id)),c&&n.jsx("div",{className:"full-message bot",children:"Escribiendo..."}),n.jsx("div",{ref:x})]}),n.jsxs("form",{className:"chatbot-main-input",onSubmit:T,children:[n.jsx("input",{value:a,onChange:E=>o(E.target.value),placeholder:"Escribe tu mensaje..."}),n.jsx("button",{type:"submit",disabled:c,children:"Enviar"})]})]})]})},Gy=({onBack:s})=>{const[t,a]=v.useState(!0),[o,c]=v.useState(null),[u,p]=v.useState([]),[g,x]=v.useState([]),[b,_]=v.useState([]),[f,j]=v.useState([]),[S,N]=v.useState({days:0,hours:0,minutes:0,seconds:0});return v.useEffect(()=>{const k=()=>{const I=(o==null?void 0:o.target_date)||"2026-06-15T00:00:00",B=new Date(I)-new Date;B>0?N({days:Math.floor(B/864e5),hours:Math.floor(B/36e5%24),minutes:Math.floor(B/1e3/60%60),seconds:Math.floor(B/1e3%60)}):N({days:0,hours:0,minutes:0,seconds:0})};k();const T=setInterval(k,1e3);return()=>clearInterval(T)},[o]),v.useEffect(()=>{(async()=>{a(!0);const{data:T}=await A.from("baetam_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:I}=await A.from("baetam_info_cards").select("*").order("order_index",{ascending:!0}),{data:P}=await A.from("baetam_requirements").select("*").order("order_index",{ascending:!0}),{data:E}=await A.from("baetam_advantages").select("*").order("order_index",{ascending:!0}),{data:B}=await A.from("baetam_contact_lines").select("*").order("order_index",{ascending:!0});c(T||null),p(I||[]),x(P||[]),_(E||[]),j(B||[]),a(!1)})()},[]),n.jsxs("div",{className:"baetam-page",children:[n.jsx("button",{className:"back-button",onClick:s,children:" Regresar al inicio"}),n.jsxs("div",{className:"baetam-container",children:[n.jsxs("div",{className:"baetam-header",children:[n.jsx("img",{src:(o==null?void 0:o.hero_image_url)||"/baetam/baetam.jpg",alt:"BAETAM - Bachillerato Autoplaneado",className:"baetam-hero-image"}),n.jsxs("div",{className:"baetam-header-content",children:[n.jsx("h1",{className:"baetam-title",children:(o==null?void 0:o.title)||"BAETAM"}),n.jsx("h2",{className:"baetam-subtitle",children:(o==null?void 0:o.subtitle)||"Bachillerato Autoplaneado de Educacin Tecnolgica Agropecuaria y del Mar"})]})]}),n.jsx("div",{className:"baetam-info",children:u.map(k=>n.jsxs("div",{className:"info-card",children:[n.jsx("h3",{children:k.title}),n.jsx("p",{children:k.description})]},k.id))}),n.jsxs("div",{className:"inscriptions-section",children:[n.jsx("h2",{className:"section-title",children:(o==null?void 0:o.inscriptions_title)||"Prximas Inscripciones"}),n.jsxs("div",{className:"inscription-period",children:[n.jsx("h3",{children:(o==null?void 0:o.inscriptions_period_title)||" Perodo de Inscripciones: Mayo - Junio 2026"}),n.jsx("p",{children:(o==null?void 0:o.inscriptions_period_description)||"Las inscripciones para el nuevo ciclo escolar estarn abiertas durante los meses de mayo y junio de 2026."})]}),n.jsxs("div",{className:"countdown-section",children:[n.jsx("h3",{children:(o==null?void 0:o.countdown_label)||" Tiempo restante para las inscripciones:"}),n.jsxs("div",{className:"countdown-timer",children:[n.jsxs("div",{className:"time-unit",children:[n.jsx("span",{className:"time-number",children:S.days}),n.jsx("span",{className:"time-label",children:"Das"})]}),n.jsx("div",{className:"time-separator",children:":"}),n.jsxs("div",{className:"time-unit",children:[n.jsx("span",{className:"time-number",children:S.hours.toString().padStart(2,"0")}),n.jsx("span",{className:"time-label",children:"Horas"})]}),n.jsx("div",{className:"time-separator",children:":"}),n.jsxs("div",{className:"time-unit",children:[n.jsx("span",{className:"time-number",children:S.minutes.toString().padStart(2,"0")}),n.jsx("span",{className:"time-label",children:"Minutos"})]}),n.jsx("div",{className:"time-separator",children:":"}),n.jsxs("div",{className:"time-unit",children:[n.jsx("span",{className:"time-number",children:S.seconds.toString().padStart(2,"0")}),n.jsx("span",{className:"time-label",children:"Segundos"})]})]}),n.jsx("p",{className:"countdown-date",children:(o==null?void 0:o.countdown_date_text)||" Inicio de inscripciones: 15 de Junio de 2026"})]})]}),n.jsxs("div",{className:"requirements-section",children:[n.jsx("h2",{className:"section-title",children:(o==null?void 0:o.requirements_title)||"Requisitos de Ingreso"}),n.jsx("div",{className:"requirements-grid",children:g.map(k=>n.jsxs("div",{className:"requirement-item",children:[n.jsx("span",{className:"requirement-icon",children:k.icon}),n.jsx("p",{children:k.text})]},k.id))})]}),n.jsxs("div",{className:"advantages-section",children:[n.jsx("h2",{className:"section-title",children:(o==null?void 0:o.advantages_title)||"Por qu elegir BAETAM?"}),n.jsx("div",{className:"advantages-grid",children:b.map(k=>n.jsxs("div",{className:"advantage-card",children:[n.jsx("h4",{children:k.title}),n.jsx("p",{children:k.description})]},k.id))})]}),n.jsxs("div",{className:"contact-section",children:[n.jsx("h2",{className:"section-title",children:(o==null?void 0:o.contact_title)||"Necesitas ms informacin?"}),n.jsx("p",{children:(o==null?void 0:o.contact_description)||"Contctanos para resolver todas tus dudas sobre BAETAM"}),n.jsx("div",{className:"contact-info",children:f.map(k=>n.jsx("p",{children:k.line_text},k.id))})]})]})]})},Ky=()=>{const[s,t]=v.useState([]),a=[{image:"/images/valores.png",title:"Acerca de CBTa 134",description:"Conoce nuestra historia, misin, visin y valores que nos definen como institucin.",path:"acerca"},{image:"/images/programacion.jpg",title:"Carreras Tcnicas",description:"Descubre nuestras especialidades tcnicas y elige tu futuro profesional.",path:"carreras"},{image:"/images/galeria.png",title:"Galera",description:"Explora nuestra coleccin de fotos y eventos destacados.",path:"galeria"},{image:"/images/proceso de admincion.jpg",title:"Proceso de Admisin",description:"Informacin sobre requisitos y pasos para formar parte de nuestra institucin.",path:"admission"},{image:"/images/campus.png",title:"Clubs Estudiantiles",description:"nete a nuestros clubs deportivos, culturales y acadmicos.",path:"clubs"},{image:"/images/ofimatica.jpg",title:"Contacto",description:"Informacin de contacto y ubicacin de nuestra institucin.",path:"contacto"},{image:"/images/baetam.jpg",title:"BAETAM",description:"Bachillerato Autoplaneado - Educacin flexible para adultos.",path:"baetam"},{image:"/images/maestros-hero.png",title:"Maestros",description:"Recursos y enlaces utiles para el personal docente.",path:"maestros"},{image:"/images/alumnos-hero.png",title:"Alumnos",description:"Portal de alumnos para acceso a calificaciones y servicios.",path:"alumnos"}];v.useEffect(()=>{(async()=>{const{data:H}=await A.from("home_options").select("*").order("order_index",{ascending:!0});H&&H.length>0?t(H):t(a.map((G,re)=>({id:re+1,image_url:G.image,title:G.title,description:G.description,path:G.path})))})()},[]);const[o,c]=v.useState(()=>{const U=localStorage.getItem("appOptions");return U?JSON.parse(U):a}),[u,p]=v.useState("home"),[g,x]=v.useState(!1);v.useState("phone");const b=()=>{const U=new Date().getHours();return U>=6&&U<18},_=so(),f=Ws(),[j,S]=v.useState(()=>{const U=localStorage.getItem("manualModeOverride");return U!==null?JSON.parse(U):b()}),[N,k]=v.useState(()=>{const U=localStorage.getItem("isAutoMode");return U?JSON.parse(U):!0});v.useEffect(()=>{localStorage.setItem("appOptions",JSON.stringify(o))},[o]),v.useEffect(()=>{localStorage.setItem("isLightMode",JSON.stringify(!0)),localStorage.setItem("isAutoMode",JSON.stringify(N)),document.body.className="light-mode"},[N]),v.useEffect(()=>{if(N){const U=setInterval(()=>{const H=b();H!==j&&S(H)},6e4);return()=>clearInterval(U)}},[N,j]);const T=U=>()=>{U==="alumnos"?_("/alumnos"):U==="maestros"?_("/maestros"):(p(U),f.pathname!=="/"&&_("/")),x(!1)},I=()=>{N?(k(!1),S(!j),localStorage.setItem("manualModeOverride",JSON.stringify(!j))):(S(!j),localStorage.setItem("manualModeOverride",JSON.stringify(!j)))},P=()=>{N?(k(!1),localStorage.setItem("manualModeOverride",JSON.stringify(j))):(k(!0),S(b()),localStorage.removeItem("manualModeOverride"))},E=()=>{x(!g)},B=()=>{const U=()=>p("home");switch(u){case"acerca":return n.jsx(ay,{onBack:U});case"valores":return n.jsx(sy,{onBack:U});case"noticias":return n.jsx(Ay,{onBack:U});case"carreras":return n.jsx(zy,{setCurrentView:p});case"galeria":return n.jsx(By,{setCurrentView:p});case"admission":return n.jsx(ky,{onBack:U});case"nosotros":return n.jsx(Dy,{setCurrentView:p});case"clubs":return n.jsx(Fy,{setCurrentView:p});case"contacto":return n.jsx(Hy,{setCurrentView:p});case"saetam":return n.jsx(Cy,{onBack:U});case"maestros":return null;case"baetam":return n.jsx(Gy,{onBack:U});default:return n.jsxs(n.Fragment,{children:[n.jsx(Ib,{}),n.jsx("main",{className:"main-content",children:n.jsxs("div",{className:"navigation-cards",children:[n.jsx("h2",{className:"navigation-title",children:"Navega por Nuestras Secciones"}),n.jsx("div",{className:"options-grid",children:s.map(H=>n.jsxs("div",{className:"option-card",onClick:T(H.path),children:[n.jsx("img",{src:H.image_url,alt:H.title,className:"option-image"}),n.jsxs("div",{className:"option-content",children:[n.jsx("h3",{className:"option-title",children:H.title}),n.jsx("p",{className:"option-description",children:H.description}),n.jsx("button",{className:"option-button",children:"Ver ms"})]})]},H.id))})]})})]})}},$=f.pathname!=="/alumnos"&&f.pathname!=="/maestros"&&f.pathname!=="/maestros/admin"&&f.pathname!=="/chatbot";return n.jsxs("div",{className:"app light-mode",children:[$&&n.jsx(Pb,{toggleMode:I,toggleAutoMode:P,isLightMode:j,isAutoMode:N,toggleNav:E,isNavActive:g,currentView:u,setCurrentView:p}),n.jsx("div",{className:$?"app-content":"app-content-fullscreen",children:n.jsxs(yg,{children:[n.jsx(Ms,{path:"/",element:B()}),n.jsx(Ms,{path:"/creditos",element:n.jsx(Vy,{})}),n.jsx(Ms,{path:"/alumnos",element:n.jsx(Ry,{})}),n.jsx(Ms,{path:"/maestros",element:n.jsx(Ty,{})}),n.jsx(Ms,{path:"/maestros/admin",element:n.jsx(Iy,{})}),n.jsx(Ms,{path:"/chatbot",element:n.jsx(Wy,{})}),n.jsx(Ms,{path:"*",element:B()})]})}),$&&n.jsxs(n.Fragment,{children:[n.jsx(Ob,{}),n.jsx(Qb,{})]})]})};Tm.createRoot(document.getElementById("root")).render(n.jsx(v.StrictMode,{children:n.jsx(qg,{children:n.jsx(Ky,{})})}));
